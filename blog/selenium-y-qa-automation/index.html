<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Selenium y QA Automation | El blog de MagMax</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Veremos cómo utilizar Selenium para automatizar pruebas de calidad, usando Python y Java.">
    <meta name="generator" content="Hugo 0.79.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="Selenium y QA Automation" />
<meta property="og:description" content="Veremos cómo utilizar Selenium para automatizar pruebas de calidad, usando Python y Java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/selenium-y-qa-automation/" />
<meta property="article:published_time" content="2013-03-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2013-03-08T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta itemprop="name" content="Selenium y QA Automation">
<meta itemprop="description" content="Veremos cómo utilizar Selenium para automatizar pruebas de calidad, usando Python y Java.">
<meta itemprop="datePublished" content="2013-03-08T00:00:00+00:00" />
<meta itemprop="dateModified" content="2013-03-08T00:00:00+00:00" />
<meta itemprop="wordCount" content="1418">



<meta itemprop="keywords" content="selenium,python,java,automation," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Selenium y QA Automation"/>
<meta name="twitter:description" content="Veremos cómo utilizar Selenium para automatizar pruebas de calidad, usando Python y Java."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        El blog de MagMax
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="" title="Inicio page">
              Inicio
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../en" title="English page">
              English
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://magmax.org/blog/selenium-y-qa-automation/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://magmax.org/blog/selenium-y-qa-automation/&amp;text=Selenium%20y%20QA%20Automation" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://magmax.org/blog/selenium-y-qa-automation/&amp;title=Selenium%20y%20QA%20Automation" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Selenium y QA Automation</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2013-03-08T00:00:00Z">March 8, 2013</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>En el mundo de la automatización de pruebas, <a href="https://docs.seleniumhq.org/">Selenium</a> arrasa. Existen otras alternativas, pero lo cierto es que todo el mundo utiliza <a href="https://docs.seleniumhq.org/">Selenium</a>.</p>
<p>Hay distintas formas de utilizarlo, y aquí veremos algunas de ellas. He elegido Python porque es mi lenguaje favorito y Java porque es el lenguaje en el que está hecho <a href="https://docs.seleniumhq.org/">Selenium</a>.</p>
<!-- raw HTML omitted -->
<figure>
    <img src="/images/selenium.jpg"
         alt="Selenium"/> 
</figure>

<h2 id="qué-es">¿Qué es?</h2>
<p><a href="https://docs.seleniumhq.org/">Selenium</a> es un conjunto de herramientas que permiten la automatización de navegaciones Web. En general, esto tiene dos usos:</p>
<ul>
<li>Automatizar pruebas web.</li>
<li>Automatizar tareas web muy repetitivas.</li>
</ul>
<p>En general, y aunque puede usarse para navegar, llamaremos &ldquo;Test&rdquo; a cada uno de los scripts que usemos.</p>
<p>Probablemente leáis en la web acerca de otra opción, llamada <strong>Webdriver</strong>, pero éste es el nombre que recibe Selenium 2. A veces la información al respecto está un poco confusa.</p>
<h2 id="cómo-funciona">¿Cómo funciona?</h2>
<p>Existen distintas maneras de usarlo, algunas mejores y otras peores:</p>
<ul>
<li>Mediante el <a href="https://docs.seleniumhq.org/docs/02_selenium_ide.jsp">Selenium IDE</a>.</li>
<li>Usando el driver adecuado.</li>
<li>Arrancando un servidor y conectándonos a él</li>
<li>En modo Hub.</li>
</ul>
<p>Veremos cada uno de ellos en las siguientes secciones.</p>
<h3 id="selenium-ide">Selenium IDE</h3>
<p>Consiste en un plugin para Firefox que nos permitirá guardar las acciones que realicemos para después reproducirlas. Realmente lo que hace es guardar un script que después lanzará contra el servidor (ver siguiente apartado).</p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>Es muy fácil para comenzar y realizar algunas pruebas básicas.</li>
<li>Todo mediante <em>clicks</em> de ratón.</li>
<li>No es necesario un aprendizaje previo.</li>
</ul>
<p><strong>Desventajas</strong>:</p>
<ul>
<li>Aunque al principio parece muy interesante, pronto se descubre que realizar las pruebas así es lento.</li>
<li>No se puede reutilizar nada. Hay que comenzar desde el principio.</li>
<li>No permite ningún tipo de organización, más allá de agrupar en módulos.</li>
<li>Es necesario tener el navegador arrancado.</li>
<li>Sólo funciona con Firefox.</li>
<li>Las pruebas tienen que ser locales; no se pueden lanzar en remoto.</li>
</ul>
<p>En general es un modo que puede ser interesante para aprender, para ver cómo hacer algo que no sabemos hacer a mano o para <em>scriptar</em> una navegación frecuente o dos sobre una página.</p>
<h3 id="driver-especifico">Driver especifico</h3>
<p>Esta opción es NO usar <a href="https://docs.seleniumhq.org/">Selenium</a>, sino un driver a medida, como el <a href="https://code.google.com/p/selenium/wiki/ChromeDriver">ChromeDriver</a>. La propia API ya puede utilizar el driver adecuado y así realizar la operación adecuada, sin necesidad de ejecutar servidores.</p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>Fácil para comenzar a usar la API.</li>
<li>Permite organizar el código.</li>
<li>Abrirá el navegador adecuado.</li>
<li>Ofrece una API común a todos los navegadores.</li>
</ul>
<p><strong>Desventajas</strong>:</p>
<ul>
<li>El código es dependiente del navegador.</li>
<li>No se puede ejecutar remotamente.</li>
</ul>
<p>Si usamos Chrome, usando el ChromeDriver tendríamos mucha más versatilidad, pero la API no sería común con otros navegadores.</p>
<h3 id="servidor">Servidor</h3>
<p>Al arrancar el servidor y usar una API podremos obtener mayor control y realizar las pruebas en remoto. En estas pruebas podremos indicarle al servidor qué navegador queremos arrancar para ejecutar las pruebas.</p>
<p>Luego veremos cómo usar esta API.</p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>Se puede utilizar de forma remota.</li>
<li>El servidor puede estar arrancado y abrirá el navegador adecuado.</li>
<li>El código se puede organizar como si fuera de producción. Esto también permite guardarlo en un DVCS.</li>
</ul>
<p><strong>Desventajas</strong>:</p>
<ul>
<li>Sólo puede ejecutar un script simultáneamente.</li>
<li>Perdemos parte de la potencia de cada API individual, a favor de una API común a todos los navegadores.</li>
</ul>
<h3 id="modo-hub">Modo Hub</h3>
<p>En este caso lo que tenemos son servidores que se conectan a otro servidor principal, al que llamaremos <strong>Hub</strong>. Este <em>Hub</em> mantiene una lista (&quot;<em>pool</em>&quot;) de tests que irá repartiendo entre sus &ldquo;clientes&rdquo;.</p>
<p>Esto permite utilizar distintas máquinas para ejecutar los tests de manera simultánea. Por lo demás, funciona igual que el modo servidor, y cualquier script que hayamos creado antes nos valdrá.</p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>Todas las del modo servidor</li>
<li>Puede ejecutar tantos scripts simultáneos como servidores se conecten a él.</li>
</ul>
<p><strong>Desventajas</strong>:</p>
<ul>
<li>Arquitectura un poco más compleja</li>
<li>Seguimos perdiendo parte de la potencia de cada API individual.</li>
</ul>
<h2 id="al-lío">Al lío</h2>
<p>Pues ya sabemos lo que hay, así que vamos a hacer alguna cosa. Crearemos un script que se puede ejecutar en modo <em>Hub</em> o servidor. Por simplicidad, aquí contaremos cómo usar el modo servidor.</p>
<p>Lo primero es arrancar un servidor de selenium. Para ello, nos bajamos de la web la última versión y ejecutamos:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>$ java -jar selenium-server-standalone-2.30.0.jar
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#f92672">[</span>...<span style="color:#f92672">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>08:55:15.446 INFO - Started SocketListener on 0.0.0.0:4444
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#f92672">[</span>...<span style="color:#f92672">]</span>
</code></pre></div><p>Y ahí se queda funcionando. He copiado una de las líneas de la salida para que veáis dónde estará escuchando: en <em>localhost</em>, usando el puerto 4444.</p>
<p>Ahora necesitamos algo que probar&hellip; Lo más sencillo es levantar un servidor en nuestra máquina y así podremos navegar por los directorios. Y hacer esto con python es muy sencillo. Los que no tengáis Python instalado, podéis usar cualquier web como ejemplo:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>$ python -m SimpleHTTPServer
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>Serving HTTP on 0.0.0.0 port <span style="color:#ae81ff">8000</span> ...
</code></pre></div><p>Ale, ya tenemos un servidor sirviendo algo que podemos probar. Espero que lo hayáis ejecutado en algún directorio que tenga algún fichero XD</p>
<h3 id="nuestro-primer-script">Nuestro primer script</h3>
<p>Vamos a hacer un script que abra un Chrome y que compruebe algo básico de la página: el título:</p>
<h4 id="java">Java</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#f92672">package</span> org.magmax.selenium<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#f92672">import</span> java.net.MalformedURLException<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#f92672">import</span> java.net.URL<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#f92672">import</span> java.util.HashMap<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#f92672">import</span> java.util.Map<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#f92672">import</span> org.openqa.selenium.Capabilities<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#f92672">import</span> org.openqa.selenium.firefox.FirefoxDriver<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#f92672">import</span> org.openqa.selenium.remote.DesiredCapabilities<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#f92672">import</span> org.openqa.selenium.remote.RemoteWebDriver<span style="color:#f92672">;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">App</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#f92672">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span> String<span style="color:#f92672">[]</span> args <span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> MalformedURLException
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    <span style="color:#f92672">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>      <span style="color:#75715e">/*
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span style="color:#75715e">      URL url = new URL(&#34;https://localhost:4444/wd/hub&#34;);
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span style="color:#75715e">      Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span style="color:#75715e">      map.put(&#34;browserName&#34;, &#34;firefox&#34;);
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span style="color:#75715e">      Capabilities capabilities = new DesiredCapabilities(map);
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span style="color:#75715e">      RemoteWebDriver driver = new RemoteWebDriver(url, capabilities );
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span style="color:#75715e">       */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>      FirefoxDriver driver <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FirefoxDriver<span style="color:#f92672">();</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>      <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>        driver<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;https://localhost:8000&#34;</span><span style="color:#f92672">);</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>driver<span style="color:#f92672">.</span><span style="color:#a6e22e">getTitle</span><span style="color:#f92672">().</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Directory listing for /&#34;</span><span style="color:#f92672">))</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>          <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> AssertionError<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;The title do not match&#34;</span><span style="color:#f92672">);</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Everything OK&#34;</span><span style="color:#f92672">);</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>      <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span>        driver<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span>      <span style="color:#f92672">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span>    <span style="color:#f92672">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span style="color:#f92672">}</span>
</code></pre></div><p>Y el POM si usáis Maven:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#f92672">&lt;project</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;https://maven.apache.org/POM/4.0.0&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;https://www.w3.org/2001/XMLSchema-instance&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;https://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#f92672">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#f92672">&lt;modelVersion&gt;</span>4.0.0<span style="color:#f92672">&lt;/modelVersion&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#f92672">&lt;groupId&gt;</span>org.magmax<span style="color:#f92672">&lt;/groupId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#f92672">&lt;artifactId&gt;</span>selenium<span style="color:#f92672">&lt;/artifactId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  <span style="color:#f92672">&lt;version&gt;</span>0.0.1-SNAPSHOT<span style="color:#f92672">&lt;/version&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  <span style="color:#f92672">&lt;packaging&gt;</span>jar<span style="color:#f92672">&lt;/packaging&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  <span style="color:#f92672">&lt;name&gt;</span>selenium<span style="color:#f92672">&lt;/name&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  <span style="color:#f92672">&lt;url&gt;</span>https://maven.apache.org<span style="color:#f92672">&lt;/url&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  <span style="color:#f92672">&lt;properties&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    <span style="color:#f92672">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span style="color:#f92672">&lt;/project.build.sourceEncoding&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  <span style="color:#f92672">&lt;/properties&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>  <span style="color:#f92672">&lt;build&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>    <span style="color:#f92672">&lt;plugins&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>      <span style="color:#f92672">&lt;plugin&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>        <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>        <span style="color:#f92672">&lt;artifactId&gt;</span>maven-jar-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>        <span style="color:#f92672">&lt;configuration&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>          <span style="color:#f92672">&lt;archive&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>            <span style="color:#f92672">&lt;manifest&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>              <span style="color:#f92672">&lt;mainClass&gt;</span>org.magmax.selenium.Main<span style="color:#f92672">&lt;/mainClass&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>            <span style="color:#f92672">&lt;/manifest&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>          <span style="color:#f92672">&lt;/archive&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>        <span style="color:#f92672">&lt;/configuration&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>      <span style="color:#f92672">&lt;/plugin&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>    <span style="color:#f92672">&lt;/plugins&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span>  <span style="color:#f92672">&lt;/build&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span>  <span style="color:#f92672">&lt;dependencies&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span>    <span style="color:#f92672">&lt;dependency&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span>      <span style="color:#f92672">&lt;groupId&gt;</span>junit<span style="color:#f92672">&lt;/groupId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span>      <span style="color:#f92672">&lt;artifactId&gt;</span>junit<span style="color:#f92672">&lt;/artifactId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span>      <span style="color:#f92672">&lt;version&gt;</span>4.11<span style="color:#f92672">&lt;/version&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span>        <span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span>      <span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span>    <span style="color:#f92672">&lt;dependency&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42</span>        <span style="color:#f92672">&lt;groupId&gt;</span>org.seleniumhq.selenium<span style="color:#f92672">&lt;/groupId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43</span>        <span style="color:#f92672">&lt;artifactId&gt;</span>selenium-java<span style="color:#f92672">&lt;/artifactId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44</span>        <span style="color:#f92672">&lt;version&gt;</span>2.31.0<span style="color:#f92672">&lt;/version&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45</span>    <span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46</span>    <span style="color:#f92672">&lt;dependency&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47</span>      <span style="color:#f92672">&lt;groupId&gt;</span>org.seleniumhq.selenium<span style="color:#f92672">&lt;/groupId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48</span>      <span style="color:#f92672">&lt;artifactId&gt;</span>selenium-chrome-driver<span style="color:#f92672">&lt;/artifactId&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49</span>      <span style="color:#f92672">&lt;version&gt;</span>2.31.0<span style="color:#f92672">&lt;/version&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50</span>    <span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51</span>  <span style="color:#f92672">&lt;/dependencies&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53</span><span style="color:#f92672">&lt;/project&gt;</span>
</code></pre></div><p><strong>NOTA</strong>: El código que quería mostraros es el comentado. De esa manera sólo dependíamos de una cadena para seleccionar el Browser a utilizar, sin embargo no he conseguido hacer que funcione. Si alguien sabe por qué, le estaría muy agradecido.</p>
<h4 id="python">Python</h4>
<p>En python necesitaremos instalar python-selenium, que es paquete Debian.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#f92672">from</span> selenium.common.exceptions <span style="color:#f92672">import</span> NoSuchElementException
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>driver <span style="color:#f92672">=</span> webdriver<span style="color:#f92672">.</span>Remote(<span style="color:#e6db74">&#39;https://localhost:4444/wd/hub&#39;</span>, {<span style="color:#e6db74">&#39;browserName&#39;</span>: <span style="color:#e6db74">&#39;firefox&#39;</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#66d9ef">try</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;https://localhost:8000&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    <span style="color:#66d9ef">assert</span> driver<span style="color:#f92672">.</span>title <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Directory listing for /&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#39;Everything ok&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#66d9ef">finally</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    driver<span style="color:#f92672">.</span>close()
</code></pre></div><p>Y ya está.</p>
<h4 id="comentarios">Comentarios</h4>
<p>Como podréis suponer, si en lugar de &ldquo;<em>firefox</em>&rdquo; queremos usar &ldquo;<em>chrome</em>&rdquo;, basta con cambiar el &ldquo;<strong>browserName</strong>&rdquo;. Para que funcione con Chrome, tendréis que descargaros el chromeDriver y dejarlo en el mismo directorio que esté el servidor.</p>
<p>Si no estuviéramos usando el modo servidor, podríamos haber usado &ldquo;<em>webdriver.Chrome</em>&rdquo; o &ldquo;<em>webdriver.Firefox</em>&rdquo;, lo que trataría de acceder directamente, tal y como he terminado haciendo en Java. Me parece que ya es limitar el código, así que he decidido usar la manera genérica, usando &ldquo;<em>webdriver.Remote</em>&rdquo;.</p>
<p>Es importante cerrar el driver, ya que si no lo hacemos, el navegador se quedará abierto. Con un único test no es crítico, pero con muchos puede afectar al rendimiento de la máquina.</p>
<p>Y aquí lo dejo. Ahora viene la tarea de buscar en la API aquello que queramos hacer: pulsar botones, ir a enlaces, acceder al DOM,&hellip; Pero eso ya os lo dejo a vosotros.</p>
<h2 id="me-encanta">¡Me encanta!</h2>
<p>Algunos de vosotros diréis: &ldquo;¡Esto es la leche! Voy a usarlo para todo&rdquo;&hellip; Pero no es así.</p>
<p>Aunque el sistema es muy potente y permite probar toda la página en distintos navegadores, la ejecución de pruebas es lenta. Abrir un navegador puede llevar varios segundos, incluso estando en caché, lo que hace que todo el proceso vaya lento.</p>
<p>Una solución es usar <a href="https://phantomjs.org/">PhantomJS</a>, que no abre navegadores, pero con esta opción no estaremos probando la web en un navegador real. Para nuestra desgracia, habrá muchas funcionalidades JavaScript que funcionarán de forma distinta dependiendo del navegador&hellip; y de PhantomJS.</p>
<p>Así que no es una solución que valga para todo. Sin embargo, sí es interesante para tests de aceptación y para automatizar ciertos procesos. Pero por favor, no lo uséis para probar corner-cases. Para eso existen otro tipo de herramientas más rápidas, como los tests de integración.</p>
<p>En este artículo he usado Selenium/Webdriver en modo Script. Más adelante trataré de mostrarlo para realizar tests.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/selenium" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">selenium</a>
   </li>
  
   <li class="list">
     <a href="/tags/python" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">python</a>
   </li>
  
   <li class="list">
     <a href="/tags/java" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">java</a>
   </li>
  
   <li class="list">
     <a href="/tags/automation" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">automation</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "magmax" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Relacionado</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/blog/functional-programming/">Programación funcional</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python3-slow/">Python 3 es lento (I)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/porque-python-mola/">Por qué python mola</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/porque-java-mola/">Por qué Java mola</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python-web-2/">Python: tu directorio en la web</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python-compiler-internals/">El compilador de Python desde dentro</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python-curses/">Python curses</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/swing-cerrar-dialog/">Java Swing: Cerrando un Dialog</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python-tokenizer/">Crea tu propio lenguaje de programación con... python</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python-web/">Python en la web</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/python-asignaciones/">Python: Asignaciones con valores por defecto.</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/enumerados-java/">Enumerados Java: no sólo enumerados</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/virtualenv/">Virtualenv: aislando nuestro entorno python</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/selenium-atheist/">Pruebas web: selenium &#43; atheist</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/concordion/">Pruebas de sistema: Concordion</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://magmax.org/" >
    &copy;  El blog de MagMax 2021 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
