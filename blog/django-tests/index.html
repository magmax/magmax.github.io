<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Django: Test del modelo y Fixtures | El blog de MagMax</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Una de las herramientas más potentes para la creación de pruebas en Django son las fixtures.
Las fixtures consisten en datos que se cargan en la base de datos para poder realizar pruebas.
Para mostrarlo, continuaré con el post de creación de un sitio básico con django, donde construimos un blog básico.
  Requisitos En principio, con el blog básico ya construido es suficiente. Nos vendrá bien la herramienta de administración, con el fin de automatizar un poco el proceso.">
    <meta name="generator" content="Hugo 0.79.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="Django: Test del modelo y Fixtures" />
<meta property="og:description" content="Una de las herramientas más potentes para la creación de pruebas en Django son las fixtures.
Las fixtures consisten en datos que se cargan en la base de datos para poder realizar pruebas.
Para mostrarlo, continuaré con el post de creación de un sitio básico con django, donde construimos un blog básico.
  Requisitos En principio, con el blog básico ya construido es suficiente. Nos vendrá bien la herramienta de administración, con el fin de automatizar un poco el proceso." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/django-tests/" />
<meta property="article:published_time" content="2011-08-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2011-08-21T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta itemprop="name" content="Django: Test del modelo y Fixtures">
<meta itemprop="description" content="Una de las herramientas más potentes para la creación de pruebas en Django son las fixtures.
Las fixtures consisten en datos que se cargan en la base de datos para poder realizar pruebas.
Para mostrarlo, continuaré con el post de creación de un sitio básico con django, donde construimos un blog básico.
  Requisitos En principio, con el blog básico ya construido es suficiente. Nos vendrá bien la herramienta de administración, con el fin de automatizar un poco el proceso.">
<meta itemprop="datePublished" content="2011-08-21T00:00:00+00:00" />
<meta itemprop="dateModified" content="2011-08-21T00:00:00+00:00" />
<meta itemprop="wordCount" content="820">



<meta itemprop="keywords" content="django,django testing," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Django: Test del modelo y Fixtures"/>
<meta name="twitter:description" content="Una de las herramientas más potentes para la creación de pruebas en Django son las fixtures.
Las fixtures consisten en datos que se cargan en la base de datos para poder realizar pruebas.
Para mostrarlo, continuaré con el post de creación de un sitio básico con django, donde construimos un blog básico.
  Requisitos En principio, con el blog básico ya construido es suficiente. Nos vendrá bien la herramienta de administración, con el fin de automatizar un poco el proceso."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        El blog de MagMax
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="" title="Inicio page">
              Inicio
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../en" title="English page">
              English
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://magmax.org/blog/django-tests/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://magmax.org/blog/django-tests/&amp;text=Django:%20Test%20del%20modelo%20y%20Fixtures" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://magmax.org/blog/django-tests/&amp;title=Django:%20Test%20del%20modelo%20y%20Fixtures" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Django: Test del modelo y Fixtures</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2011-08-21T00:00:00Z">August 21, 2011</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Una de las herramientas más potentes para la creación de pruebas en Django son las <em>fixtures</em>.</p>
<p>Las <em>fixtures</em> consisten en datos que se cargan en la base de datos para poder realizar pruebas.</p>
<p>Para mostrarlo, continuaré con el post de <a href="https://magmax.org/blog/django-sitio-basico/">creación de un sitio básico con
django</a>, donde construimos un blog básico.</p>
<!-- raw HTML omitted -->
<figure>
    <img src="/images/django.jpg"
         alt="Django"/> 
</figure>

<h2 id="requisitos">Requisitos</h2>
<p>En principio, con el blog básico ya construido es suficiente. Nos vendrá bien la herramienta de administración, con el fin de automatizar un poco el proceso.</p>
<p>Si queremos utilizar <a href="https://yaml.org/">YAML</a>  para los datos, es muy probable que necesitemos tener instalado el módulo de YAML para Python (en Debian, <code>python-yaml</code>).</p>
<p>En principio nos conformaremos con XML y JSON.</p>
<h2 id="metiendo-datos">Metiendo datos</h2>
<p>Voy a suponer que tenemos una base de datos limpia. Si no es así, no os preocupéis: la única diferencia es que vosotros tendréis más datos.</p>
<p>Arrancamos el servicio:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>$ python manage.py runserver
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>Validating models...
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#ae81ff">0</span> errors found
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>Django version 1.3, using settings <span style="color:#e6db74">&#39;myblog.settings&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>Development server is running at https://127.0.0.1:8000/
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>Quit the server with CONTROL-C.
</code></pre></div><p>Nos vamos a la interfaz de administración:
<a href="https://localhost:8000/admin/blog/post/">https://localhost:8000/admin/blog/post/</a>  e insertamos dos <em>Posts</em>. Los míos tienen lo siguiente:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>post1.title = primer post
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>post1.body = Éste es el cuerpo de mi primer post
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>post2.title = Segundo Post
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>post2.body = Éste es el cuerpo de mi segundo post
</code></pre></div><h2 id="inciso-una-mejora-a-la-interfaz">Inciso: una mejora a la interfaz</h2>
<p>Gracias a esto me acabo de dar cuenta de un error en nuestro modelo. En la ventana de <em>Posts</em> aparecerá algo como &ldquo;Post object&rdquo;, imposibilitando la identificación de nuestros posts. Esto se debe a que <em>Django</em> no sabe cómo representar nuestros objetos &ldquo;<em>Post</em>&rdquo;. Así que vamos a decírselo.</p>
<p>Abrimos nuestro <code>blog/models.py</code> y, en la clase <em>Post</em>, añadimos los métodos <code>__unicode__</code> y <code>__str__</code>. Como es poquito, os lo pongo todo junto:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Post</span>(models<span style="color:#f92672">.</span>Model):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    title <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">200</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    body <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>TextField()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__unicode___</span>(self):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>title
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    <span style="color:#66d9ef">def</span> __str__(self):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>title
</code></pre></div><p>Una vez hecho esto, si refrescamos, deberían aparecernos los títulos de los posts en lugar de las cadenas genéricas.</p>
<h2 id="tests">Tests</h2>
<p>Podemos ejecutar los tests de nuestra aplicación:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>$ python manage.py test
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>Creating test database <span style="color:#66d9ef">for</span> alias <span style="color:#e6db74">&#39;default&#39;</span>...
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>...................................................................................................................................................................................................................................................................................................................................
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>----------------------------------------------------------------------
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>Ran <span style="color:#ae81ff">323</span> tests in 3.125s
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>OK
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>Destroying test database <span style="color:#66d9ef">for</span> alias <span style="color:#e6db74">&#39;default&#39;</span>...
</code></pre></div><p>Pero&hellip; ¡¡ si aún no los hemos escrito !!</p>
<p>Eso no es del todo cierto. Como dependemos del módulo <code>django-admin</code>, se han lanzado los tests de este módulo. Además, se ha comprobado que se puede crear la BBDD. Y, por si fuera poco, Django ya nos creó un archivo <code>blog/tests.py</code> con una prueba (aunque sólo es una plantilla para nuestros tests).</p>
<h2 id="fixtures-por-defecto">Fixtures por defecto</h2>
<p>Cuando sincronizamos la base de datos de la aplicación, siempre se tratan de cargar los <em>fixtures</em> iniciales. Por eso nos aparece la frase: <code>No fixtures found.</code>. Si queremos que se cargen cosas, basta con crear la carpeta <code>blog/fixtures</code> y, dentro de ésta, el archivo <code>blog/fixtures/initial_data.json</code>.</p>
<p>Este archivo es peligroso, ya que se tratará de cargar SIEMPRE que sincronicemos, lo que puede producir duplicación en los datos.</p>
<h2 id="creando-nuestras-fixtures">Creando nuestras fixtures</h2>
<p>Como no es lo que queremos, obtener un archivo de <code>fixtures</code> sólo para las pruebas. Django nos deja hacerlo fácilmente:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>$ python manage.py dumpdata blog &gt; blog/fixtures/posts.json
</code></pre></div><p>Si miramos nuestro archivo <code>blog/fixtures/posts.json</code>, veremos que contiene los
datos de los blogs que creamos, en formato <a href="https://www.json.org/">JSON</a> . Si queremos usar el formato XML, basta con decirlo:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>$ python manage.py dumpdata --format<span style="color:#f92672">=</span>xml blog &gt; blog/fixtures/posts.xml
</code></pre></div><h2 id="añadiendo-las-fixtures-a-los-tests">Añadiendo las fixtures a los tests</h2>
<p>Ya tenemos el modelo, una plantilla para los tests y los datos en formato json. ¡¡Automaticemos el proceso!! (archivo <code>blog/tests.py</code>):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#f92672">from</span> django.test <span style="color:#f92672">import</span> TestCase
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#f92672">from</span> models <span style="color:#f92672">import</span> Post
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Post1Test</span>(TestCase):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_numero_elementos</span>(self):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#e6db74">        Comprobamos que NO se han cargado las fixtures
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>        self<span style="color:#f92672">.</span>assertEqual(<span style="color:#ae81ff">0</span>, len(Post<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all()))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Post2Test</span>(TestCase):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    fixtures <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;posts.json&#39;</span>]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_numero_elementos</span>(self):
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span style="color:#e6db74">        Comprobamos que se han cargado las fixtures
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>        self<span style="color:#f92672">.</span>assertEqual(<span style="color:#ae81ff">2</span>, len(Post<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all()))
</code></pre></div><p>Como véis, he creado dos clases. En la segunda he añadido el atributo de clase &ldquo;fixtures&rdquo;, que es un iterable con el nombre de nuestro archivo (sin ruta). La primera clase no tiene ésto.</p>
<p>Por esa razón, django no carga ningún dato en la primera clase pero sí en la segunda; esto se debe a que la base de datos se resetea para cada <em>TestCase</em>.</p>
<h3 id="sí-pero-yo-prefiero-xml">Sí, pero&hellip; yo prefiero XML</h3>
<p>Basta con que el archivo tenga extensión <code>.xml</code> y django ya sabe lo que tiene que hacer.</p>
<p>Teóricamente se puede usar YAML, pero no lo he conseguido.</p>
<h2 id="mi-archivo-json">Mi archivo JSON</h2>
<p>Aquí tenéis mi archivo json, algo formateado para que quede más bonito (<code>blog/fixtures/posts.json</code>):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>[
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  {<span style="color:#e6db74">&#34;pk&#34;</span>: <span style="color:#ae81ff">1</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>   <span style="color:#e6db74">&#34;model&#34;</span>: <span style="color:#e6db74">&#34;blog.post&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>   <span style="color:#e6db74">&#34;fields&#34;</span>: {<span style="color:#e6db74">&#34;body&#34;</span>: <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u00c9</span><span style="color:#e6db74">ste es el cuerpo de mi primer post&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>              <span style="color:#e6db74">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;primer post&#34;</span>}},
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  {<span style="color:#e6db74">&#34;pk&#34;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;model&#34;</span>:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>   <span style="color:#e6db74">&#34;blog.post&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>   <span style="color:#e6db74">&#34;fields&#34;</span>: {<span style="color:#e6db74">&#34;body&#34;</span>: <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\u00c9</span><span style="color:#e6db74">ste es el cuerpo de mi segundo post&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>              <span style="color:#e6db74">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Segundo Post&#34;</span>}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>]
</code></pre></div><h2 id="más-información">Más información</h2>
<p>Pues la verdad es que he encontrado muy poco. Referiros a la <a href="https://docs.djangoproject.com/en/1.3/topics/testing/">propia
documentación de Django</a>.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/django" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">django</a>
   </li>
  
   <li class="list">
     <a href="/tags/django-testing" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">django testing</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "magmax" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Relacionado</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/blog/django-sitio-basico/">Django: Creación de un sitio básico con Admin</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://magmax.org/" >
    &copy;  El blog de MagMax 2021 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
