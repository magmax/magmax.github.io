<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Django: Creación de un sitio básico con Admin - El blog de MagMax</title><meta name="Description" content="El blog de un Ingeniero Informático: tutoriales, manuales, opiniones, comparativas, ..."><meta property="og:title" content="Django: Creación de un sitio básico con Admin" />
<meta property="og:description" content="Con todo el rollo de la mudanza me he dado cuenta de que no he escrito ningún artículo sobre Django. Estaba convencido de haberlo hecho. Así que voy a tener que arreglar el problema XD" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/django-sitio-basico/" />
<meta property="og:image" content="https://magmax.org/icons/favicon.png"/>
<meta property="article:published_time" content="2011-08-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-28T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://magmax.org/icons/favicon.png"/>

<meta name="twitter:title" content="Django: Creación de un sitio básico con Admin"/>
<meta name="twitter:description" content="Con todo el rollo de la mudanza me he dado cuenta de que no he escrito ningún artículo sobre Django. Estaba convencido de haberlo hecho. Así que voy a tener que arreglar el problema XD"/>
<meta name="application-name" content="El blog de MagMax">
<meta name="apple-mobile-web-app-title" content="El blog de MagMax"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://magmax.org/blog/django-sitio-basico/" /><link rel="prev" href="https://magmax.org/blog/resaltado-sintaxis/" /><link rel="next" href="https://magmax.org/blog/django-tests/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Django: Creación de un sitio básico con Admin",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/magmax.org\/blog\/django-sitio-basico\/"
        },"genre": "posts","keywords": "django","wordcount":  1150 ,
        "url": "https:\/\/magmax.org\/blog\/django-sitio-basico\/","datePublished": "2011-08-20T00:00:00+00:00","dateModified": "2021-01-28T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Miguel Ángel"},"author": {
                "@type": "Person",
                "name": "Miguel Ángel"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> Inicio </a><a class="menu-item" href="/tags"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/en/blog/django-sitio-basico/">English</option><option value="/blog/django-sitio-basico/" selected>Español</option></select>
                    </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">Inicio</a><a class="menu-item" href="/tags" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/en/blog/django-sitio-basico/">English</option><option value="/blog/django-sitio-basico/" selected>Español</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contenido</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Django: Creación de un sitio básico con Admin</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Miguel Ángel</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="20 Aug 2011">20 Aug 2011</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1150 palabras&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;6 minutos&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contenido</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#qué-es">Qué es</a></li>
    <li><a href="#instalación">Instalación</a></li>
    <li><a href="#creación">Creación</a></li>
    <li><a href="#el-modelo">El modelo</a></li>
    <li><a href="#urls">URLs</a></li>
    <li><a href="#administración">Administración</a></li>
    <li><a href="#la-vista">La vista</a></li>
    <li><a href="#cómo-usarlo">Cómo usarlo</a></li>
    <li><a href="#más-información">Más información</a></li>
    <li><a href="#despedida">Despedida</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Con todo el rollo de la mudanza me he dado cuenta de que no he escrito ningún artículo sobre Django. Estaba convencido de haberlo hecho. Así que voy a tener que arreglar el problema XD</p>
<figure>
    <img src="/images/django.jpg"
         alt="Django"/> 
</figure>

<h2 id="qué-es">Qué es</h2>
<p>Django es un framework para la creación de aplicaciones web. Se centra en el
backend, ofreciendo plantillas para el frontend, aunque para este último
seguramente utilicemos otro framework adicional tipo <a href="https://jquery.com/" target="_blank" rel="noopener noreffer">JQuery</a> , <a href="https://dojotoolkit.org/" target="_blank" rel="noopener noreffer">Dojo</a> ,
<a href="https://mootools.net/" target="_blank" rel="noopener noreffer">Mootools</a> , <a href="https://www.prototypejs.org/" target="_blank" rel="noopener noreffer">Prototype</a> , etc.</p>
<h2 id="instalación">Instalación</h2>
<p>Podemos instalarlo utilizando <a href="https://pypi.python.org/pypi/setuptools" target="_blank" rel="noopener noreffer">easyinstall</a> , aunque es paquete <a href="https://www.debian.org/" target="_blank" rel="noopener noreffer">Debian</a> . Se
puede <a href="https://magmax.org/blog/virtualenv/" rel="">aislar la instalación de un site Django</a>, con el fin de replicarla fácilmente.</p>
<h2 id="creación">Creación</h2>
<p>Vamos a crear un CMS pequeñito. Va a tener blogs y nada más. Para ello, lo primero será decirle a Django que nos cree el sitio:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ django-admin startproject myblog
$ <span class="nb">cd</span> myblog
$ python manage.py startapp blog
$ tree
.
<span class="p">|</span>-- blog
<span class="p">|</span>   <span class="p">|</span>-- __init__.py
<span class="p">|</span>   <span class="p">|</span>-- models.py
<span class="p">|</span>   <span class="p">|</span>-- tests.py
<span class="p">|</span>   <span class="sb">`</span>-- views.py
<span class="p">|</span>-- __init__.py
<span class="p">|</span>-- manage.py
<span class="p">|</span>-- settings.py
<span class="sb">`</span>-- urls.py

<span class="m">1</span> directory, <span class="m">10</span> files
$
</code></pre></td></tr></table>
</div>
</div><p>Antes de seguir, configuraremos la BBDD, modificando el archivo <code>settings.py</code>, en el que indicaremos la BBDD a utilizar. Aprovechamos también para indicar en las aplicaciones instaladas que queremos utilizar &ldquo;admin&rdquo; y nuestro nuevo modulo:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;database.db&#39;</span><span class="p">,</span>
        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">TEMPLATE_DIRS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s1">&#39;/AQUI_VA_UNA_RUTA_ABSOLUTA/&#39;</span>
<span class="p">)</span>

<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sites&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;blog&#39;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Dejad el resto de entradas como estén.</p>
<p>Con esto ya podemos ejecutar el servidor, aunque servirá poco:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ python manage.py syncdb
Creating tables ...
Creating table auth_permission
Creating table auth_group_permissions
Creating table auth_group
Creating table auth_user_user_permissions
Creating table auth_user_groups
Creating table auth_user
Creating table auth_message
Creating table django_content_type
Creating table django_session
Creating table django_site

You just installed Django<span class="s1">&#39;s auth system, which means you don&#39;</span>t have any superusers defined.
Would you like to create one now? <span class="o">(</span>yes/no<span class="o">)</span>: yes
Username <span class="o">(</span>Leave blank to use <span class="s1">&#39;miguel&#39;</span><span class="o">)</span>: admin
E-mail address: admin@example.com
Password:
Password <span class="o">(</span>again<span class="o">)</span>:
Superuser created successfully.
Installing custom SQL ...
Installing indexes ...
No fixtures found.
$ python manage.py runserver
Validating models...

<span class="m">0</span> errors found
Django version 1.3, using settings <span class="s1">&#39;myblog.settings&#39;</span>
Development server is running at https://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre></td></tr></table>
</div>
</div><p>Y ya podemos abrir el site, que se encuentra en https://127.0.0.1:8000/</p>
<h2 id="el-modelo">El modelo</h2>
<p>Editaremos el modelo (<code>blog/models.py</code>), donde estableceremos un modelo muy básico:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>Como se ve, tendremos un título y un cuerpo. De momento no nos hace falta nada más.</p>
<h2 id="urls">URLs</h2>
<p>Ahora vamos a modificar el archivo <code>urls.py</code>. Este archivo se utiliza para que django sepa qué debe hacer para cada URL que se le solicita. Por eso trabaja con expresiones regulares, de manera que pueda identificar qué servicio o HTML debe procesar en cada caso. Nosotros necesitamos descomentar las líneas correspondientes a django-admin (archivo <code>urls.py</code>):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">include</span><span class="p">,</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="n">admin</span><span class="o">.</span><span class="n">autodiscover</span><span class="p">()</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^blog/&#39;</span><span class="p">,</span> <span class="s1">&#39;myblog.blog.views.list&#39;</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="administración">Administración</h2>
<p>Vamos a configurar la herramienta de administración, para poder editar nuestras entradas. Para ello utilizaremos el archivo <code>blog/admin.py</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">myblog.blog.models</span> <span class="kn">import</span> <span class="n">Post</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Post</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="la-vista">La vista</h2>
<p>En el archivo de URLs indicamos que, ante la URL <code>blog/</code>, veríamos <code>*blog.views.list</code>. Aún no hemos definido esto, y lo haremos en el archivo <code>admin/views.py</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render_to_response</span>
<span class="kn">from</span> <span class="nn">blog.models</span> <span class="kn">import</span> <span class="n">Post</span>

<span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render_to_response</span><span class="p">(</span><span class="s1">&#39;blog/list.html&#39;</span><span class="p">,</span>
                              <span class="p">{</span><span class="s1">&#39;post_list&#39;</span><span class="p">:</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()})</span>
</code></pre></td></tr></table>
</div>
</div><p>Con esto acabamos de crear una dependencia: <code>blog/list.html</code>. En este caso, necesitaremos crear una plantilla. Las plantillas no van con nuestro proyecto, sino que las deberíamos poner a parte. Cuando se construye un sitio Django, los módulos van por un lado, cada uno de ellos lo más aislado posible del resto. Si es posible, no deberían tener dependencias entre ellos (si es posible, insisto). Serán las plantillas las que le den homogeneidad y unión a todo el <em>site</em>. En la el archivo &lsquo;settings.py&rsquo; establecimos una ruta para <code>TEMPLATE_DIRS</code>. Ahí es donde crearemos nuestro archivo <code>blog/list.html</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Lista de Posts<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Lista de Posts<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>{% if post_list %}
   <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
     {% for post in post_list %}
     <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ post.title }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
     {% endfor %}
   <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>{% else %}
   <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>No blogs found.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>{% endif %}
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Al llamar a nuestra plantilla creamos la variable <code>post_list</code> que estamos recorriendo en la plantilla y pintando de la forma adecuada.</p>
<h2 id="cómo-usarlo">Cómo usarlo</h2>
<p>¡¡Ya lo tenemos todo montado!! Ehmmm&hellip; y ahora&hellip; ¿qué?</p>
<p>Bueno, pues vamos a usarlo. Primero vamos a asegurarnos de que la base de datos está actualizada y vamos a ejecutar el servicio:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ python manage.py syncdb
Creating tables ...
Installing custom SQL ...
Installing indexes ...
No fixtures found.
$ python manage.py runserver
Validating models...

<span class="m">0</span> errors found
Django version 1.3, using settings <span class="s1">&#39;myblog.settings&#39;</span>
Development server is running at https://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre></td></tr></table>
</div>
</div><p>Vale, ya está funcionando. Ahora nos vamos a la URL que nos dice:
<a href="https://127.0.0.1:8000/" target="_blank" rel="noopener noreffer">https://127.0.0.1:8000</a> , lo que nos dará un bonito <em>error</em> de página no encontrada. Como tenemos habilitado el depurado, vemos lo que ha ocurrido: la URL solicitada no se ajusta a ninguno de los patrones definidos.</p>
<p>Vamos primero con la interfaz de administración: <a href="https://127.0.0.1:8000/admin" target="_blank" rel="noopener noreffer">https://127.0.0.1:8000/admin</a> . Nos pedirá contraseña (la que pusimos al hacer el primer <em>syncdb</em>) y entramos en la parte de administrador. Deberíamos ver 3 bloques:</p>
<ul>
<li>Auth</li>
<li>Blog</li>
<li>Sites</li>
</ul>
<p>Si es así, es que lo hemos hecho todo bien. Creamos un par de posts en el módulo &ldquo;Blog&rdquo;. No tiene pérdida.</p>
<p>Toda esta interfaz de administración se ha creado automáticamente gracias a que hemos incorporado <code>django-admin</code>.</p>
<p>¿Ya tenemos los 2-3 posts? Bien. Vamos ahora a la URL de visualización:
<a href="https://127.0.0.1:8000/blog" target="_blank" rel="noopener noreffer">https://127.0.0.1:8000/blog</a> . Poco que decir aquí, salvo que deberíamos estar viendo nuestro blog :D</p>
<h2 id="más-información">Más información</h2>
<p>Evidentemente, el <a href="https://docs.djangoproject.com/en/1.3/intro/tutorial01/" target="_blank" rel="noopener noreffer">estupendo tutorial de django</a>  :D.</p>
<h2 id="despedida">Despedida</h2>
<p>Si veo que tiene tirón, quizá un día de estos continúe este pequeño manual. Hay muchas cosas que se pueden hacer aún:</p>
<ul>
<li>Paginar las entradas cuando haya muchas.</li>
<li>Crear una interfaz CRUD para no tener que editar los Posts desde la interfaz de administración, sino desde el propio <em>site</em>.</li>
<li>Darle color al sitio.</li>
<li>Añadir Tags a los Posts.</li>
<li>Ordenar por fecha de publicación.</li>
<li>Gestionar usuarios.</li>
<li>Añadir pruebas.</li>
<li>[Dele rienda suelta a su imaginación y ponga aquí su deseo.]</li>
</ul></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 28 Jan 2021</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Compartir en Twitter" data-sharer="twitter" data-url="https://magmax.org/blog/django-sitio-basico/" data-title="Django: Creación de un sitio básico con Admin" data-hashtags="django"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Facebook" data-sharer="facebook" data-url="https://magmax.org/blog/django-sitio-basico/" data-hashtag="django"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Linkedin" data-sharer="linkedin" data-url="https://magmax.org/blog/django-sitio-basico/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="https://magmax.org/blog/django-sitio-basico/" data-title="Django: Creación de un sitio básico con Admin" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Tumblr" data-sharer="tumblr" data-url="https://magmax.org/blog/django-sitio-basico/" data-title="Django: Creación de un sitio básico con Admin" data-tags="django"><i class="fab fa-tumblr fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Reddit" data-sharer="reddit" data-url="https://magmax.org/blog/django-sitio-basico/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Instapaper" data-sharer="instapaper" data-url="https://magmax.org/blog/django-sitio-basico/" data-title="Django: Creación de un sitio básico con Admin" data-description=""><i data-svg-src="/lib/simple-icons/icons/instapaper.min.svg"></i></a><a href="javascript:void(0);" title="Compartir en Digg" data-sharer="digg" data-url="https://magmax.org/blog/django-sitio-basico/"><i class="fab fa-digg fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Blogger" data-sharer="blogger" data-url="https://magmax.org/blog/django-sitio-basico/" data-title="Django: Creación de un sitio básico con Admin" data-description=""><i class="fab fa-blogger fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/django/">django</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/resaltado-sintaxis/" class="prev" rel="prev" title="Resaltado de sintaxis en tu web"><i class="fas fa-angle-left fa-fw"></i>Resaltado de sintaxis en tu web</a>
            <a href="/blog/django-tests/" class="next" rel="next" title="Django: Test del modelo y Fixtures">Django: Test del modelo y Fixtures<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.79.1">Hugo</a> | Tema - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Miguel Ángel</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-9308241-3', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-9308241-3" async></script></body>
</html>
