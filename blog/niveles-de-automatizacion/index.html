<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Niveles de automatización | El blog de MagMax</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Artículo sobre los diferentes niveles de automatización: documentación, script, cron, monitorización, alertas, ...
">
    <meta name="generator" content="Hugo 0.79.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="Niveles de automatización" />
<meta property="og:description" content="Artículo sobre los diferentes niveles de automatización: documentación, script, cron, monitorización, alertas, ...
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/niveles-de-automatizacion/" />
<meta property="article:published_time" content="2014-09-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2014-09-17T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta itemprop="name" content="Niveles de automatización">
<meta itemprop="description" content="Artículo sobre los diferentes niveles de automatización: documentación, script, cron, monitorización, alertas, ...
">
<meta itemprop="datePublished" content="2014-09-17T00:00:00+00:00" />
<meta itemprop="dateModified" content="2014-09-17T00:00:00+00:00" />
<meta itemprop="wordCount" content="2105">



<meta itemprop="keywords" content="automation,engineering," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Niveles de automatización"/>
<meta name="twitter:description" content="Artículo sobre los diferentes niveles de automatización: documentación, script, cron, monitorización, alertas, ...
"/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        El blog de MagMax
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="" title="Inicio page">
              Inicio
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../en" title="English page">
              English
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://magmax.org/blog/niveles-de-automatizacion/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://magmax.org/blog/niveles-de-automatizacion/&amp;text=Niveles%20de%20automatizaci%c3%b3n" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://magmax.org/blog/niveles-de-automatizacion/&amp;title=Niveles%20de%20automatizaci%c3%b3n" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Niveles de automatización</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2014-09-17T00:00:00Z">September 17, 2014</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Hace poco escribí un <a href="https://twitter.com/magmax_en/status/505777648493416448">twit sobre los niveles de automatización</a>. Desgraciadamente, en 140 caracteres no podía meter todo lo que me gustaría y tampoco podía corregir el error cometido, a pesar de ser importante. Aunque parece que nadie se dio cuenta :D</p>
<p>Pero para eso tengo mi blog.</p>
<p>Aquí contaré cómo veo yo los distintos niveles de automatización, desde la automatización más básica a la más avanzada, con ejemplos y software que puede ayudar a obtener ese nivel.</p>
<p>Faltarán cosas&hellip; Sobre todo programas. Agradecería si pudiérais completarlo en comentarios. Si es software privativo, es bienvenido si la entrada no es publicidad cantosa; pero si es libre, mucho mejor.</p>
<!-- raw HTML omitted -->
<figure>
    <img src="/images/engineering.jpg"/> 
</figure>

<h2 id="estructura">Estructura</h2>
<p>Desgraciadamente, los niveles no son lineales. O al menos, no del todo.</p>
<p>De hecho, habrá ciertos niveles que nunca se puedan alcanzar, como acciones que
se realizan una única vez, que no estarán dentro de un <a href="https://es.wikipedia.org/wiki/Cron*(Unix)">cron</a> (aunque es posible
que estén dentro de <a href="https://puppetlabs.com/">Puppet</a> y éste, dentro de <a href="https://es.wikipedia.org/wiki/Cron*(Unix)">cron</a>).</p>
<p>Por ello, puede decirse que la automatización sigue este esquema:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>+--------------------------------------------------+
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>|                   Documentación                  |
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>+--------------------------------------------------+
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>|                      Script                      |
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>+--------------------------------------------------+
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>|                |                | Monitorización |
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>| Temporización  |  Replicación   +----------------+
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>|                |                |  Autorecovery  |
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>+--------------------------------------------------+
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>|                Sistemas Autónomos                |
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>+--------------------------------------------------+
</code></pre></div><h2 id="niveles">Niveles</h2>
<h3 id="nivel-1-documentación">Nivel 1: Documentación</h3>
<p>El nivel más básico de automatización es la documentación. ¿Quién no le ha mandado a un amigo unas instrucciones sobre cómo debe hacer algo?</p>
<p>Podría decirse que ésta es la razón de que creara este blog: documentar cosas típicas que me voy encontrando para no tener que repetirlas. Creo que desde entonces ha evolucionado un poco :D</p>
<p>Es habitual que todo el software de usuario incluya documentación enumerando paso a paso cómo hacer algo. Éste es el espíritu del nivel documental. Manuales de usuario, FAQs, tutoriales, etc.</p>
<p>Problemas de la documentación:</p>
<ul>
<li>Puede <strong>quedarse obsoleta</strong>. Es lógico, ya que&hellip;</li>
<li>&hellip; casi nunca se puede <strong>probar</strong>.</li>
<li>Es <strong>propensa a errores</strong>. Imagine un operario de una central nuclear leyendo el manual ante una alerta de fusión del núcleo; lo más probable es que lea deprisa y puede saltarse pasos importantes.</li>
<li>Es <strong>aburrida</strong>. ¿Quién se ha leído el manual de su reloj?</li>
<li>Habitualmente, no tiene <strong>control de versiones</strong>, ya que se usan formatos como Word, PDF, etc. en lugar de formatos tipo texto.</li>
<li>Es <strong>lento</strong>, y si hay que repetirlo, requerirá casi el mismo tiempo que la primera vez.</li>
</ul>
<p>Para ayudarnos tenemos distintas herramientas de generación de documentación,
como <a href="https://pypi.python.org/pypi/Sphinx">Sphinx</a>, <a href="https://www.oracle.com/technetwork/java/javase/documentation/index-jsp-135444.html">Javadoc</a> o más genérica, como <a href="https://www.stack.nl/~dimitri/doxygen/">Doxygen</a>.</p>
<h3 id="nivel-2-script">Nivel 2: Script</h3>
<p>Si tenemos un tutorial que indica paso por paso cómo instalar un programa&hellip; ¿Por qué no <em>scriptarlo</em>? Basta con transformar cada uno de esos puntos en una función de un <em>script</em> e invocar a cada una de estas funciones de manera secuencial. Es decir: basta con <strong>formalizar la documentación</strong>.</p>
<p>Ejemplos de software en este nivel son todos los programas de instalación, ya que van paso por paso ejecutando acciones. Algunas veces requieren la acción del usuario para tomar decisiones o para introducir algún valor.</p>
<p>Este nivel tiene algunas ventajas sobre el de documentación:</p>
<ul>
<li>Se puede <strong>probar</strong>.</li>
<li><strong>No es propenso a errores</strong>, al menos para el flujo básico. Si funciona una vez, el ordenador no se saltará pasos ni los hará en distinto orden.</li>
<li><strong>No requiere acción</strong> por parte del usuario, más allá de saber si requiere algún parámetro o saber responder alguna pregunta.</li>
<li>Puede meterse en un <strong>control de versiones</strong>.</li>
<li>Se puede distribuir a otras máquinas, es decir, es <strong>replicable</strong>.</li>
<li><strong>Ahorra tiempo</strong>. Una vez escrito, no es necesario saber qué hace por dentro (¿Alguien sabe qué ocurre al hacer un <code>git init</code>?)</li>
</ul>
<p>Sin embargo, también tiene problemas:</p>
<ul>
<li>Requiere la presencia del <strong>usuario</strong>.</li>
<li>Su replicación, habitualmente requerirá <strong>documentación</strong>, devolviéndonos al nivel anterior.</li>
<li>Puede quedarse <strong>obsoleto</strong>. Que se pueda probar no significa que haya pruebas ni que alguien lo pruebe.</li>
</ul>
<p>Estos tres problemas son, exactamente, los que se tratan de solucionar en el nivel siguiente.</p>
<h3 id="nivel-3-script-automatizado">Nivel 3: Script automatizado</h3>
<p>En este nivel hay 3 partes. No tienen por qué cumplirse las 3 y tampoco tienen que hacerse en un orden determinado. Pero son 3 partes bien diferenciadas que conviene identificar:</p>
<h4 id="nivel-31-temporización">Nivel 3.1: Temporización</h4>
<p>Con el fin de evitar la <strong>presencia del usuario</strong>, se pueden utilizar archivos de configuración y provocar que nuestro script se ejecute cada cierto intervalo de tiempo.</p>
<p>Para esta tarea suele puede utilizar <a href="https://es.wikipedia.org/wiki/Cron*(Unix)">cron</a>, <a href="https://packages.debian.org/wheezy/admin/at">at</a> o <a href="https://anacron.sourceforge.net/">anacron</a>.</p>
<p>Este conocimiento hubiera facilitado mucho la vida de Desmond en la isla de
<a href="https://es.wikipedia.org/wiki/Lost">Perdidos (Lost)</a> :D.</p>
<h4 id="nivel-32-replicabilidad">Nivel 3.2: Replicabilidad</h4>
<p>No sé cómo llamar a este nivel. Hay gente que se refiere a él como <strong>&ldquo;orquestación&rdquo;</strong>, pero no estoy hablando de la gestión de numerosas máquinas, sino de la realización de pequeñas acciones. Claro, que es la realización de estas pequeñas acciones las que permiten esos sistemas dignos de ser <em>orquestados</em>.</p>
<p>La distribución de nuestro script en distintas máquinas puede implicar distintas
cosas: Puede ser una distribución para que el usuario lo instale (como hacen las
conocidas <a href="https://en.wikipedia.org/wiki/App*store">App Stores</a>) o de manera automática (<a href="https://puppetlabs.com/">Puppet</a>, <a href="https://www.getchef.com/">Chef</a>, <a href="https://www.saltstack.com/community/">SaltStack</a>, &hellip;).</p>
<p>Estamos hablando de automatización, así que me centraré en esta última: cuando la distribución es automática, también puede serlo su ejecución, en cuyo caso este nivel podría englobar también el de <strong>Temporización</strong>.</p>
<p>La decisión podríamos estar tomándola cuando utilizamos el software de
orquestación: ¿Debe ser <a href="https://puppetlabs.com/">Puppet</a> quien lo ejecute o sólo debe instalarlo en un
<a href="https://es.wikipedia.org/wiki/Cron*(Unix)">cron</a>?</p>
<p>Cuando hablo de &ldquo;replicabilidad&rdquo; no me refiero sólo a la distribución, sino a
asegurar que no ocurre el efecto <strong>&ldquo;en mi máquina funciona&rdquo;</strong>. Una forma de
conseguir replicabilidad es utilizar un sistema de &ldquo;jaulas&rdquo; con todo el sistema,
de manera que se ejecuten entornos aislados como un todo. Para ello se pueden
utilizar <strong>Máquinas virtuales</strong>(<a href="https://www.virtualbox.org/">VirtualBox</a>, <a href="https://www.vagrantup.com/">Vagrant</a>, &hellip;), <strong>containers</strong>
(<a href="https://linuxcontainers.org/">lxc</a>, <a href="https://www.docker.com/">Docker</a> o, a menor escala, <a href="https://pypi.python.org/pypi/virtualenv">VirtualEnv</a>, <a href="https://bundler.io/">Bundle</a>) o simples listas de
instalación (<a href="https://pypi.python.org/pypi/pip">pip</a>, <a href="https://bower.io/">bower</a>, &hellip;).</p>
<p>La gestión de estos entornos aislados dan para otro post. Pueden ser de distintos tipos:</p>
<ul>
<li>Gestión de <strong>artefactos específicos</strong>, como puede ser un repositorio Debian,
compatible con la aplicación cliente (<a href="https://es.wikipedia.org/wiki/Advanced_Packaging_Tool">apt</a>).</li>
<li>Gestión de <strong>artefactos genéricos</strong>, como <a href="https://www.sonatype.org/nexus/">Nexus</a>, <a href="https://www.jfrog.com/open-source/">Artifactory</a>, &hellip;</li>
<li>Gestión y <strong>creación de máquinas virtuales</strong> y sistemas de red completos:
<a href="https://mesos.apache.org/">Mesos</a>.</li>
</ul>
<h4 id="nivel-33-monitorización-y-alertas">Nivel 3.3: Monitorización y alertas</h4>
<p>Puede considerarse la ejecución del script como una prueba del mismo. Por lo tanto, ¿por qué no monitorizarlo?</p>
<p>La monitorización con alertas nos avisará en dos circunstancias: cuando el elemento monitorizado no tiene los valores que debe o bien cuando el script que obtiene ese valor da problemas. Es como tener un <em>téster</em> constante.</p>
<p>La monitorización puede tener distintas formas, de más sencilla a más compleja:</p>
<ul>
<li>Comprobación de que el <strong>proceso</strong> está corriendo.</li>
<li>Comprobación de un puerto o del <strong>efecto</strong> que debe producir el script.</li>
<li>Lectura de los <strong>archivos de log</strong> para comprobar que van cambiando de la manera esperada.</li>
<li>Generación de estadísticas y posterior comprobación de las mismas para ver <strong>tendencias</strong>.</li>
</ul>
<p>Y lo mismo ocurre con las alertas:</p>
<ul>
<li>Una <a href="https://www.youtube.com/watch?v=1nBg2pk_XFY">alarma todo va bien de Homer Simpsom</a>, que nos mande un mail cada vez que acaba de manera exitosa. Esto requiere una comprobación manual que nos devuelve al nivel 1 :D</li>
<li>Un sistema cliente/servidor con interfaz web, como pueda ser <a href="https://www.nagios.org/">Nagios</a>,
<a href="https://www.icinga.org/">Icinga</a>, <a href="https://pandorafms.com/">Pandora</a>, <a href="https://www.zabbix.com/es/">Zabbix</a>, <a href="https://sensuapp.org/">Sensu</a>, <a href="https://riemann.io/">Riemann</a>, <a href="https://cabotapp.com/">Cabot</a>, &hellip;</li>
<li>Un sistema distinto para monitorización (<a href="https://munin-monitoring.org/">Munin</a>, &hellip;) y alertas (<a href="https://flapjack.io/">FlapJack</a>, &hellip;)</li>
<li>Un sistema de agrupación de datos (<a href="https://graphite.wikidot.com/">Graphite</a>), monitorización sobre el mismo y alertas.</li>
</ul>
<p>Y también con la <em>forma de las alertas</em>: mail, alerta en un panel, SMS, llamada pregrabada, servicio de mensajería instantánea, tícket, etc.</p>
<p>El tema de la monitorización y alertado es toda una ciencia, ya que puede tener numerosas implicaciones: servicios de 24x7, guardias, releases con alertas a ignorar, &hellip;</p>
<p>Un sistema de alertas deficiente puede provocar dos efectos nocivos:</p>
<ul>
<li>Que se <strong>pierdan alertas</strong>, de manera que un proceso crítico no esté atendido. Es algo que ocurrirá tarde o temprano, y la solución es añadir una alerta nueva.</li>
<li>Que lleguen <strong>demasiadas alertas</strong>, de manera que las críticas se mezclan con las normales. Es mucho peor que el anterior y la solución no suele ser nada sencilla.</li>
</ul>
<h4 id="nivel-34-autorecovery">Nivel 3.4: Autorecovery</h4>
<p>Pero&hellip; ¿Qué ocurre cuando llega una alerta?</p>
<p>Pues que entra en marcha un nuevo proceso automatizable: la resolución.</p>
<p>Ésta puede ser:</p>
<ul>
<li><strong>Completamente manual</strong>: llega la alerta y hay que investigar dónde está el problema.</li>
<li><strong>Documentada</strong>: junto con la alerta llega la solución (o una URL con la misma).</li>
<li><strong>Automática</strong>: al recibir la alerta, se lanza un proceso que intenta recuperarse del problema.</li>
</ul>
<p>Algunas medidas que pueden tomarse:</p>
<ul>
<li>Si es un servicio y se ha muerto, puede <strong>volver a lanzarse</strong>.</li>
<li>Si es un servicio y no responde en un puerto, quizá pueda <strong>reiniciarse</strong>.</li>
<li>Si es una máquina que no responde, quizá dispongamos de <strong>alta disponibilidad</strong> (High Availability) y otro servidor pueda ocupar su lugar.</li>
<li>Si tenemos balanceo de carga y el sistema está sobredimensionado, es posible que no se requiera acción inmediata.</li>
</ul>
<p>También hay software que nos ayuda en este caso: <a href="https://supervisord.org/">supervisord</a>, <a href="https://www.haproxy.org/">HAProxy</a>,
<a href="https://tldp.org/HOWTO/TCP-Keepalive-HOWTO/overview.html">KeepAlive</a>, <a href="https://mmonit.com/monit/">Monit</a>, &hellip;</p>
<p>Es importante que el <em>autorecovery</em> quede documentado de alguna manera. De esta forma se pueden indentificar fallos periódicos (por ejemplo, &ldquo;el servidor se cae todos los días a las 00:00&rdquo;). Este registro puede tener la forma de mail, log, etc.</p>
<p>Es más: Si se puede mezclar la hora del <em>autorecovery</em> con el resto de gráficas, mucho mejor, de manera que se quede automáticamente aclarado un problema; por ejemplo, que un pico de la gráfica de memoria se debe a un reinicio de tal servicio.</p>
<h3 id="nivel-4-sistemas-autónomos">Nivel 4: Sistemas autónomos</h3>
<p>Este artículo puede leerse de dos maneras. La primera es leerlo como la automatización de un script, y la segunda, como un sistema considerablemente más grande: una máquina, una red, una organización.</p>
<blockquote>
<p>El todo se compone de cada una de las partes.</p>
</blockquote>
<p>En el caso de un script, una vez es distribuido automáticamente y monitorizado, la automatización ya es completa.</p>
<p>Sin embargo, en el caso de una máquina aún falta otro detalle: Si es necesario entrar a la máquina para algo, entonces aún no se ha automatizado completamente. Esto tiene muchas implicaciones:</p>
<ul>
<li>Debe existir un sistema de logs centralizado y externo al sistema autónomo.
Una solución típica es usar <a href="https://logstash.net/">logstash</a> + <a href="https://www.elasticsearch.org/">elastic search</a> + <a href="https://www.elasticsearch.org/overview/kibana/">kibana</a> para
guardar los logs y <a href="https://www.rsyslog.com/">rsyslog</a> para enviar los logs del sistema.</li>
<li>El sistema de monitorización y alertas debe ser igualmente centralizado y externo al sistema autónomo.</li>
<li>El despliegue de todos los servicios del sistema autónomo debe ser automático.</li>
<li>Deben existir políticas de <em>autorecovery</em> muy fuertes.</li>
</ul>
<h2 id="nomenclatura">Nomenclatura</h2>
<p>Propongo medir el nivel de automatización de un sistema mediante la siguiente nomenclatura:</p>
<ul>
<li>El literal &ldquo;A&rdquo;, de &ldquo;Automation&rdquo;</li>
<li>Un número, indicando el nivel.</li>
<li>En el caso del nivel 3, un conjunto de letras, siendo &rsquo;t' para temporización, &lsquo;r&rsquo; para Replicación,  &rsquo;m' para monitorización y &lsquo;a&rsquo; para <em>autorecovery</em>. De esta manera se pueden combinar en &lsquo;ta&rsquo; para <em>autorecovery</em> y temporización, etc. En este caso es importante seguir el orden: &rsquo;t', &lsquo;r&rsquo;, &rsquo;m', &lsquo;a&rsquo;.</li>
</ul>
<p>Aquí está la tabla completa de nomenclatura</p>
<table>
<thead>
<tr>
<th>Código</th>
<th>Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td>A0</td>
<td>No tiene ningún tipo de automatización</td>
</tr>
<tr>
<td>A1</td>
<td>Hay documentación</td>
</tr>
<tr>
<td>A2</td>
<td>Existe un script para hacer el trabajo</td>
</tr>
<tr>
<td>A3.t</td>
<td>El script se ejecuta cada cierto tiempo</td>
</tr>
<tr>
<td>A3.r</td>
<td>El script se replica a otras máquinas</td>
</tr>
<tr>
<td>A3.m</td>
<td>Existe monitorización</td>
</tr>
<tr>
<td>A3.a</td>
<td>Existe <em>autorecovery</em></td>
</tr>
<tr>
<td>A3.tr</td>
<td>El script se replica a otras máquinas y ejecuta cada cierto tiempo</td>
</tr>
<tr>
<td>A3.tm</td>
<td>El script se ejecuta cada cierto tiempo y está monitorizado</td>
</tr>
<tr>
<td>A3.ta</td>
<td>El script se ejecuta cada cierto tiempo y en caso de fallo se arregla sólo</td>
</tr>
<tr>
<td>A3.rm</td>
<td>El script se replica a otras máquinas y está temporizado</td>
</tr>
<tr>
<td>A3.ra</td>
<td>El script se replica a otras máquinas y tiene <em>autorecovery</em></td>
</tr>
<tr>
<td>A3.ma</td>
<td>El script tiene monitorización y <em>autorecovery</em></td>
</tr>
<tr>
<td>A3.trm</td>
<td>Temporización, replicación y monitorización</td>
</tr>
<tr>
<td>A3.tra</td>
<td>Temporización, replicación y <em>autorecovery</em></td>
</tr>
<tr>
<td>A3.tma</td>
<td>Temporización, monitorización y <em>autorecovery</em></td>
</tr>
<tr>
<td>A3.rma</td>
<td>Replicación, monitorización y <em>autorecovery</em></td>
</tr>
<tr>
<td>A3.trma</td>
<td>Temporización, Replicación, monitorización y <em>autorecovery</em></td>
</tr>
<tr>
<td>A4</td>
<td>Sistema autónomo</td>
</tr>
</tbody>
</table>
<p>De esta manera se pueden especificar los <strong>KPI</strong> (<em>Key Performance Indicator</em>) de la siguiente forma: &ldquo;Conseguir A2 en el build y A3.rm en el despliegue&rdquo;.</p>
<h2 id="conclusiones">Conclusiones</h2>
<p>Montar un sistema autónomo es difícil, pero las ventajas son enormes. A mayor automatización, mayor velocidad en el resto de procesos. Si un <em>push</em> en un repositorio desencadena todo un flujo de tareas que termina en el despliegue en producción o en una alerta en mi buzón si hay algún error, provocará que cada trabajador pueda publicar decenas de versiones en un solo día, y que las implicaciones de los errores sean mucho menores.</p>
<p>El otro día hablaba con David y me decía que <strong>&ldquo;el software está vivo&rdquo;</strong>. Es una gran verdad que hay que tener en cuenta a la hora de diseñar nuestro sistema automático: debe ser propenso al cambio.</p>
<p>Ésta es una diferencia entre los administradores de sistemas actuales y los de
antaño: hoy día deben abrazar los <a href="https://agilemanifesto.org/">principios del manifiesto ágil</a> y abrazar el cambio. Se acabó lo de &ldquo;si funciona no lo toques&rdquo;.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/automation" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">automation</a>
   </li>
  
   <li class="list">
     <a href="/tags/engineering" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">engineering</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "magmax" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Qué hay en este posts</p>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#estructura">Estructura</a></li>
    <li><a href="#niveles">Niveles</a>
      <ul>
        <li><a href="#nivel-1-documentación">Nivel 1: Documentación</a></li>
        <li><a href="#nivel-2-script">Nivel 2: Script</a></li>
        <li><a href="#nivel-3-script-automatizado">Nivel 3: Script automatizado</a>
          <ul>
            <li><a href="#nivel-31-temporización">Nivel 3.1: Temporización</a></li>
            <li><a href="#nivel-32-replicabilidad">Nivel 3.2: Replicabilidad</a></li>
            <li><a href="#nivel-33-monitorización-y-alertas">Nivel 3.3: Monitorización y alertas</a></li>
            <li><a href="#nivel-34-autorecovery">Nivel 3.4: Autorecovery</a></li>
          </ul>
        </li>
        <li><a href="#nivel-4-sistemas-autónomos">Nivel 4: Sistemas autónomos</a></li>
      </ul>
    </li>
    <li><a href="#nomenclatura">Nomenclatura</a></li>
    <li><a href="#conclusiones">Conclusiones</a></li>
  </ul>
</nav>
  </div>




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Relacionado</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/blog/selenium-y-qa-automation-3/">Selenium y QA Automation: PageObjects</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/selenium-y-qa-automation/">Selenium y QA Automation</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/que-es-ingeniero/">¿Qué es un &#39;Ingeniero&#39;?</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/como-funcionan-las-cosas/">Cómo funcionan las cosas</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/programarsinifs/">Programar sin condicionales</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/no-lo-llames-helper/">No lo llames &#39;util&#39;, llámalo &#39;helper</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/post-agile/">Agile ha muerto. ¡Viva post-agile!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/estadistica/">Estadística</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/mercurial-subversion/">Sistemas de Control de Versiones (Subversion y Mercurial)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/constructores-simples/">Constructores simples</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/arboles-grafos/">Repasando: Árboles y Grafos</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/estatico-vs-dinamico/">Estático vs Dinámico</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/ingenieria/">Ingeniería de software: el nuevo concepto</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/artesania-software/">Artesanía de Software: De qué va todo esto</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://magmax.org/" >
    &copy;  El blog de MagMax 2021 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
