<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="Cómo he vivido yo la PyCon España 2014">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Cache-Control" content="max-age=43200">
<meta http-equiv="ETag" content="b'9961b384731698555d0c834708189f799bdc7c0d'">
<title>Retrospectiva a la #PyConEs2014 (2) | MagMax Blog</title>
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="/assets/css/code.css" rel="stylesheet" type="text/css">
<link href="/assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="/assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="/assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/magmax">
<link rel="canonical" href="http://magmax.org/blog/pycones-2014-2/">
<link rel="icon" href="/favicon_330.png" sizes="330x330">
<link rel="icon" href="/favicon.png" sizes="128x128">
<link rel="icon" href="/favicon.ico" sizes="16x16">
<meta name="description" itemprop="description" content="Cómo he vivido yo la PyCon España 2014">
<meta name="author" content="Miguel Ángel García">
<link rel="prev" href="/blog/pycones-2014/" title="Retrospectiva a la #PyConEs2014 (1)" type="text/html">
<link rel="next" href="/blog/annotate-output/" title="annotate-output" type="text/html">
<meta property="og:site_name" content="MagMax Blog">
<meta property="og:title" content="Retrospectiva a la #PyConEs2014 (2)">
<meta property="og:url" content="http://magmax.org/blog/pycones-2014-2/">
<meta property="og:description" content="Cómo he vivido yo la PyCon España 2014">
<meta property="og:type" content="article">
<meta property="article:author" content="Miguel Ángel García">
<meta property="article:published_time" content="2015-01-19T00:00:00+00:00">
<meta property="article:updated" content="2015-01-19T00:00:00">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@magmax">
<meta name="twitter:creator" content="@magmax">
<meta name="twitter:title" content="MagMax Blog">
<meta name="twitter:description" content="Cómo he vivido yo la PyCon España 2014">
<meta name="twitter:url" content="http://magmax.org//blog/pycones-2014-2/">
<meta name="twitter:image" content="http://magmax.org/favicon.png">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://magmax.org/">

        <span id="blog-title">MagMax Blog</span>
      </a>
    </div>
<!-- /.navbar-header -->
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
<li>
<a href="/">Inicio</a>
                </li>
<li>
<a href="/archive.html">Archivo</a>
                </li>
<li>
<a href="/categories">Categorías</a>
                </li>
<li>
<a href="/projects">Proyectos</a>
                </li>
<li>
<a href="/news">Posts Externos</a>

        
      </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
<form class="navbar-form navbar-left" role="search" action="http://google.com/search" method="get">
<div class="form-group">
<input type="hidden" name="sitesearch" value="magmax.org"><input type="text" name="q" class="form-control" placeholder="Search / Buscar">
</div>
</form>
</li>

        <li style="margin-left:0">
          <a href="http://feeds.feedburner.com/magmax">
            <img src="/assets/images/rss.png" style="width:22px;height:22px"></a>
        </li>

        
      </ul>
</div>
<!-- /.navbar-collapse -->
  </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
  <div class="body-content">
    <div class="row">
      <div class="page-content col-md-9">
        
        <article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="/blog/pycones-2014-2/" class="u-url">Retrospectiva a la #PyConEs2014 (2)</a></h1>
            <div class="metadata text-muted">
              <i class="glyphicon glyphicon-calendar"></i>
              <p class="dateline">
                <time class="published dt-published" datetime="2015-01-19T00:00:00+00:00" title="2015-01-19">2015-01-19</time>
                // <time class="updated dt-updated" datetime="2015-01-19T00:00:00" title="2015-01-19">2015-01-19</time></p>
              <p class="commentline">            <a href="/blog/pycones-2014-2/#disqus_thread" data-disqus-identifier="cache/posts/pycones-2014-2.html">Comments</a>

</p>
              <address class="vcard author"><a class="url fn" href="http://magmax.org">Miguel Ángel García</a></address>
            </div>
            <br></header><div class="e-content entry-content" itemprop="articleBody text">
            <div>
<p>Con dos meses de retraso, ahí va la segunda parte de esta retrospectiva.</p>
<p>Siento que éste artículo no tenga la calidad habitual, pero añadir enlaces es lo que más tiempo me consume y... sinceramente, tengo muchos proyectos en la cabeza y poco tiempo. Algunos de ellos tienen que ver con la web y con artículos :)</p>
<!-- TEASER_END -->

<h2 id="mas-charlas">Más charlas</h2>
<h3 id="ticketea">Ticketea</h3>
<p>Miquel e Iñaki nos contaron algunas cosas de esta empresa, que comenzó con 4 personas, y han crecido hasta 12.</p>
<p>Utilizan AWS y solían utilizar .Net, aunque cambiaron a PHP con Yii y posteriormente a PHP con un framework propio.</p>
<p>Tienen proyectos como "Odín", de <em>Business Intelligence</em>, con lo que explotan PDFs, que están hechos en Django. Han tenido problemas con el modelo de Admin.User, por lo que han tenido que parchearlo. Además, el backend de sesiones es propio, gestionado con Memcached.</p>
<p>Utilizan pylongtables, que es una mezcla de LaTeX y Jinja, y "forseti" como herramienta de despliegue.</p>
<p>Migraron de Nginx + gunicorn + supervisor a Nginx + Chaussette + Circus, ya que Circus permite mantener el socket y evita perder peticiones.</p>
<p>De Django no aprovechan los models de contrib.auth, model forms, o db, pero sí templates, sessions y CVBs. Para gestionar la configuración utilizan django-configurations.</p>
<p>Utilizan muchos <em>mixins</em>, wrappers de los generics de Django. Extienden de FormView para mejorar la gestión de errores de forms, así como tener gestión automática de los mismos mediante django-crispy-forms.</p>
<p>Otra herramienta es "Heracles", que consiste en una cola de ejecución de tareas en segundo plano.</p>
<p>Para ello cuentan con una API en PHP que encola tareas en un RabbitMQ y se procesan con Celery. Se han creado una BaseTask que permite reintentos. Reciben alertas si la tasa de fallos es muy alta.</p>
<p>Por su experiencia, no es buena idea utilizar una configuración Activo/Activo en RabbitMQ con AWS, y lo tienen configurado como Activo/Pasivo.</p>
<p>También nos hablaron de "Thor", otra de sus herramientas que permite independizar el resto de servicios, actuando como sistema de validación.</p>
<p>Tiene una estructura similar al anterior, con una API en PHP, RabbitMQ y Celery., aunque sólo usan RabbitMQ cuando su caché "Thor DEBLs (Domain Business Logic)" falla.</p>
<blockquote>
<p>Más importante que un Equipo A es tener un Plan B.</p>
</blockquote>
<p>Para monitorizar y loggear utilizan sentry + graphite + graphana + rsyslog + logstash + cabot, usando un transaction ID que pueden seguir. Así mismo, tienen distintos niveles de autoescalado.</p>
<p>La parte monetaria es la única que siempre es transaccional y síncrona.</p>
<h3 id="buildout">Buildout</h3>
<p><a href="https://twitter.com/aitzol">Aitzol Naberan</a> nos habló de cómo usan Buildout en CodeSyntax como herramienta de creación y despliegue, y un poco de la historia de Zope.</p>
<p>CodeSyntax es una empresa que se creó en 2001 y comenzó usando Zope. Las versiones 2.5 y 2.6 sólo permitían un despligue manual, y cuando les cierran el CPD y tienen que realizar una migración manual, buscan urgentemente una manera de automatizarlo para la próxima vez.</p>
<p>En las versions 2.7, 2.8 y 2.9 basta con hacer:</p>
<pre class="code literal-block"><span class="nf">.7configure</span> <span class="err">&amp;&amp;</span> <span class="no">make</span> <span class="err">&amp;&amp;</span> <span class="no">make</span> <span class="no">install</span>
</pre>


<p>En estas versiones también aparece el concepto de Zope Instance.</p>
<p>Aparece Plone 2.1, cuya instalación es un tgz. La versión 3.1, ya con Zope 3, comienza a usar small reusable components.</p>
<p>CodeSyntax necesitaba desplegar 150 componentes en Plone 3.0; 250 en Plone 4.0. Sin embargo, bastaban 2-3 comandos y era reproducible.</p>
<p>Utilizan un fichero de configuración tipo INI (buildout.cfg). Cada parte ejecuta una receta. Las versiones las mantienen fijas en el archivo. Usan una extensión de buildout que permite modificar versiones para desarrollo.</p>
<h3 id="clases-en-python-lo-estas-haciendo-mal">Clases en Python: Lo estás haciendo mal</h3>
<p>Victor Terrón nos contó cosas muy interesantes de python 3, como por qué heredamos de <code>object</code>: permite distinguir entre clases de python 2 y clases de python 3. En Python 3... no es necesario, ya que todas heredan de <code>object</code> de forma implícita.</p>
<p>Algo así ocurre con <code>super</code>, que en Python 3 no require argumentos y los toma de forma implícita.</p>
<p>Nos contó qué es el <code>MRO</code>, que es el diagrama de clases pero aplanado. En definitiva, es el encargado de resolver la herencia múltiple.</p>
<p>Una buena práctica es usar <code>self</code> en lugar del nombre de la clase para referirse a las constantes. De esta manera no es necesario tocar más que el nombre si la clase se renombra.</p>
<p>Pero... ¿Por qué todos los métodos tienen que recibir <code>self</code> de forma implícita? Pues porque de esta manera se puede invocar la clase pasándole el objeto como primer argumento, es decir: se puede usar cualquier método como un método estático:</p>
<pre class="code literal-block">object.method()
# is the same than
class.method(object)
</pre>


<p>Además permite añadir métodos al vuelo y utilizar decoradores.</p>
<p>Las variables de clase están compartidas por todas las instancias y son estáticas. Realmente no es necesario definirlas en <code>__init__</code> y en la clase, ya que puede dar errores debido a typos.</p>
<p>Me gustó lo que dijo de que Python no tenga variables privadas: "We're all consenting adults; Es como ir en el coche y agarrarse para ir más seguro".</p>
<p>El <em>Mangling</em> que consiste en un mecanismo interno por el que el compilador nombra las variables con doble guión bajo (también llamado "dunder") con el nombre de la clase para evitar colisiones en la herencia.</p>
<p>Es interesante diferenciar los métodos estáticos y de clase: <code>@staticmethod</code> no tiene argumentos relacionados con el objeto, mientras que <code>@classmethos</code> recibe la clase como primer argumento.</p>
<p>Nos contó el principio de acceso uniforme, por el cuál deberíamos usar <code>properties</code> para todos los métodos de acceso.</p>
<p>También le dio tiempo a comentar <code>__init__</code> y <code>__new__</code>: al contrario de lo que pensamos habitualmente, el constructor es <code>__new__</code>, mientras que <code>__init__</code> es el inicializador.</p>
<h3 id="lightning-talks">Lightning Talks</h3>
<h4 id="miimetiq">Miimetiq</h4>
<p>Oriol Rius nos habló de Miimetiq, una empresa de menos de un año que se encuentra en Barcelona, Londres y Oxford.</p>
<p>Utilizan AMQP como protocolo de comunicaciones entre sensores, <em>embedded devices</em>, productos, sensores, ...</p>
<h4 id="luke-yo-soy-tu-padre">Luke, yo soy tu padre</h4>
<p>Eduardo Ferro, de Alea Soluciones, nos habló de Herencia y Composición.</p>
<p>La herencia fuerza a tener dependencia de fuentes, dependencia de <em>runtime</em> y de los ancestros, lo que implica una dependencia muy alta.</p>
<p>La composición, sin embargo, sólo tiene dependencia de <em>runtime</em> y los métodos usados, por lo que es mucho menor.</p>
<p>Así que deberíamos usar la composición por defecto, salvo para excepciones que es mejor la herencia. En cualquier caso, permitir usar la composición, evitando forzar la herencia.</p>
<h4 id="django-oscar">Django Oscar</h4>
<p>Eyad Toma nos habló de este framework poco conocido.</p>
<p>Pros:</p>
<ul>
<li>muchas características</li>
<li>personalizable</li>
<li>classband views</li>
<li>templates subclassing</li>
</ul>
<p>Contras:</p>
<ul>
<li>Malos ejemplos</li>
<li>comunidad pequeña</li>
<li>Personalizar es duro</li>
</ul>
<h4 id="imathcloud">iMathCloud</h4>
<p>Íñigo Zubizarreta nos mostró la evolución de este producto, que permite trabajos matemáticos colaborativos. Es una especie de ipython online para matemáticos.</p>
<p>Está implementado con MPI con una librería propia, y usa Colossus y Colossus FS.</p>
<h3 id="problema-c10k-la-nube-y-la-supercomputacion">Problema C10K, la nube y la supercomputación</h3>
<p>Guillermo Borrel nos contó que la arquitectura cliente-servidor no funciona en supercomputación. Hay que pensar a lo grande.</p>
<p>Nos recordó que paralelo no es lo mismo que concurrente. Por eso ellos utilizan paralelización por mensajes.</p>
<p>Usan tecnologías como MPI, RabbitMQ, Gevent, Twisted, 0MQ, Accelio, nanomsg, websockedd.</p>
<p>En supercomputación lo primero es hacerlo paralelo, y luego escalable.</p>
<p>Nos recordó la ley de Ambdall: Aquello que va peor es lo que limita tu velocidad. Es decir: Hay que optimizar lo que es más lento.</p>
<p>La métrica más utilizada en supercomputación es la desviación estándar de la latencia. Habitualmente, escribir en disco suele ser el problema ya que genera latencia.</p>
<p>Los centros de datos de supercomputación llevan años usando BBDDs de tipo clave valor, con estructura de caché -&gt; índices/métodos -&gt; Datos. Utilizan URLs como índices.</p>
<p>Ley de Conway: Si hay 5 desarrolladores, habrá 4 módulos y 1 jefe.</p>
<p>En supercomputación es importante buscar la homogeneidad. Y óptimo significa que ahorra dinero.</p>
<h3 id="travisify">Travisify</h3>
<p>Mi charla XD</p>
<p>Creo que no fue muy divertida, la verdad. No sé si era lo que la gente esperaba escuchar, aunque las preguntas fueron bastante interesantes.</p>
<h2 id="conclusion">Conclusión</h2>
<p>Lo peor de todo fue el edificio. Aunque se encuentra en muy buena ubicación, con 3 hoteles cerca y a 5 minutos de la estación de trenes y autobuses, el arquitecto se lució con él. Para encontrar las salas han tenido que pintar líneas en el suelo y evitar así que nos perdamos. Entre el Auditorio y las salas podía haber, fácil 5 minutos a paso normal, lo que hacía que te planteases el cambio de sala. Además, había una puerta atrás que nadie vigilaba, aunque era poco probable que alguien viniera por allí. En general, casi todo el espacio estaba destinado a poner pasillos y escaleras.</p>
<p>El reparto de charlas no estuvo muy acertado, ya que coincidían charlas similares, lo que provocaba que fuera difícil evitarlas y que si te interesaba el tema pudieras ir a ambas. En una ocasión nos cambiamos de sala ya que estábamos casi todos en la sala pequeña y el auditorio estaba casi vacío.</p>
<p>Los chicos de la organización estuvieron muy amables en todo momento, velando porque todo saliera lo mejor posible.</p>
<p>Alguien del trabajo me dijo que lo normal en los congresos es que sólo el 50% de las charlas fueran interesantes. Por ello he ido evaluando cada una de ellas con un +1 si son interesantes, 0 si no lo son y -1 si me han hecho perder el tiempo. Por lo tanto, un resultado positivo implica éxito. En este caso el resultado es de 6/13, lo que significa que ha sido una experiencia muy enriquecedora.</p>
<p>Sin lugar a dudas, vuelvo con ganas de investigar no pocos frentes. Hay mucho que procesar ahora :D</p>
</div>
          </div>
          <br><div>
            <nav><span class="author">
                <span class="glyphicon glyphicon-user"></span> 
                <span>Publicado:Miguel Ángel García</span>
              </span>
               

              
              <span class="dateline">
                <span class="glyphicon glyphicon-calendar"></span> 
                <time class="published dt-published" datetime="2015-01-19T00:00:00+00:00" title="2015-01-19">2015-01-19</time></span>
               
              <span class="tags">
                <span class="glyphicon glyphicon-tags"></span> 
                <a class="label label-primary p-category" href="/categories/python/" rel="tag">python</a>
              </span>
                      <ul class="pager">
<li class="previous">
              <a href="/blog/pycones-2014/" rel="prev" title="Retrospectiva a la #PyConEs2014 (1)">
                <span class="glyphicon glyphicon-arrow-left"></span>
                Publicación anterior
              </a>
            </li>
            <li class="next">
              <a href="/blog/annotate-output/" rel="next" title="annotate-output">
                Siguiente publicación
                <span class="glyphicon glyphicon-arrow-right"></span>
              </a>
            </li>
        </ul>
<div style="margin-left: auto; margin-right: auto;">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-1887364423515042" data-ad-slot="4236077264"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>
            </nav>
</div>
          <section class="comments"><h2>Comentarios</h2>
                            <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="magmax",
            disqus_url="http://magmax.org/blog/pycones-2014-2/",
        disqus_title="Retrospectiva a la #PyConEs2014 (2)",
        disqus_identifier="cache/posts/pycones-2014-2.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


          </section></article><script>var disqus_shortname="magmax";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
      <aside class="sidebar col-md-3"><div>
<section class="panel panel-default"><div class="panel-body">
    <div id="recentcomments" class="dsq-widget">
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:inline-block;width:180px;height:150px" data-ad-client="ca-pub-1887364423515042" data-ad-slot="7479875641"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
</div>
  </div>
</section>
</div>
          <div>
<section class="panel panel-default"><div class="panel-heading">
    <h3 class="panel-title">Last comments</h3>
  </div>
  <div class="panel-body">
    <div id="disqus_last_comments" class="dsq-widget">
      <script type="text/javascript" src="http://magmax.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=32&amp;excerpt_length=150">
      </script>
</div>
  </div>
</section>
</div>
          <div>
<section class="panel panel-default"><div class="panel-heading">
    <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="panel-body">
    <ul id="gh_repos" class="list-unstyled">
<li class="loading">Status updating…</li>
    </ul>
</div>
  <div class="panel-footer">
    <a href="https://github.com/magmax">@magmax</a> on GitHub
  </div>
</section>
</div>
      </aside>
</div>

    <footer>
      Contents © 2009-2018 <a href="mailto:">Miguel Ángel García</a> 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/es/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;width:80px;height:15px;vertical-align:middle" src="https://i.creativecommons.org/l/by-nc-sa/2.5/es/80x15.png"></a>; Using <a href="/stories/credits/">a lot of free software</a>
      
    </footer>
</div>
</div>




<a href="http://www.addthis.com/bookmark.php?v=250" id="addthisbox" class="addthis_button" src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" border="0" alt="Share">
<script data-main="/assets/js/main" src="/assets/js/libs/require/require.min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9308241-3', 'auto');
  ga('send', 'pageview');

</script></a>
</body>
</html>
