<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="Breve introducción a Fitnesse, el framework Java para realizar pruebas de aceptación.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Cache-Control" content="max-age=43200">
<meta http-equiv="ETag" content="b'2c87e47779fbd58d747b6211986592a22beba19d'">
<title>Tests de aceptación con Fitnesse | MagMax Blog</title>
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="/assets/css/code.css" rel="stylesheet" type="text/css">
<link href="/assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="/assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="/assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/magmax">
<link rel="canonical" href="http://magmax.org/blog/tests-de-aceptacion-con-fitnesse/">
<link rel="icon" href="/favicon_330.png" sizes="330x330">
<link rel="icon" href="/favicon.png" sizes="128x128">
<link rel="icon" href="/favicon.ico" sizes="16x16">
<meta name="description" itemprop="description" content="Breve introducción a Fitnesse, el framework Java para realizar pruebas de aceptación.">
<meta name="author" content="Miguel Ángel García">
<link rel="prev" href="/blog/tests-de-aceptacion-con-robot/" title="Tests de aceptación con Robot" type="text/html">
<link rel="next" href="/blog/por-que-odio-windows/" title="Por qué odio Windows" type="text/html">
<meta property="og:site_name" content="MagMax Blog">
<meta property="og:title" content="Tests de aceptación con Fitnesse">
<meta property="og:url" content="http://magmax.org/blog/tests-de-aceptacion-con-fitnesse/">
<meta property="og:description" content="Breve introducción a Fitnesse, el framework Java para realizar pruebas de aceptación.">
<meta property="og:type" content="article">
<meta property="article:author" content="Miguel Ángel García">
<meta property="article:published_time" content="2015-08-31T00:00:00+00:00">
<meta property="article:updated" content="2015-08-31T00:00:00+00:00">
<meta property="article:tag" content="acceptance tests">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@magmax_en">
<meta name="twitter:creator" content="@magmax">
<meta name="twitter:title" content="MagMax Blog">
<meta name="twitter:description" content="Breve introducción a Fitnesse, el framework Java para realizar pruebas de aceptación.">
<meta name="twitter:url" content="http://magmax.org//blog/tests-de-aceptacion-con-fitnesse/">
<meta name="twitter:image" content="http://magmax.org/favicon.png">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://magmax.org/">

        <span id="blog-title">MagMax Blog</span>
      </a>
    </div>
<!-- /.navbar-header -->
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
<li>
<a href="/">Inicio</a>
                </li>
<li>
<a href="/archive.html">Archivo</a>
                </li>
<li>
<a href="/categories">Categorías</a>
                </li>
<li>
<a href="/projects">Proyectos</a>
                </li>
<li>
<a href="/news">Posts Externos</a>

        
      </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
<form class="navbar-form navbar-left" role="search" action="http://google.com/search" method="get">
<div class="form-group">
<input type="hidden" name="sitesearch" value="magmax.org"><input type="text" name="q" class="form-control" placeholder="Search / Buscar">
</div>
</form>
</li>

        <li style="margin-left:0">
          <a href="http://feeds.feedburner.com/magmax">
            <img src="/assets/images/rss.png" style="width:22px;height:22px"></a>
        </li>

        
      </ul>
</div>
<!-- /.navbar-collapse -->
  </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
  <div class="body-content">
    <div class="row">
      <div class="page-content col-md-9">
        
        <article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="/blog/tests-de-aceptacion-con-fitnesse/" class="u-url">Tests de aceptación con Fitnesse</a></h1>
            <div class="metadata text-muted">
              <i class="glyphicon glyphicon-calendar"></i>
              <p class="dateline">
                <time class="published dt-published updated dt-updated" datetime="2015-08-31T00:00:00+00:00" title="2015-08-31">2015-08-31</time></p>
              <p class="commentline">            <a href="/blog/tests-de-aceptacion-con-fitnesse/#disqus_thread" data-disqus-identifier="cache/posts/tests-de-aceptacion-con-fitnesse.html">Comments</a>

</p>
              <address class="vcard author"><a class="url fn" href="http://magmax.org">Miguel Ángel García</a></address>
            </div>
            <br></header><div class="e-content entry-content" itemprop="articleBody text">
            <div>
<p>En un post anterior escribí sobre <cite>cómo escribir tests de aceptación con el framework Robot</cite>. En esta ocasión voy a escribir sobre otro <em>framework</em> con el mismo fin: <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a>.</p>
<p><a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a> es bastante diferente de <a class="reference external" href="http://robotframework.org">Robot</a>. Para empezar, porque no es sólo un <em>framework</em>, sino también un <em>wiki</em>... Podríamos decir que es una <strong>plataforma de testing</strong>.</p>
<p>Además, permite realizar los <em>fixtures</em> en <a class="reference external" href="http://www.fitnesse.org/PlugIns#slim">casi cualquier lenguaje</a>. En esta ocasión veremos sólo Java.</p>
<!-- TEASER_END -->
<div class="section" id="preparando-el-entorno">
<h2>Preparando el entorno</h2>
<p>Lo primero es descargarse <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a>. Éste consta de <a class="reference external" href="http://www.fitnesse.org/FitNesseDownload">un único archivo .jar</a>:</p>
<pre class="literal-block">
wget "http://www.fitnesse.org/fitnesse-standalone.jar?responder=releaseDownload&amp;release=20150814" -O fitnesse-standalone.jar
</pre>
<p>Como es evidente, necesitaremos tener instalado Java. La versión dependerá: Si vamos a crear los <em>fixtures</em> en Java, necesitaremos el JDK, mientras que si los vamos a crear en otro lenguaje nos basta con el JRE.</p>
<p>Ya podemos lanzarlo:</p>
<pre class="literal-block">
java -jar fitnesse-standalone.jar -p 9000
</pre>
<p>Lo que levantará un servidor web con el <em>wiki</em> en el puerto 9000 (por defecto usaría el 80). Conectaos y navegad. Ahí está toda la documentación. Veréis que en algunas páginas se muestra un botón en la parte superior del tipo "Test" o "Suite"... Si lo pulsáis, se lanzan los tests de esa página o de todas las inferiores, respectivamente.</p>
<p>La primera vez que se ejecute descomprimirá todo el <em>wiki</em> para que esté disponible para su edición.</p>
<div class="section" id="ejecutando-desde-linea-de-ordenes">
<h3>Ejecutando desde línea de órdenes</h3>
<p>También se pueden lanzar los tests en línea de órdenes. Para ello se utiliza la opción <cite>-c</cite> y la ruta parcial a lanzar. A menudo será interesante añadir también <cite>&amp;format=text</cite> para poder verlo bonito en modo texto:</p>
<pre class="literal-block">
# Lanzar todos los tests:
java -jar fitnesse-standalone.jar -c "FitNesse.SuiteAcceptanceTests?suite&amp;format=text"
# Lanzar sólo los tests de comentarios:
java -jar fitnesse-standalone.jar -c "FitNesse.SuiteAcceptanceTests.SuiteWidgetTests.TestComment?suite&amp;format=text"
</pre>
<p>Fitnesse lanzará todo lo necesario para terminar devolviéndonos el resultado.</p>
</div>
</div>
<div class="section" id="como-funciona">
<h2>Cómo funciona</h2>
<p>Es importante tener claro cómo funciona <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a>, ya que esto condiciona hacer bien o mal los tests.</p>
<p>Por una parte está el <em>wiki</em>, que ya hemos visto y que tiene poco que explicar. Las páginas se pueden editar directamente desde él.</p>
<p>Por otro lado, el servidor de pruebas. <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a> lanzará uno por cada Suite a probar, y puede estar implementado en cualquier lenguaje. Éste se encargará de manejar las <em>fixtures</em>.</p>
<p>Finalmente, está el procesador, que puede ser <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.FitFramework">Fit</a> o <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM">Slim</a>. Ambos son dos procesadores HTML que extraen los tests de las páginas HTML, los ejecutan en el servidor de pruebas y generan el HTML resultante. Dado que <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM">Slim</a> es la evolución de <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.FitFramework">Fit</a>, me centraré sólo en <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM">Slim</a>.</p>
<p><a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM">Slim</a> permite definir variables y tablas. Para ello utiliza un lenguaje especial en el <em>wiki</em>. Por ejemplo, para definir una variable usa:</p>
<pre class="literal-block">
!define TEST_SYSTEM {slim}
</pre>
<p>Así se define la variable <tt class="docutils literal">TEST_SYSTEM</tt> con el valor <tt class="docutils literal">slim</tt>. Esta variable es muy importante, ya que define el sistema de test a utilizar en la <em>Suite</em>.</p>
<p>Para crear nuevas páginas en el wiki, basta con editar una página y escribir una palabra <em>camelcase</em> ("EstoEsUnEjemplo"); al guardar nos aparecerá el texto renderizado y una interrogación ("Esto Es Un Ejemplo [?]"). Al pulsar sobre ese link, se creará la página enlazada. Así de simple.</p>
<div class="section" id="tablas">
<h3>Tablas</h3>
<p>Las tablas pueden definir distintas cosas, desde las librerías a importar a los propios tests. En esta ocasión nos centraremos en dos: <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM.ImportTable">Import Table</a> y <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM.DecisionTable">Decision Table</a>.</p>
<p>Hay distintos formatos... Todos basados en <abbr title="Comma Separated Values">CSV</abbr> o <abbr title="Tab Separated Values">TSV</abbr>. Aquí utilizaré uno que parece una tabla, separando los campos por <em>pipes</em> ("|").</p>
<div class="section" id="import-table">
<h4>Import Table</h4>
<p>Se utiliza para importar librerías:</p>
<pre class="literal-block">
|import|
|example.jar|
|org.magmax|
</pre>
<p>La primera línea describe el tipo de tabla, mientras que el resto expone las librerías a exportar. Esto generará HTML:</p>
<pre class="code html"><a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-1"></a><span class="nt">&lt;table&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-2"></a>      <span class="nt">&lt;tbody&gt;&lt;tr</span> <span class="na">class=</span><span class="s">"slimRowTitle"</span><span class="nt">&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-3"></a>              <span class="nt">&lt;td&gt;</span>import<span class="nt">&lt;/td&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-4"></a>      <span class="nt">&lt;/tr&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-5"></a>      <span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">"slimRowColor0"</span><span class="nt">&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-6"></a>              <span class="nt">&lt;td&gt;</span>example.jar<span class="nt">&lt;/td&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-7"></a>      <span class="nt">&lt;/tr&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-8"></a>      <span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">"slimRowColor1"</span><span class="nt">&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-9"></a>              <span class="nt">&lt;td&gt;</span>org.magmax<span class="nt">&lt;/td&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-10"></a>      <span class="nt">&lt;/tr&gt;</span>
<a name="rest_code_c943e69e5c5c486b9d682ab1c0663617-11"></a><span class="nt">&lt;/tbody&gt;&lt;/table&gt;</span>
</pre>
</div>
<div class="section" id="decision-table">
<h4>Decision Table</h4>
<p>Una tabla de Decisión nos permite ejecutar <em>fixtures</em>. Veremos aquí lo básico y más adelante tendremos ejemplos reales:</p>
<pre class="literal-block">
|Multiplication|
|factor|factor|multiply?|
|4|2|8|
|44|12|8|
</pre>
<p>Las <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM.DecisionTable">Decision Table</a> son las tablas por defecto, así que no es necesario indicarlo. La primera línea indica la <strong>clase</strong> a utilizar como <em>fixture</em>; la segunda indica qué <strong>métodos</strong> invocar; a partir de la tercera muestra los valores a utilizar para cada método.</p>
<p>La columna que muestra una interrogación implica</p>
<p>Se creará una instancia de la clase indicada por cada fila. Dicho de otro modo: cada fila a partir de la tercera es un <strong>test</strong>.</p>
</div>
</div>
</div>
<div class="section" id="fixtures">
<h2>Fixtures</h2>
<p>Finalmente llegamos a las <em>Fixtures</em>, que son el corazón de todo. El problema aquí es que dependen del lenguaje, así que veremos opciones en Java, cada cual con sus ventajas e inconvenientes.</p>
<div class="section" id="java">
<h3>Java</h3>
<p>Una <em>Fixture</em> Java no es más que una clase con unos métodos. Por ejemplo, para probar la clase anterior necesitaremos la clase <tt class="docutils literal">Multiplication</tt> con los métodos <tt class="docutils literal">void setFactor(Object a)</tt> y <tt class="docutils literal">Object multiply()</tt>. Todas las columnas que no acaben con interrogación buscarán el método <tt class="docutils literal">set</tt> correspondiente.</p>
<p>Veamos un ejemplo de implementación (archivo <cite>java/multiplication.java</cite>):</p>
<pre class="code java"><a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-1"></a><span class="kn">package</span> <span class="nn">org.magmax</span><span class="o">;</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-2"></a>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-3"></a><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-4"></a><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-5"></a>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-6"></a>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-7"></a><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Multiplication</span> <span class="o">{</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-8"></a>    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">factors</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-9"></a>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-10"></a>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFactor</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-11"></a>        <span class="n">factors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-12"></a>    <span class="o">}</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-13"></a>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-14"></a>    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">multiply</span><span class="o">()</span> <span class="o">{</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-15"></a>        <span class="kt">long</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-16"></a>        <span class="k">for</span> <span class="o">(</span><span class="n">Integer</span> <span class="n">i</span><span class="o">:</span> <span class="n">factors</span><span class="o">)</span> <span class="o">{</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-17"></a>            <span class="n">result</span> <span class="o">*=</span> <span class="n">i</span><span class="o">;</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-18"></a>        <span class="o">}</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-19"></a>        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-20"></a>    <span class="o">}</span>
<a name="rest_code_f01ffecfc8194ca799b34d5205c5024b-21"></a><span class="o">}</span>
</pre>
<p>Es fácil de explicar: Cada objeto se guarda una lista de factores que se multiplican en el método <tt class="docutils literal">multiply</tt>. Podemos compilarla:</p>
<pre class="literal-block">
javac multiplication.java
</pre>
<p>Y crear el wiki necesario:</p>
<pre class="literal-block">
!define TEST_SYSTEM {slim}

!path java

|import|
|example.jar|
|org.magmax|

|Multiplication|
|factor|factor|multiply?|
|4|2|8|
|44|12|8|

|Multiplication|
|factor|factor|factor|multiply?|
|2|2|2|8|
</pre>
<p>Obteniendo algo como lo siguiente:</p>
<img alt="Ejemplo de salida de Fitnesse" class="align-center" src="/images/fitnesse_example_001.png" style="width: 685px; height: 507px;"><p>En este ejemplo podemos ver varios tests que pasan y uno que falla, debido a que el test está mal especificado.</p>
</div>
<div class="section" id="python">
<h3>Python</h3>
<p>Pues... Sinceramente, ha sido un verdadero dolor.</p>
<p>La opción de usar <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.FitFramework">Fit</a> es sencilla, pero claro, carecemos de la mayor parte de las características molonas. Basta con instalar el paquete <a class="reference external" href="https://pypi.python.org/pypi/PyFIT">pyfit</a>.</p>
<p>Para usar <a class="reference external" href="http://www.fitnesse.org/FitNesse.UserGuide.WritingAcceptanceTests.SliM">Slim</a> es necesario instalar el paquete <a class="reference external" href="https://github.com/gbremer/waferslim">waferslim</a>, cuyo paquete pip simplemente no funciona. Tras no pocos problemas, tanto con python 2.7 como con python 3.4, he tenido que añadir algún parche que otro y <em>forkear</em> una rama que no es la oficial. Así que recomiendo optar por la solución fácil:</p>
<ol class="arabic">
<li>
<p class="first">En el mismo directorio en el que tengáis el <tt class="docutils literal">jar</tt> de <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a>, clonad mi repositorio: <tt class="docutils literal">git clone <span class="pre">https://github.com/magmax/waferslim.git</span></tt></p>
</li>
<li>
<p class="first">Cread un <em>wiki</em> nuevo con este contenido (llamadlo, por ejemplo, <tt class="docutils literal">EjemploPython</tt>):</p>
<pre class="code text"><a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-1"></a>!define TEST_SYSTEM {slim}
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-2"></a>
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-3"></a>!path .:fixtures
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-4"></a>!define COMMAND_PATTERN {python -m waferslim.server -s %p -p }
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-5"></a>
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-6"></a>|Import|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-7"></a>|multiplication.py|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-8"></a>
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-9"></a>|Multiplication|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-10"></a>|factor|factor|multiply?|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-11"></a>|4|2|8|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-12"></a>|44|12|8|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-13"></a>
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-14"></a>|Multiplication|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-15"></a>|factor|factor|factor|multiply?|
<a name="rest_code_6e394bb2b9e341b69150ce830f71aff8-16"></a>|2|2|2|8|
</pre>
</li>
<li>
<p class="first">Ahora cread el archivo <tt class="docutils literal">fixtures/multiplication.py</tt>, que es el que hemos importado antes:</p>
<pre class="code python"><a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-1"></a><span class="k">class</span> <span class="nc">Multiplication</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-2"></a>    <span class="n">factors</span> <span class="o">=</span> <span class="p">[]</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-3"></a>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-4"></a>    <span class="k">def</span> <span class="nf">setFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-6"></a>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-7"></a>    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-8"></a>        <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-9"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">factors</span><span class="p">:</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-10"></a>            <span class="n">result</span> <span class="o">*=</span> <span class="n">x</span>
<a name="rest_code_ab6fa758a8aa430d8e6380b47e62a397-11"></a>        <span class="k">return</span> <span class="n">result</span>
</pre>
</li>
<li>
<p class="first">Ejecutad los tests</p>
</li>
</ol>
<p>Lejos de estar perfecto y mosqueado por usar un entorno de tests que no tiene tests... Pero por lo menos "parece" que funciona.</p>
</div>
</div>
<div class="section" id="ventajas-e-inconvenientes">
<h2>Ventajas e inconvenientes</h2>
<p>Suponiendo que <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a> funcionara con Python, ambos tendrían sus pros y sus contras:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead valign="bottom"><tr>
<th class="head"><em>LANGUAGE</em></th>
<th class="head"><em>PROS</em></th>
<th class="head"><em>CONS</em></th>
</tr></thead>
<tbody valign="top">
<tr>
<td>Java</td>
<td>Todo Java; no es necesario
instalar nada</td>
<td>Hay que compilar las fixtures</td>
</tr>
<tr>
<td>Python</td>
<td>No hay que estar compilando
las fixtures. Requiere un
intérprete python y hay que
estar instalando librerías
adicionales</td>
<td>Requiere un intérpreter python
y hay que estar instalando
librerías adicionales.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="conclusion">
<h2>Conclusión</h2>
<p><a class="reference external" href="http://robotframework.org">Robot</a> no es el único <em>framework</em> para hacer tests de aceptación, y puede ser muy buena opción en algunos casos. <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a> es otra opción bastante buena que admite muchas más opciones que <a class="reference external" href="http://robotframework.org">Robot</a>. Estas opciones pueden no ser necesarias, lo que redunda en complejidad innecesaria.</p>
<p>Para tests en Python, <a class="reference external" href="http://robotframework.org">Robot</a> es nativo; sin embargo, <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a> es más versátil y admite casi cualquier lenguaje.</p>
<p>Metiéndonos en el lenguaje, <a class="reference external" href="http://robotframework.org">Robot</a> es más orientado al script, mientras que <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a> genera tablas bonitas y fáciles de enseñar a "los jefes".</p>
<p><a class="reference external" href="http://robotframework.org">Robot</a> tiene otras ventajas, como el lenguaje intermedio de resultados. Se puede utilizar para operaciones avanzadas: Reintentar tests fallidos, paralelizar tests... Estas opciones son más complejas con <a class="reference external" href="http://www.fitnesse.org/">Fitnesse</a>.</p>
<p>Próximamente hablaré sobre <a class="reference external" href="http://concordion.org/">Concordion</a>. Aunque <a class="reference external" href="/blog/concordion">ya escribí algo anteriormente sobre Concordion</a>, espero terminar esta serie de artículos con otro más sobre este framework, entrando en mucho mayor detalle.</p>
</div>
</div>
          </div>
          <br><div>
            <nav><span class="author">
                <span class="glyphicon glyphicon-user"></span> 
                <span>Publicado:Miguel Ángel García</span>
              </span>
               

              
              <span class="dateline">
                <span class="glyphicon glyphicon-calendar"></span> 
                <time class="published dt-published" datetime="2015-08-31T00:00:00+00:00" title="2015-08-31">2015-08-31</time></span>
               
              <span class="tags">
                <span class="glyphicon glyphicon-tags"></span> 
                <a class="label label-primary p-category" href="/categories/acceptance-tests/" rel="tag">acceptance tests</a>
              </span>
                      <ul class="pager">
<li class="previous">
              <a href="/blog/tests-de-aceptacion-con-robot/" rel="prev" title="Tests de aceptación con Robot">
                <span class="glyphicon glyphicon-arrow-left"></span>
                Publicación anterior
              </a>
            </li>
            <li class="next">
              <a href="/blog/por-que-odio-windows/" rel="next" title="Por qué odio Windows">
                Siguiente publicación
                <span class="glyphicon glyphicon-arrow-right"></span>
              </a>
            </li>
        </ul></nav>
</div>
          <section class="comments"><h2>Comentarios</h2>
                            <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="magmax",
            disqus_url="http://magmax.org/blog/tests-de-aceptacion-con-fitnesse/",
        disqus_title="Tests de aceptaci\u00f3n con Fitnesse",
        disqus_identifier="cache/posts/tests-de-aceptacion-con-fitnesse.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


          </section></article><script>var disqus_shortname="magmax";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
      <aside class="sidebar col-md-3"><div>
<section class="panel panel-default"><div class="panel-heading">
    <h3 class="panel-title">Last comments</h3>
  </div>
  <div class="panel-body">
    <div id="disqus_last_comments" class="dsq-widget">
      <script type="text/javascript" src="http://magmax.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=32&amp;excerpt_length=150">
      </script>
</div>
  </div>
</section>
</div>
          <div>
<section class="panel panel-default"><div class="panel-heading">
    <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="panel-body">
    <ul id="gh_repos" class="list-unstyled">
<li class="loading">Status updating…</li>
    </ul>
</div>
  <div class="panel-footer">
    <a href="https://github.com/magmax">@magmax</a> on GitHub
  </div>
</section>
</div>
      </aside>
</div>

    <footer>
      Contents © 2009-2020 <a href="mailto:">Miguel Ángel García</a> 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/es/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;width:80px;height:15px;vertical-align:middle" src="https://i.creativecommons.org/l/by-nc-sa/2.5/es/80x15.png"></a>; Using <a href="/stories/credits/">a lot of free software</a>
      
    </footer>
</div>
</div>




<a href="http://www.addthis.com/bookmark.php?v=250" id="addthisbox" class="addthis_button" src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" border="0" alt="Share">
<script data-main="/assets/js/main" src="/assets/js/libs/require/require.min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9308241-3', 'auto');
  ga('send', 'pageview');

</script></a>
</body>
</html>
