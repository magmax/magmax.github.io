<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Magmax 5.0 - El blog de MagMax</title><meta name="Description" content="Evolución del blog"><meta property="og:title" content="Magmax 5.0" />
<meta property="og:description" content="Evolución del blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/magmax-5.0/" /><meta property="og:image" content="https://magmax.org/icons/favicon.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-30T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://magmax.org/icons/favicon.png"/>

<meta name="twitter:title" content="Magmax 5.0"/>
<meta name="twitter:description" content="Evolución del blog"/>
<meta name="application-name" content="El blog de MagMax">
<meta name="apple-mobile-web-app-title" content="El blog de MagMax"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://magmax.org/blog/magmax-5.0/" /><link rel="prev" href="https://magmax.org/blog/argocd/" /><link rel="next" href="https://magmax.org/blog/hugo-shortcodes/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Magmax 5.0",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/magmax.org\/blog\/magmax-5.0\/"
        },"genre": "posts","keywords": "magmax, life","wordcount":  663 ,
        "url": "https:\/\/magmax.org\/blog\/magmax-5.0\/","datePublished": "2021-01-30T00:00:00+00:00","dateModified": "2021-01-30T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Miguel Ángel"},"author": {
                "@type": "Person",
                "name": "Miguel Ángel"
            },"description": "Evolución del blog"
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> Inicio </a><a class="menu-item" href="/posts"> Posts </a><a class="menu-item" href="/tags"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/blog/magmax-5.0/" selected>Español</option></select>
                    </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">Inicio</a><a class="menu-item" href="/posts" title="">Posts</a><a class="menu-item" href="/tags" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/blog/magmax-5.0/" selected>Español</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contenido</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Magmax 5.0</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Miguel Ángel</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="30 Jan 2021">30 Jan 2021</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;663 palabras&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;4 minutos&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contenido</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#magmax-10-drupal">MagMax 1.0: Drupal</a></li>
    <li><a href="#magmax-20-blogger">MagMax 2.0: Blogger</a></li>
    <li><a href="#magmax-30-jekylloctopress">MagMax 3.0: Jekyll/Octopress</a></li>
    <li><a href="#magmax-40-nikola">MagMax 4.0: Nikola</a></li>
    <li><a href="#magmax-50-hugo">MagMax 5.0: Hugo</a>
      <ul>
        <li><a href="#migrando">Migrando</a></li>
        <li><a href="#puesta-en-producción">Puesta en producción</a></li>
        <li><a href="#lecciones-aprendidas">Lecciones aprendidas</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>El blog ha pasado por distintas etapas. Aquí os cuento la evolución del mismo.</p>
<figure><img src="/icons/favicon.png"/>
</figure>

<h2 id="magmax-10-drupal">MagMax 1.0: Drupal</h2>
<p>Pues sí, el blog comenzó utilizando <a href="https://www.drupal.org/" target="_blank" rel="noopener noreffer">Drupal</a> y hosteado en <a href="https://quijost.com/" target="_blank" rel="noopener noreffer">Quijost</a>. Problemas:
incompatibilidades, inseguridad, actualizaciones, spam, &hellip;</p>
<h2 id="magmax-20-blogger">MagMax 2.0: Blogger</h2>
<p>Decidí dejar a Blogger que se encargara. Así me olvidaba de toda la gestión.
Problemas: sentí que dejaba de ser el dueño de mis posts.</p>
<h2 id="magmax-30-jekylloctopress">MagMax 3.0: Jekyll/Octopress</h2>
<p>Así comencé con los generadores estáticos de código. <a href="https://octopress.org/" target="_blank" rel="noopener noreffer">Octopress</a> es un framework
creado sobre <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreffer">Jekyll</a>, y me pareció una buena idea.</p>
<p>Problemas: Es ruby, y comencé a tener problemas de compatibilidades. Al final,
no escribía porque me daba pareza pelearme con él. Además, en generar el site
tardaba 2 minutos.</p>
<h2 id="magmax-40-nikola">MagMax 4.0: Nikola</h2>
<p>Así que pensé&hellip; Si el problema es ruby, ¿Por qué no probar un generador
estático en Python?</p>
<p>Y probé <a href="https://getnikola.com/" target="_blank" rel="noopener noreffer">Nikola</a>, que me ofrecía, además, más ayudas. Menudo error.</p>
<p>Aunque al principio muy bien, pronto comencé a tener los mismos problemas que
con <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreffer">Jekyll</a>: lento y problemas de incompatibilidades. A la mínima me hacían
cambios incompatibles hacia atrás.</p>
<h2 id="magmax-50-hugo">MagMax 5.0: Hugo</h2>
<p>Y así llegué a <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer">Hugo</a>.</p>
<p>La web ha pasado de tardar 2 minutos a tardar 2 segundos. Literalmente.</p>
<p>Además, no sólo no he perdido ninguna de las características que tenía con
<a href="https://getnikola.com/" target="_blank" rel="noopener noreffer">Nikola</a>, sino que tengo muchas más, como que es multi-idioma nativo.</p>
<p>Pero había algo que me echaba para atrás. Durante la época que estuve usando
<a href="https://getnikola.com/" target="_blank" rel="noopener noreffer">Nikola</a> comencé a pasar los artículos de <a href="https://markdown.es" target="_blank" rel="noopener noreffer">Markdown</a> a <a href="https://es.wikipedia.org/wiki/ReStructuredText" target="_blank" rel="noopener noreffer">Restructured Text</a>, con
el fin de unificar formatos. Así que me encontré con 248 artículos por revisar,
de los cuales sólo unos 70 estaban en <a href="https://markdown.es" target="_blank" rel="noopener noreffer">Markdown</a>.</p>
<p>En las migraciones anteriores utilicé <a href="https://magmax.org/blog/migrando-a-nikola/" rel="">programitas de migración</a> que me había
creado, Estos programas funcionaron bien sobre el 90% de los artículos, pero
poco a poco la calidad había decrecido. Así que decidí hacer la migración <strong>a
mano</strong>.</p>
<h3 id="migrando">Migrando</h3>
<p>Comencé con los artículos que ya estaban en <a href="https://markdown.es" target="_blank" rel="noopener noreffer">Markdown</a>, porque me suponían menos
trabajo. Gracias a ellos cogí soltura en el <a href="https://markdown.es" target="_blank" rel="noopener noreffer">Markdown</a> que soporta <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer">Hugo</a>.</p>
<p>Además, me permitió crearme algunas macros para Vim que me ayudaban con las
tareas más rutinarias.</p>
<p>Semanas después, comencé a migrar los artículos en formato <a href="https://es.wikipedia.org/wiki/ReStructuredText" target="_blank" rel="noopener noreffer">Restructured Text</a>.
Estos tenían el añadido de tener que cambiar también las cabeceras.</p>
<p>Finalmente, me creé tests para asegurar que no me había dejado nada. Los tests
tenían esta pinta:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="n">FILES</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;posts&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;content/posts&#39;</span><span class="p">)]</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s1">&#39;filename&#39;</span><span class="p">,</span> <span class="n">FILES</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_not_contains_code</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;:code:&#39;</span><span class="p">,</span> <span class="n">fd</span><span class="o">.</span><span class="n">read</span><span class="p">())</span> <span class="ow">is</span> <span class="kc">None</span>
</code></pre></td></tr></table>
</div>
</div><p>Resultado: <code>1991 passed, 9 skipped in 2.62s</code></p>
<h3 id="puesta-en-producción">Puesta en producción</h3>
<p>Y llegó el día de la puesta en producción. Es un estático, así que no tiene que
dar problemas. Lo subo y&hellip; Error <code>404</code>.</p>
<p>Tras mucho pelearme con GitHub, encontré el problema: al tener mi propio dominio
tenía que crear el archivo <code>CNAME</code> con el nombre del dominio. Ahora sí&hellip; Subida
a producción.</p>
<p>Compruebo que todo funciona y estoy orgulloso del cambio que me ha llevado,
literalmente, meses. Lo <a href="https://twitter.com/magmax_en/status/1353947093929512962" target="_blank" rel="noopener noreffer">anuncio a bombo y platillo</a> y entonces, <a href="https://twitter.com/recena" target="_blank" rel="noopener noreffer">@recena</a> me
indica que el <a href="https://twitter.com/recena/status/1353968545995108355" target="_blank" rel="noopener noreffer">tema que elegí no funciona bien en móvil</a>:</p>
<figure><img src="/images/magmax50/site-mobile.png"/>
</figure>

<p>Así que tuve que poner otro tema deprisa y corriendo, y me costó algo más de 2
días encontrar otro tema adecuado y adaptarlo.</p>
<p>Si, desde el principio, hubiera compartido la evolución, probablemente el
problema hubiera surgido antes y no me habría vuelto loco en el último instante.</p>
<h3 id="lecciones-aprendidas">Lecciones aprendidas</h3>
<ul>
<li>Las herramientas de migración están muy bien, pero fallan. Me encontré posts
que no se podían ni leer, enlaces rotos, elementos que sólo funcionaban en
alguno de los sistemas anteriores, ¡hasta cosas de <a href="https://www.drupal.org/" target="_blank" rel="noopener noreffer">Drupal</a>!</li>
<li>Hugo está muy bien, pero sus errores son crípticos. Puede dejar de funcionar
porque el tema que has elegido tiene una plantilla que usa algo que está vacío
en un único post.</li>
<li>Hugo es muy potente. Aunque es Golang, las plantillas son las plantillas
Golang y te permite expandirlo sólo usando dichas plantillas.</li>
</ul></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 30 Jan 2021</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Compartir en Twitter" data-sharer="twitter" data-url="https://magmax.org/blog/magmax-5.0/" data-title="Magmax 5.0" data-hashtags="magmax,life"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Facebook" data-sharer="facebook" data-url="https://magmax.org/blog/magmax-5.0/" data-hashtag="magmax"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Linkedin" data-sharer="linkedin" data-url="https://magmax.org/blog/magmax-5.0/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="https://magmax.org/blog/magmax-5.0/" data-title="Magmax 5.0" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Tumblr" data-sharer="tumblr" data-url="https://magmax.org/blog/magmax-5.0/" data-title="Magmax 5.0" data-caption="Evolución del blog" data-tags="magmax,life"><i class="fab fa-tumblr fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Reddit" data-sharer="reddit" data-url="https://magmax.org/blog/magmax-5.0/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Instapaper" data-sharer="instapaper" data-url="https://magmax.org/blog/magmax-5.0/" data-title="Magmax 5.0" data-description="Evolución del blog"><i data-svg-src="/lib/simple-icons/icons/instapaper.min.svg"></i></a><a href="javascript:void(0);" title="Compartir en Digg" data-sharer="digg" data-url="https://magmax.org/blog/magmax-5.0/"><i class="fab fa-digg fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Blogger" data-sharer="blogger" data-url="https://magmax.org/blog/magmax-5.0/" data-title="Magmax 5.0" data-description="Evolución del blog"><i class="fab fa-blogger fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/magmax/">magmax</a>,&nbsp;<a href="/tags/life/">life</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/argocd/" class="prev" rel="prev" title="ArgoCD con Kind"><i class="fas fa-angle-left fa-fw"></i>ArgoCD con Kind</a>
            <a href="/blog/hugo-shortcodes/" class="next" rel="next" title="Hugo: Shortcodes">Hugo: Shortcodes<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.91.2">Hugo</a> | Tema - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Miguel Ángel</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><script type="text/javascript" src="https://magmax.disqus.com/embed.js" defer></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-9308241-3', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-9308241-3" async></script></body>
</html>
