<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Django: Building a basic site with Admin - MagMax's blog</title><meta name=Description content="El blog de un Ingeniero Informático: tutoriales, manuales, opiniones, comparativas, ..."><meta property="og:url" content="/en/blog/django-sitio-basico/">
<meta property="og:site_name" content="MagMax's blog"><meta property="og:title" content="Django: Building a basic site with Admin"><meta property="og:description" content="Moving my site I realized that I have’t wrote any post about Django. I was sure enough to have been done it. So I must solve this problem XD"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2012-01-20T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-28T00:00:00+00:00"><meta property="article:tag" content="Django"><meta property="og:image" content="/icons/favicon.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/icons/favicon.png"><meta name=twitter:title content="Django: Building a basic site with Admin"><meta name=twitter:description content="Moving my site I realized that I have’t wrote any post about Django. I was sure enough to have been done it. So I must solve this problem XD"><meta name=twitter:site content="@magmax_en"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=/en/blog/django-sitio-basico/><link rel=prev href=/en/blog/kohana-module/><link rel=next href=/en/blog/python-asignaciones/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Django: Building a basic site with Admin","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"\/en\/blog\/django-sitio-basico\/"},"genre":"posts","keywords":"django","wordcount":1200,"url":"\/en\/blog\/django-sitio-basico\/","datePublished":"2012-01-20T00:00:00+00:00","dateModified":"2021-01-28T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Miguel Ángel"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/en/ title="MagMax's blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/icons/favicon.png data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x" data-sizes=auto alt=/icons/favicon.png title=/icons/favicon.png>MagMax Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/en/>Home </a><a class=menu-item href=/en/posts>Posts </a><a class=menu-item href=/en/tags>Tags </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="menu-item language" title="Select Language"><i class="fa fa-globe" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/en/blog/django-sitio-basico/ selected>English</option><option value=/blog/django-sitio-basico/>Español</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/en/ title="MagMax's blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/icons/favicon.png data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x" data-sizes=auto alt=/icons/favicon.png title=/icons/favicon.png>MagMax Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/en/ title>Home</a><a class=menu-item href=/en/posts title>Posts</a><a class=menu-item href=/en/tags title>Tags</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title="Select Language"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/en/blog/django-sitio-basico/ selected>English</option><option value=/blog/django-sitio-basico/>Español</option></select></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Django: Building a basic site with Admin</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/en/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Miguel Ángel</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="Fri Jan 20, 2012">Fri Jan 20, 2012</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1200 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;6 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#what-is-that>What is that?</a></li><li><a href=#installation>Installation</a></li><li><a href=#creation>Creation</a></li><li><a href=#the-model>The model</a></li><li><a href=#urls>URLs</a></li><li><a href=#administration>Administration</a></li><li><a href=#the-view>The View</a></li><li><a href=#how-to-use-it>How to use it</a></li><li><a href=#more-information>More information</a></li><li><a href=#goodbyes>Goodbyes</a></li></ul></nav></div></div><div class=content id=content><p>Moving my site I realized that I have&rsquo;t wrote any post about Django. I was sure enough to have been done it. So I must solve this problem XD</p><figure><img src=/images/django.jpg alt=Django></figure><h2 id=what-is-that>What is that?</h2><p>Django is a framework to build web applications. It is centered on the backend,
offering you templates to use in the frontend, but it is possible that you need
another additional framework for this layer, just like <a href=https://jquery.com/ target=_blank rel="noopener noreffer">JQuery</a> , <a href=https://dojotoolkit.org/ target=_blank rel="noopener noreffer">Dojo</a> ,
<a href=https://mootools.net/ target=_blank rel="noopener noreffer">Mootools</a> , <a href=https://www.prototypejs.org/ target=_blank rel="noopener noreffer">Prototype</a> , etc.</p><h2 id=installation>Installation</h2><p>We can install it by using <a href=https://pypi.python.org/pypi/setuptools target=_blank rel="noopener noreffer">easyinstall</a> , althought it has already a <a href=https://www.debian.org/ target=_blank rel="noopener noreffer">Debian</a>
package. You can <a href=/blog/virtualenv/ rel>isolate the Django installation</a>, in order to clone it easily.</p><h2 id=creation>Creation</h2><p>Let&rsquo;s see how to build a little CMS. It is going to contain posts and nothing more. With this goal, the first step will be telling to Django about creating the site:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ django-admin startproject myblog
</span></span><span class=line><span class=cl>$ <span class=nb>cd</span> myblog
</span></span><span class=line><span class=cl>$ python manage.py startapp blog
</span></span><span class=line><span class=cl>$ tree
</span></span><span class=line><span class=cl>.
</span></span><span class=line><span class=cl><span class=p>|</span>-- blog
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>-- __init__.py
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>-- models.py
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=p>|</span>-- tests.py
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=sb>`</span>-- views.py
</span></span><span class=line><span class=cl><span class=p>|</span>-- __init__.py
</span></span><span class=line><span class=cl><span class=p>|</span>-- manage.py
</span></span><span class=line><span class=cl><span class=p>|</span>-- settings.py
</span></span><span class=line><span class=cl><span class=sb>`</span>-- urls.py
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>1</span> directory, <span class=m>10</span> files
</span></span><span class=line><span class=cl>$
</span></span></code></pre></td></tr></table></div></div><p>Before continuing on, let&rsquo;s configure our database, modifying <code>settings.py</code> file, where we must write the database to use. By the way, we will update the installed applications to use &ldquo;admin&rdquo; and our new module.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>DATABASES</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;default&#39;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;ENGINE&#39;</span><span class=p>:</span> <span class=s1>&#39;django.db.backends.sqlite3&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;NAME&#39;</span><span class=p>:</span> <span class=s1>&#39;database.db&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;USER&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;PASSWORD&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;HOST&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;PORT&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>TEMPLATE_DIRS</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;/absolute_path/&#39;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>INSTALLED_APPS</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.auth&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.contenttypes&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.sessions&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.sites&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.messages&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.staticfiles&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;django.contrib.admin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;blog&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Leave everything else untouched.</p><p>Now we can run the server, but it is going to do very few things:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ python manage.py syncdb
</span></span><span class=line><span class=cl>Creating tables ...
</span></span><span class=line><span class=cl>Creating table auth_permission
</span></span><span class=line><span class=cl>Creating table auth_group_permissions
</span></span><span class=line><span class=cl>Creating table auth_group
</span></span><span class=line><span class=cl>Creating table auth_user_user_permissions
</span></span><span class=line><span class=cl>Creating table auth_user_groups
</span></span><span class=line><span class=cl>Creating table auth_user
</span></span><span class=line><span class=cl>Creating table auth_message
</span></span><span class=line><span class=cl>Creating table django_content_type
</span></span><span class=line><span class=cl>Creating table django_session
</span></span><span class=line><span class=cl>Creating table django_site
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>You just installed Django<span class=s1>&#39;s auth system, which means you don&#39;</span>t have any superusers defined.
</span></span><span class=line><span class=cl>Would you like to create one now? <span class=o>(</span>yes/no<span class=o>)</span>: yes
</span></span><span class=line><span class=cl>Username <span class=o>(</span>Leave blank to use <span class=s1>&#39;miguel&#39;</span><span class=o>)</span>: admin
</span></span><span class=line><span class=cl>E-mail address: admin@example.com
</span></span><span class=line><span class=cl>Password:
</span></span><span class=line><span class=cl>Password <span class=o>(</span>again<span class=o>)</span>:
</span></span><span class=line><span class=cl>Superuser created successfully.
</span></span><span class=line><span class=cl>Installing custom SQL ...
</span></span><span class=line><span class=cl>Installing indexes ...
</span></span><span class=line><span class=cl>No fixtures found.
</span></span><span class=line><span class=cl>$ python manage.py runserver
</span></span><span class=line><span class=cl>Validating models...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>0</span> errors found
</span></span><span class=line><span class=cl>Django version 1.3, using settings <span class=s1>&#39;myblog.settings&#39;</span>
</span></span><span class=line><span class=cl>Development server is running at https://127.0.0.1:8000/
</span></span><span class=line><span class=cl>Quit the server with CONTROL-C.
</span></span></code></pre></td></tr></table></div></div><p>And we can open the site, that can be found at <a href=https://127.0.0.1:8000 target=_blank rel="noopener noreffer">https://127.0.0.1:8000</a>.</p><h2 id=the-model>The model</h2><p>Let&rsquo;s edit the model (<code>blog/models.py</code>), and write a very basic model:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.db</span> <span class=kn>import</span> <span class=n>models</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Post</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>max_length</span><span class=o>=</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>body</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>TextField</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>As you can see, we will have a title and a body. It is not necessary anything else right now.</p><h2 id=urls>URLs</h2><p>Now we are going to update the file <code>urls.py</code>. This file is going to be used to
allow django to decide what to do with each URL that is requested. That is the
reason it works with regular expressions, allowing it to identify which service
or HTML must process for each case. We need to uncomment django-admin lines
(<code>urls.py</code> file):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.conf.urls.defaults</span> <span class=kn>import</span> <span class=n>patterns</span><span class=p>,</span> <span class=n>include</span><span class=p>,</span> <span class=n>url</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.contrib</span> <span class=kn>import</span> <span class=n>admin</span>
</span></span><span class=line><span class=cl><span class=n>admin</span><span class=o>.</span><span class=n>autodiscover</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>urlpatterns</span> <span class=o>=</span> <span class=n>patterns</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;^admin/&#39;</span><span class=p>,</span> <span class=n>include</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>site</span><span class=o>.</span><span class=n>urls</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;^blog/&#39;</span><span class=p>,</span> <span class=s1>&#39;myblog.blog.views.list&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=administration>Administration</h2><p>We are going to configure the administration tool, to allow us to edit our
entries. We are going to use the file <code>blog/admin.py</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>myblog.blog.models</span> <span class=kn>import</span> <span class=n>Post</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.contrib</span> <span class=kn>import</span> <span class=n>admin</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>admin</span><span class=o>.</span><span class=n>site</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>Post</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=the-view>The View</h2><p>In the URLs file we can write that, when the URL <code>blog/</code> is found, we will see
<code>blog.views.list</code>. It is not defined yet, and we will do it in file
&lsquo;<code>admin/views.py</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>django.shortcuts</span> <span class=kn>import</span> <span class=n>render_to_response</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>blog.models</span> <span class=kn>import</span> <span class=n>Post</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>list</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>render_to_response</span><span class=p>(</span><span class=s1>&#39;blog/list.html&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                              <span class=p>{</span><span class=s1>&#39;post_list&#39;</span><span class=p>:</span> <span class=n>Post</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>all</span><span class=p>()})</span>
</span></span></code></pre></td></tr></table></div></div><p>With this step we have just made a dependency: <code>blog/list.html</code>. In this case,
we will need to build a template. Templates are something away from our project,
and they are isolated of it. When you build a Django site, modules are installed
in a place, each of them installed as isolated as it can be possible from
others. If it is possible, they must have no dependency with the others (if it
is possible, I said). It will be templates which give our project the
homogeneity and join all the <em>site</em>. We wrote a path for <em>TEMPLATE_DIRS</em> in
the &lsquo;settings.py&rsquo; file. You must create the file <code>blog/list.html</code> there:</p><p>We are using the variable <code>post_list</code> in our template, looping on it and rendering it how we want.</p><h2 id=how-to-use-it>How to use it</h2><p>Everything is done!! Hmmm&mldr; And what&rsquo;s next?</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Lista de Posts<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Lista de Posts<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>{% if post_list %}
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     {% for post in post_list %}
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>{{ post.title }}<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     {% endfor %}
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>{% else %}
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>No blogs found.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>{% endif %}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Well, we are going to use it. First of all, let&rsquo;s assure our database is updated and let&rsquo;s run the server:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ python manage.py syncdb
</span></span><span class=line><span class=cl>Creating tables ...
</span></span><span class=line><span class=cl>Installing custom SQL ...
</span></span><span class=line><span class=cl>Installing indexes ...
</span></span><span class=line><span class=cl>No fixtures found.
</span></span><span class=line><span class=cl>$ python manage.py runserver
</span></span><span class=line><span class=cl>Validating models...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>0</span> errors found
</span></span><span class=line><span class=cl>Django version 1.3, using settings <span class=s1>&#39;myblog.settings&#39;</span>
</span></span><span class=line><span class=cl>Development server is running at https://127.0.0.1:8000/
</span></span><span class=line><span class=cl>Quit the server with CONTROL-C.
</span></span></code></pre></td></tr></table></div></div><p>Now everything is working. We can open the URL that the message was saying to
us: <a href=https://127.0.0.1:8000 target=_blank rel="noopener noreffer">https://127.0.0.1:8000</a> , what carries us to a wonderful &ldquo;page not found&rdquo; <em>error</em>. As far as we have debugging option enabled, we can read what happened: The requested URL does not match any defined patterns.</p><p>Let&rsquo;s try the admin interface: <a href=https://127.0.0.1:8000/admin target=_blank rel="noopener noreffer">https://127.0.0.1:8000/admin</a> . It will ask us the password (that we choose when we did first &ldquo;syncdb&rdquo;) and we enter as administrators. We should see three blocks:</p><ul><li>Auth</li><li>Blog</li><li>Sites</li></ul><p>If you can see them it is because you did everything right. Create a couple of posts in the &ldquo;Blog&rdquo; module. It is not difficult enough.</p><p>All these stuff related to the admin interface has been created automatically by using &ldquo;django-admin&rdquo; module.</p><p>Do you have 2-3 posts? All right. Let&rsquo;s see the view:
<a href=https://127.0.0.1:8000/blog target=_blank rel="noopener noreffer">https://127.0.0.1:8000/blog</a> . There is nothing to say here but we must be seeing our blog :D</p><h2 id=more-information>More information</h2><p>As you can imagine, <a href=https://docs.djangoproject.com/en/1.3/intro/tutorial01/ target=_blank rel="noopener noreffer">the wonderful django tutorial</a> :D.</p><h2 id=goodbyes>Goodbyes</h2><p>If I see this issues are interesting, maybe some day I will continue with this little manual. There are a lot of things to be done now:</p><ul><li>To paginate entries if there are a lot</li><li>To create a CRUD interface to avoid to edit posts from admin interface</li><li>To give some color to the site.</li><li>Add tags to our posts.</li><li>Sort them by publishing date.</li><li>Manage users</li><li>Add some tests</li><li>[Think whatever you want and write it here]</li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on Thu Jan 28, 2021</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=/en/blog/django-sitio-basico/ data-title="Django: Building a basic site with Admin" data-via=magmax_en data-hashtags=django><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=/en/blog/django-sitio-basico/ data-hashtag=django><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=/en/blog/django-sitio-basico/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=/en/blog/django-sitio-basico/ data-title="Django: Building a basic site with Admin" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Tumblr" data-sharer=tumblr data-url=/en/blog/django-sitio-basico/ data-title="Django: Building a basic site with Admin" data-tags=django><i class="fab fa-tumblr fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=/en/blog/django-sitio-basico/><i class="fab fa-reddit fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Instapaper" data-sharer=instapaper data-url=/en/blog/django-sitio-basico/ data-title="Django: Building a basic site with Admin" data-description><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/instapaper.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=/en/blog/django-sitio-basico/ data-title="Django: Building a basic site with Admin"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=/en/blog/django-sitio-basico/ data-title="Django: Building a basic site with Admin" data-description><i class="fab fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/en/tags/django/>Django</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/en/>Home</a></span></section></div><div class=post-nav><a href=/en/blog/kohana-module/ class=prev rel=prev title="Kohana module"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Kohana module</a>
<a href=/en/blog/python-asignaciones/ class=next rel=next title="Python: Assignments with default values">Python: Assignments with default values<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.135.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/en/ target=_blank>Miguel Ángel</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://magmax.disqus.com/embed.js defer></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-X5FEBMGR06",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-X5FEBMGR06" async></script></body></html>