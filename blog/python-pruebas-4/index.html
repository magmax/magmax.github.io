<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Python: Cómo hacer pruebas 4: pyDoubles - El blog de MagMax</title><meta name="Description" content="El blog de un Ingeniero Informático: tutoriales, manuales, opiniones, comparativas, ..."><meta property="og:title" content="Python: Cómo hacer pruebas 4: pyDoubles" />
<meta property="og:description" content="Tras las peticiones populares , no puedo evitar escribir este post antes de lo que esperaba.
Es la continuación del artículo Python: Cómo hacer pruebas(3), que parece haber tenido bastante éxito.
En este caso vamos a ver los dobles de prueba, y utilizaremos, cómo no, pyDoubles , creado principalmente por Carlos Blé  y disponible en Debian gracias a mi buen amigo David Villa.
Actualización 2011-11-16: Corrijo el significado de las siglas F.I.R.S.T. (¡Gracias, David!)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/python-pruebas-4/" /><meta property="og:image" content="https://magmax.org/icons/favicon.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-11-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-28T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://magmax.org/icons/favicon.png"/>

<meta name="twitter:title" content="Python: Cómo hacer pruebas 4: pyDoubles"/>
<meta name="twitter:description" content="Tras las peticiones populares , no puedo evitar escribir este post antes de lo que esperaba.
Es la continuación del artículo Python: Cómo hacer pruebas(3), que parece haber tenido bastante éxito.
En este caso vamos a ver los dobles de prueba, y utilizaremos, cómo no, pyDoubles , creado principalmente por Carlos Blé  y disponible en Debian gracias a mi buen amigo David Villa.
Actualización 2011-11-16: Corrijo el significado de las siglas F.I.R.S.T. (¡Gracias, David!)."/>
<meta name="application-name" content="El blog de MagMax">
<meta name="apple-mobile-web-app-title" content="El blog de MagMax"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://magmax.org/blog/python-pruebas-4/" /><link rel="prev" href="https://magmax.org/blog/python-pruebas-3/" /><link rel="next" href="https://magmax.org/blog/python-tokenizer/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Python: Cómo hacer pruebas 4: pyDoubles",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/magmax.org\/blog\/python-pruebas-4\/"
        },"genre": "posts","keywords": "pydoubles, python testing","wordcount":  1827 ,
        "url": "https:\/\/magmax.org\/blog\/python-pruebas-4\/","datePublished": "2011-11-09T00:00:00+00:00","dateModified": "2021-01-28T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Miguel Ángel"},"author": {
                "@type": "Person",
                "name": "Miguel Ángel"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> Inicio </a><a class="menu-item" href="/posts"> Posts </a><a class="menu-item" href="/tags"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/blog/python-pruebas-4/" selected>Español</option></select>
                    </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">Inicio</a><a class="menu-item" href="/posts" title="">Posts</a><a class="menu-item" href="/tags" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/blog/python-pruebas-4/" selected>Español</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contenido</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Python: Cómo hacer pruebas 4: pyDoubles</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Miguel Ángel</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="09 Nov 2011">09 Nov 2011</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1827 palabras&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;9 minutos&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contenido</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#qué-vamos-a-hacer">Qué vamos a hacer</a></li>
    <li><a href="#archivos">Archivos</a></li>
    <li><a href="#las-pruebas">Las Pruebas&hellip;</a></li>
    <li><a href="#directorios">Directorios</a></li>
    <li><a href="#probando-que-es-gerundio">Probando, que es gerundio</a>
      <ul>
        <li><a href="#añadiendo">Añadiendo</a></li>
        <li><a href="#borrando">Borrando</a></li>
        <li><a href="#cambiando-permisos">Cambiando permisos</a></li>
        <li><a href="#todo-junto">Todo junto</a></li>
      </ul>
    </li>
    <li><a href="#respuestas-predefinidas">Respuestas predefinidas</a></li>
    <li><a href="#cuestión-de-nomenclatura">Cuestión de nomenclatura</a></li>
    <li><a href="#hamcrest-y-pydoubles">Hamcrest y pyDoubles</a></li>
    <li><a href="#un-gran-poder-conlleva-una-gran-responsabilidad">Un gran poder conlleva una gran responsabilidad</a></li>
    <li><a href="#para-más-información">Para más información</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Tras las <a href="https://twitter.com/#!/programania/status/133533559779635200" target="_blank" rel="noopener noreffer">peticiones populares</a> , no puedo evitar escribir este post antes de lo que esperaba.</p>
<p>Es la continuación del artículo <a href="https://magmax.org/blog/python-pruebas-3/" rel="">Python: Cómo hacer pruebas(3)</a>, que parece haber tenido bastante éxito.</p>
<p>En este caso vamos a ver los dobles de prueba, y utilizaremos, cómo no, <a href="https://www.pydoubles.org/" target="_blank" rel="noopener noreffer">pyDoubles</a> , creado principalmente por <a href="https://www.carlosble.com/" target="_blank" rel="noopener noreffer">Carlos Blé</a>  y disponible en Debian gracias a mi buen amigo <a href="https://arco.esi.uclm.es/~david.villa/" target="_blank" rel="noopener noreffer">David Villa</a>.</p>
<p><em>Actualización 2011-11-16</em>: Corrijo el significado de las siglas F.I.R.S.T. (¡Gracias, David!).</p>
<figure><img src="/images/python.png"
         alt="Python"/>
</figure>

<h2 id="qué-vamos-a-hacer">Qué vamos a hacer</h2>
<p>En las ocasiones anteriores me he centrado en pruebas unitarias de objetos que no tienen relación con el mundo exterior. Esto está muy bien, pero es una mala programación. En una programación más <em>pythónica</em> utilizaremos objetos. Montones de objetos. Y los objetos hablan entre ellos.</p>
<p>Una batería de pruebas unitarias que se precie tiene que cumplir las condiciones FIRST, a saber:</p>
<ul>
<li><em>Fast</em>, deben ejecutarse en unos pocos segundos.</li>
<li><em>Independant</em>, evitando el <em>scripting</em>: una prueba es independiente de todas las anteriores y, por tanto, pueden ejecutarse en cualquier orden.</li>
<li><em>Repeatable</em>, de manera que podemos ejecutarla dos o más veces seguidas sin que afecte al resultado.</li>
<li><em>Self-Validating</em>, dando un valor booleano por respuesta, y evitando así buscar esta respuesta en un mar de logs.</li>
<li><em>Timely</em>, en el momento adecuado; de nada sirve escribir los tests <em>después</em> del código, ya que éste puede resultar difícil de probar.</li>
</ul>
<p>Podéis consultar la definición original de estas reglas en el libro &ldquo;Clean Code&rdquo;, de Robert C. Martin, al final del capítulo 9, &ldquo;Unit Tests&rdquo;, páginas 130-131.</p>
<p>Supongamos por un momento que tenemos un objeto que depende de otro. ¿Cómo hacemos que sean las pruebas del primero sean independientes? Lo tenemos complicado. Bueno, pues aquí es donde entran los <em>dobles de pruebas</em>: Creamos un objeto que <em>parece</em> el original, pero que <em>no es</em> el original (bueno, o sí&hellip; ya lo veremos).</p>
<p>Puedo aseguraros que me ha resultado difícil encontrar un ejemplo en el que relacionar dos objetos, con un dominio conocido por todos, pequeño y sencillo, de manera que resulte altamente didáctico&hellip; Y resulta que tenía el caso justo enfrente de mí :D. Vamos a implementar un pequeño <em>sistema de ficheros</em> muy muy básico. Vamos a centrarnos en un <em>directorio</em>. Y nos vamos a centrar en dos operaciones: <em>borrar</em> y <em>cambiar permisos</em>. Claro&hellip; Tenemos el problema de que un directorio depende fuertemente de otros directorios y de archivos, pero no quiero meterme en la implementación de los archivos&hellip; ¿Cómo lo hacemos?</p>
<h2 id="archivos">Archivos</h2>
<p>Como he dicho, no queremos meternos en la implementación de archivos, así que esto es lo que vamos a necesitar (lo copio aquí para no estar repitiéndolo todo el rato):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Archivo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">borrar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&#34;no lo vamos a necesitar&#34;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cambiar_permisos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permisos</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&#34;no lo vamos a necesitar&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Como véis, si llegáramos a entrar en alguna de las funciones, nuestros tests fallarían estrepitosamente. Tenemos que ser capaces de probarlo sin usar el archivo real.</p>
<h2 id="las-pruebas">Las Pruebas&hellip;</h2>
<p>Para probarlo voy a usar <a href="https://readthedocs.org/docs/nose/en/latest/" target="_blank" rel="noopener noreffer">nose</a> , ¡¡que para eso expliqué <a href="https://magmax.org/blog/python-pruebas-3/" rel="">en el artículo anterior</a> cómo usarlo!!.</p>
<p>El problema de <em>nose</em> es que la clase de pruebas debe estar arriba del todo. Tenedlo en cuenta a la hora de ir componiendo los tests&hellip;</p>
<h2 id="directorios">Directorios</h2>
<p>Asumamos que nuestro código es <em>legacy</em> y ya teníamos las clases escritas&hellip; Así me ahorro bastante tiempo XD. Ahí va la clase Directorio:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Directorio</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">borrar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span><span class="p">:</span>
            <span class="n">x</span><span class="o">.</span><span class="n">borrar</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">anadir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objeto</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">objeto</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cambiar_permisos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permisos</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span><span class="p">:</span>
            <span class="n">x</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">(</span><span class="n">permisos</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="probando-que-es-gerundio">Probando, que es gerundio</h2>
<h3 id="añadiendo">Añadiendo</h3>
<p>Pues ya tenemos nuestros Directorios, (no) tenemos nuestros Archivos&hellip; ¡¡Vamos a probarlo!! Voy a necesitar una prueba de la que no os he hablado, y es que para probar que borramos, necesitamos añadir. ¿Estará funcionando correctamente este método? (nuevamente recuerdo que los tests deben ir al principio del archivo para que <em>nose</em> funcione):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">pyDoubles.framework</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">class</span> <span class="nc">testSeBorrarDirectorios</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_probamos_que_anadimos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">archivo</span> <span class="o">=</span> <span class="n">stub</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
        <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>

        <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span> <span class="p">(</span><span class="n">archivo</span> <span class="ow">in</span> <span class="n">sut</span><span class="o">.</span><span class="n">contenido</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>¿Qué ha ocurrido aquí? ¿Qué es todo eso?</p>
<p>Bueno, es más sencillo de lo que parece. Lo que hacemos es usar pyDoubles, y por eso importamos todo lo que hay en el framework. Además, creamos una clase que hereda de <em>TestCase</em> para que se ejecuten las pruebas, y será en esta clase donde meteremos todos los tests.</p>
<p>El primero de los tests crea un archivo que no es un archivo&hellip; Es un &ldquo;<em>stub</em>&rdquo;. ¿Qué es eso?</p>
<p>Un <em>STUB</em> es un objeto que se comporta como el original, pero no es el original. Puede reemplazar un único método o un conjunto de ellos.</p>
<p>Como véis, lo que sea &ldquo;archivo&rdquo; no importa, ya que sólo me importa comprobar que, después, puedo recuperarlo. Técnicamente, y aprovechando la potencia de <em>Python</em> podría haber puesto cualquier cosa, pero usar un objeto pseudo-real es más claro. Si no me creéis, podéis comprobar que es un objeto de tipo Archivo.</p>
<p>Pero veamos el segundo ejemplo, que es más claro.</p>
<h3 id="borrando">Borrando</h3>
<p>En este caso vamos a borrar. Evidentemente, se tratará de un borrado recursivo, ya que si no pierde la gracia.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">test_probamos_que_borramos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">archivo</span> <span class="o">=</span> <span class="n">spy</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
    <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>
    <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

    <span class="n">sut</span><span class="o">.</span><span class="n">borrar</span><span class="p">()</span>

    <span class="n">assert_that_method</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">borrar</span><span class="p">)</span><span class="o">.</span><span class="n">was_called</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>Aquí no he usado un <em>stub</em>, sino un <em>spy</em>, un espía.</p>
<p>Los <em>SPY</em> o <em>spies</em> son dobles de prueba como los <em>stub</em>, solo que tienen post-condiciones. Es decir: se crean, se usan y después se comprueba que se usaron correctamente.</p>
<p>Precisamente por eso está la comprobación final, en la que compruebo que el método &ldquo;<em>borrar</em>&rdquo; del objeto &ldquo;<em>archivo</em>&rdquo; se llamó. ¿Qué hizo? Pues nada, porque era un objeto de coña :D</p>
<p>Una de las grandes ventajas de pyDoubles es lo semántico que resulta su uso. ¡¡Casi se puede leer!!</p>
<h3 id="cambiando-permisos">Cambiando permisos</h3>
<p>Ahora vamos con la segunda parte: comprobar que el cambio de permisos es recursivo. Es igual que el borrado, con la diferencia de que tenemos que pasar un parámetro:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">test_cambiar_permisos_llama_con_valores_adecuados</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">archivo</span> <span class="o">=</span> <span class="n">spy</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
    <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>
    <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

    <span class="n">sut</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>

    <span class="n">assert_that_method</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">)</span><span class="o">.</span><span class="n">was_called</span><span class="p">()</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>
    <span class="n">assert_that_method</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">borrar</span><span class="p">)</span><span class="o">.</span><span class="n">was_never_called</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>Como podemos observar, en este caso hemos vuelto a utilizar un espía. Aquí comprobamos que el método se llamó con los permisos indicados, y también que el método borrar no se llamó nunca. Esto no es ni necesario, pero lo he puesto por mostrar más capacidades de pyDoubles.</p>
<p>Lo mismo se podría hacer de otra manera ligeramente diferente:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">test_cambiar_permisos_con_mock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">archivo</span> <span class="o">=</span> <span class="n">mock</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
    <span class="n">expect_call</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>
    <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>
    <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

    <span class="n">sut</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>

    <span class="n">archivo</span><span class="o">.</span><span class="n">assert_that_is_satisfied</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>Aquí he utilizado un <em>mock</em>. Un <em>mock</em> es un <em>stub</em> con precondiciones. Es decir: primero digo lo que va a pasar, ejecuto, y compruebo que ha pasado.</p>
<p>Tan solo nos quedaría ver los &ldquo;<em>proxyspy</em>&rdquo;, que son espías que llaman al objeto real.</p>
<h3 id="todo-junto">Todo junto</h3>
<p>Aquí tenéis todo el código de un tirón:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">pyDoubles.framework</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">class</span> <span class="nc">testSeBorrarDirectorios</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_probamos_que_anadimos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">archivo</span> <span class="o">=</span> <span class="n">stub</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
        <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>

        <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span> <span class="p">(</span><span class="n">archivo</span> <span class="ow">in</span> <span class="n">sut</span><span class="o">.</span><span class="n">contenido</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_probamos_que_borramos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">archivo</span> <span class="o">=</span> <span class="n">spy</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
        <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>
        <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

        <span class="n">sut</span><span class="o">.</span><span class="n">borrar</span><span class="p">()</span>

        <span class="n">assert_that_method</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">borrar</span><span class="p">)</span><span class="o">.</span><span class="n">was_called</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_cambiar_permisos_llama_con_valores_adecuados</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">archivo</span> <span class="o">=</span> <span class="n">spy</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
        <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>
        <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

        <span class="n">sut</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>

        <span class="n">assert_that_method</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">)</span><span class="o">.</span><span class="n">was_called</span><span class="p">()</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>
        <span class="n">assert_that_method</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">borrar</span><span class="p">)</span><span class="o">.</span><span class="n">was_never_called</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_cambiar_permisos_con_mock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">archivo</span> <span class="o">=</span> <span class="n">mock</span><span class="p">(</span><span class="n">Archivo</span><span class="p">())</span>
        <span class="n">expect_call</span><span class="p">(</span><span class="n">archivo</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>
        <span class="n">sut</span> <span class="o">=</span> <span class="n">Directorio</span><span class="p">()</span>
        <span class="n">sut</span><span class="o">.</span><span class="n">anadir</span><span class="p">(</span><span class="n">archivo</span><span class="p">)</span>

        <span class="n">sut</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">(</span><span class="mi">0777</span><span class="p">)</span>

        <span class="n">archivo</span><span class="o">.</span><span class="n">assert_that_is_satisfied</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">Archivo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">borrar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&#34;no lo vamos a necesitar&#34;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cambiar_permisos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permisos</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&#34;no lo vamos a necesitar&#34;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Directorio</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">borrar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span><span class="p">:</span>
            <span class="n">x</span><span class="o">.</span><span class="n">borrar</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">anadir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objeto</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">objeto</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cambiar_permisos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permisos</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contenido</span><span class="p">:</span>
            <span class="n">x</span><span class="o">.</span><span class="n">cambiar_permisos</span><span class="p">(</span><span class="n">permisos</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="respuestas-predefinidas">Respuestas predefinidas</h2>
<p>Habrá casos en los que necesitemos una respuesta determinada cuando se llame a un método, de manera que el algoritmo que estamos probando pueda continuar. Para ello podemos &ldquo;prediseñar&rdquo; métodos; ahí van diferentes maneras diferentes de hacerlo:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span> <span class="o">=</span> <span class="n">method_returning</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span> <span class="o">=</span> <span class="n">method_raising</span><span class="p">(</span><span class="ne">NotImplementedError</span><span class="p">)</span>
<span class="n">when</span><span class="p">(</span><span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span><span class="p">)</span><span class="o">.</span><span class="n">then_return</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="n">when</span><span class="p">(</span><span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">then_return</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="cuestión-de-nomenclatura">Cuestión de nomenclatura</h2>
<p>La diferencia entre un <em>stub</em>, <em>mock</em> y <em>spy</em> es puramente teórica. Hay muchos <em>frameworks</em> que los confunden o ignoran. Yo, personalmente, utilizo siempre <em>spies</em>, ya que me parecen más intuitivos, aunque suelo llamarlos <em>mocks</em>, término con el que se suelen denominar globalmente a todos los dobles de prueba.</p>
<p>Hay más dobles de prueba, como los <em>Fake</em>, que son implementaciones completas de una interfaz pero con funcionalidad simplificada (imaginad una clase de acceso a base de datos que siempre devuelve datos fijos, sin acceder realmente). Si lo pensáis, un <em>stub</em> no es más que un <em>fake</em> automático XD. ¡¡Todos están relacionados!!</p>
<p>Así que, resumiendo:</p>
<ul>
<li>Es un <em>stub</em> si no se realizan comprobaciones.</li>
<li>Será un <em>mock</em> si tenemos precondiciones.</li>
<li>Un <em>spy</em> si tenemos postcondiciones.</li>
<li>Un <em>fake</em> si usamos un objeto que implementa la funcionalidad simplificada.</li>
</ul>
<p>Diré una cosa de corazón: llamadlos como queráis, pero no los mezcléis. La mezcla da lugar a métodos más complejos. Podéis usar distintos tipos en distintas pruebas, pero en una misma prueba, no los mezcléis. Y mucho menos con un único objeto.</p>
<h2 id="hamcrest-y-pydoubles">Hamcrest y pyDoubles</h2>
<p>Resulta que escribí el artículo anterior sabiendo lo que me hacía, y que
podemos combinar los <em>matchers</em> de <a href="https://code.google.com/p/hamcrest/" target="_blank" rel="noopener noreffer">Hamcrest</a>  junto a pyDoubles&hellip; ¿Cómo?
Pues, por ejemplo, en el método <code>with_args</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">when</span><span class="p">(</span><span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="n">instance_of</span><span class="p">(</span><span class="n">objeto</span><span class="p">))</span><span class="o">.</span><span class="n">then_return</span><span class="p">(</span><span class="s1">&#39;hola, mundo&#39;</span><span class="p">)</span>
<span class="n">when</span><span class="p">(</span><span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="n">any_of</span><span class="p">(</span><span class="n">starts_with</span><span class="p">(</span><span class="s1">&#39;hola&#39;</span><span class="p">),</span> <span class="n">ends_with</span><span class="p">(</span><span class="s1">&#39;mundo&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">then_return</span><span class="p">(</span><span class="s1">&#39;hola, mundo&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Como véis, hemos usado <code>instance_of</code>, <code>any_of</code>, <code>starts_with</code> y <code>ends_with</code>, que son <em>matchers</em> de <em>Hamcrest</em>.</p>
<h2 id="un-gran-poder-conlleva-una-gran-responsabilidad">Un gran poder conlleva una gran responsabilidad</h2>
<p>&hellip; como le dijo el Tío Ben a Peter Parker :D</p>
<p>Tenemos en nuestras manos una gran herramienta, pero debemos tener en cuenta que debemos usarlo con cuidado, de la misma manera que un mecánico no arregla todas las averías con el mismo martillo.</p>
<p>Hay ciertas reglas básicas que cumplir, con el fin de evitar terminar con pruebas terriblemente complejas o nos metamos en camisas de once varas.</p>
<ul>
<li><em>Nunca &ldquo;<em>mockeéis</em>&rdquo; un objeto que no sea vuestro.</em> De esta manera se evitan <em>mocks</em> interminables de todo <em>Hibernate</em> o cosas incluso peores. Es un fallo habitual en todo novato, y yo no fui la excepción.</li>
<li><em>Realizad <em>mocks</em> precisos</em>. Cuantas menos cosas reemplacéis, más estable será el test (en la terminología típica, &ldquo;los tests serán menos frágiles&rdquo;). Si estáis reemplazando muchos métodos, a lo mejor necesitáis un <em>fake</em>.</li>
</ul>
<h2 id="para-más-información">Para más información</h2>
<p>Podéis visitar <a href="https://www.pydoubles.org/" target="_blank" rel="noopener noreffer">la web de pyDoubles</a> , la de <a href="https://code.google.com/p/hamcrest/" target="_blank" rel="noopener noreffer">Hamcrest</a> , la de <a href="https://readthedocs.org/docs/nose/en/latest/" target="_blank" rel="noopener noreffer">nose</a> , &hellip; O releer mis antiguos posts:</p>
<ul>
<li><a href="https://magmax.org/blog/python-pruebas-1/" rel="">Python: Cómo hacer pruebas(1)</a></li>
<li><a href="https://magmax.org/blog/python-pruebas-2/" rel="">Python: Cómo hacer pruebas(2)</a></li>
<li><a href="https://magmax.org/blog/python-pruebas-3/" rel="">Python: Cómo hacer pruebas(3)</a></li>
<li><a href="https://magmax.org/blog/asegura/" rel="">No comentes: ¡Asegura!</a></li>
<li><a href="https://magmax.org/blog/atheist-no-seas-credulo/" rel="">Atheist: No seas crédulo ¡¡Prueba!!</a></li>
</ul>
<p>No sé si me he dejado algo en el tintero. Tengo la sensación de que sí&hellip; sobre todo en las reglas a cumplir cuando usamos mocks. Toda contribución será bienvenida.</p>
<p>Un saludo!!</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 28 Jan 2021</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Compartir en Twitter" data-sharer="twitter" data-url="https://magmax.org/blog/python-pruebas-4/" data-title="Python: Cómo hacer pruebas 4: pyDoubles" data-hashtags="pydoubles,python testing"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Facebook" data-sharer="facebook" data-url="https://magmax.org/blog/python-pruebas-4/" data-hashtag="pydoubles"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Linkedin" data-sharer="linkedin" data-url="https://magmax.org/blog/python-pruebas-4/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="https://magmax.org/blog/python-pruebas-4/" data-title="Python: Cómo hacer pruebas 4: pyDoubles" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Tumblr" data-sharer="tumblr" data-url="https://magmax.org/blog/python-pruebas-4/" data-title="Python: Cómo hacer pruebas 4: pyDoubles" data-tags="pydoubles,python testing"><i class="fab fa-tumblr fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Reddit" data-sharer="reddit" data-url="https://magmax.org/blog/python-pruebas-4/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Instapaper" data-sharer="instapaper" data-url="https://magmax.org/blog/python-pruebas-4/" data-title="Python: Cómo hacer pruebas 4: pyDoubles" data-description=""><i data-svg-src="/lib/simple-icons/icons/instapaper.min.svg"></i></a><a href="javascript:void(0);" title="Compartir en Digg" data-sharer="digg" data-url="https://magmax.org/blog/python-pruebas-4/"><i class="fab fa-digg fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Blogger" data-sharer="blogger" data-url="https://magmax.org/blog/python-pruebas-4/" data-title="Python: Cómo hacer pruebas 4: pyDoubles" data-description=""><i class="fab fa-blogger fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/pydoubles/">pydoubles</a>,&nbsp;<a href="/tags/python-testing/">python testing</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/python-pruebas-3/" class="prev" rel="prev" title="Python: Cómo hacer pruebas 3: nose y hamcrest"><i class="fas fa-angle-left fa-fw"></i>Python: Cómo hacer pruebas 3: nose y hamcrest</a>
            <a href="/blog/python-tokenizer/" class="next" rel="next" title="Crea tu propio lenguaje de programación con... python">Crea tu propio lenguaje de programación con... python<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.91.2">Hugo</a> | Tema - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Miguel Ángel</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><script type="text/javascript" src="https://magmax.disqus.com/embed.js" defer></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-9308241-3', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-9308241-3" async></script></body>
</html>
