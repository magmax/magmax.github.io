<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Cómo funcionan las cosas | El blog de MagMax</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Saber cómo funciona las cosas es más importante de lo que parece. Al menos, tener una idea general.
Nosotros, los informáticos, necesitamos saber cómo funcionan las herramientas que utilizamos. En ocasiones, ésta es una tarea dura. En otras, muy gratificante.
La semana pasada traduje un artículo, El compilador de Python desde dentro, donde se analizaba a fondo este compilador.
Hay muchas otras cosas que saber. Algunas son genéricas; otras más específicas.">
    <meta name="generator" content="Hugo 0.79.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="Cómo funcionan las cosas" />
<meta property="og:description" content="Saber cómo funciona las cosas es más importante de lo que parece. Al menos, tener una idea general.
Nosotros, los informáticos, necesitamos saber cómo funcionan las herramientas que utilizamos. En ocasiones, ésta es una tarea dura. En otras, muy gratificante.
La semana pasada traduje un artículo, El compilador de Python desde dentro, donde se analizaba a fondo este compilador.
Hay muchas otras cosas que saber. Algunas son genéricas; otras más específicas." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/como-funcionan-las-cosas/" />
<meta property="article:published_time" content="2012-05-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2012-05-23T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta itemprop="name" content="Cómo funcionan las cosas">
<meta itemprop="description" content="Saber cómo funciona las cosas es más importante de lo que parece. Al menos, tener una idea general.
Nosotros, los informáticos, necesitamos saber cómo funcionan las herramientas que utilizamos. En ocasiones, ésta es una tarea dura. En otras, muy gratificante.
La semana pasada traduje un artículo, El compilador de Python desde dentro, donde se analizaba a fondo este compilador.
Hay muchas otras cosas que saber. Algunas son genéricas; otras más específicas.">
<meta itemprop="datePublished" content="2012-05-23T00:00:00+00:00" />
<meta itemprop="dateModified" content="2012-05-23T00:00:00+00:00" />
<meta itemprop="wordCount" content="1311">



<meta itemprop="keywords" content="engineering," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Cómo funcionan las cosas"/>
<meta name="twitter:description" content="Saber cómo funciona las cosas es más importante de lo que parece. Al menos, tener una idea general.
Nosotros, los informáticos, necesitamos saber cómo funcionan las herramientas que utilizamos. En ocasiones, ésta es una tarea dura. En otras, muy gratificante.
La semana pasada traduje un artículo, El compilador de Python desde dentro, donde se analizaba a fondo este compilador.
Hay muchas otras cosas que saber. Algunas son genéricas; otras más específicas."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        El blog de MagMax
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="" title="Inicio page">
              Inicio
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../en" title="English page">
              English
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://magmax.org/blog/como-funcionan-las-cosas/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://magmax.org/blog/como-funcionan-las-cosas/&amp;text=C%c3%b3mo%20funcionan%20las%20cosas" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://magmax.org/blog/como-funcionan-las-cosas/&amp;title=C%c3%b3mo%20funcionan%20las%20cosas" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Cómo funcionan las cosas</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2012-05-23T00:00:00Z">May 23, 2012</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Saber cómo funciona las cosas es más importante de lo que parece. Al menos, tener una idea general.</p>
<p>Nosotros, los informáticos, necesitamos saber cómo funcionan las herramientas que utilizamos. En ocasiones, ésta es una tarea dura. En otras, muy gratificante.</p>
<p>La semana pasada traduje un artículo, <a href="https://magmax.org/blog/python-compiler-internals/">El compilador de Python desde dentro</a>, donde se analizaba a fondo este compilador.</p>
<p>Hay muchas otras cosas que saber. Algunas son genéricas; otras más específicas. Pero sin duda alguna, todas importantes.</p>
<p>Este artículo es una mezcla de algunas de ellas.</p>
<!-- raw HTML omitted -->
<figure>
    <img src="/images/engineering.jpg"
         alt="Ingeniería"/> 
</figure>

<h2 id="te-has-planteado-alguna-vez">¿Te has planteado alguna vez&hellip;?</h2>
<ul>
<li>¿Por qué siempre recorremos las tablas por filas y no por columnas? ¿Habría alguna diferencia?</li>
<li>¿Debería tratar de optimizar mi código? En caso afirmativo, ¿cómo lo hago?</li>
<li>¿Debería implementarme mi propio algoritmo <em>quicksort</em> para ordenar vectores más rápido?</li>
<li>Me han dicho que .Net es la caña, ¿programaré más rápido?</li>
<li>Necesito un canal de comunicaciones, ¿qué puedo usar?</li>
</ul>
<p>Éstas y muchas otras son preguntas habituales en nuestra profesión. Y son mucho más importantes de lo que parecen. La diferencia entre conocer las respuestas y no saber qué responder puede ser la diferencia entre ganar unas décimas de segundos o el éxito y el fracaso.</p>
<p>Vamos a jugar. A continuación iré poniendo las respuestas a esas preguntas, pero me gustaría que las respondierais vosotros mismos. Apuntadlas.</p>
<p>En las secciones siguientes os daré mi contestación. Veréis la respuesta rápida y la larga. Quizá no estéis de acuerdo&hellip; ¡Estupendo! Así podremos discutirlo. Si se os ocurre vuestra propia pregunta, también podemos discutirla :D</p>
<h3 id="recorriendo-tablas-filas-o-columnas">Recorriendo tablas: ¿filas o columnas?</h3>
<p><em>Respuesta rápida:</em> por filas es mucho más rápido.</p>
<p>Aunque la pregunta parece fácil, realmente es una de las más complejas de las que he planteado. Para saber la respuesta, será necesario saber un poquitín de arquitectura de computadores.</p>
<p>La lectura de disco es lenta. Así que los sistemas operativos tratan de optimizar esta lectura mediante <em>cachés</em> de bloques con tamaño fijo. Por esa razón, aunque quieras leer un byte, el sistema leerá un bloque completo (el tamaño dependerá de muchas cosas). Así, si lees el siguiente, ya se encuentra en la <em>caché</em> y no tiene que ir a disco, resultando mucho más rápido. Cuando un bloque lleva bastante tiempo sin usarse, se elimina de esa <em>caché</em>.</p>
<p>Si leemos un vector por filas, muy probablemente el siguiente elemento ya se encuentre en la <em>caché</em>. Si lo leemos por columnas, es mucho menos probable. En este segundo caso, además, si la tabla es muy grande, es posible que cuando cambiemos a la siguiente columna la primera fila ya no se encuentre <em>cacheada</em> y volvamos a tener un fallo de página, resultando desastroso para el rendimiento de nuestro algoritmo.</p>
<p>¿Es así siempre? No.</p>
<p>Puede ocurrir que nuestros objetos sean tan grandes que ocupen justamente un bloque. En este caso nos daría igual usar filas o columnas. Pero mejor no contéis con ello :D</p>
<p>También puede ocurrir que nuestro objetos sean punteros a otros objetos. En este caso también sería más rápido por filas, ya que los punteros serán accesibles más rápido y, con bastante probabilidad, apunten a lugares cercanos (que también quedarían <em>cacheados</em>).</p>
<h3 id="optimizo-el-código">¿Optimizo el código?</h3>
<p><em>Respuesta rápida:</em> ¿Qué es optimizar?</p>
<p>No soy gallego, aunque responda con una pregunta; realmente depende de qué queramos optimizar. Para empezar, se me ocurren 3 opciones:</p>
<ul>
<li>Optimización en velocidad, haciendo que nuestro programa sea más rápido.</li>
<li>Optimización en espacio, para que ocupe menos.</li>
<li>Optimización en legibilidad, de manera que sea más mantenible.</li>
</ul>
<p>Mejorar la velocidad es complejo, salvo que se sepa cómo funciona el compilador. Se pueden echar manos: en algunos lenguajes interpretados como PHP, es mucho más rápido una hash de propiedad-valor que crear un objeto para tal evento. En el caso de la hash, la búsqueda se realizará en C. Si usamos un objeto, las propiedades y funciones se organizan como una hash&hellip;</p>
<p>Mejorar el espacio es aún más complejo. En general, el código es lo que menos ocupará de toda la aplicación, así que&hellip; ¿Es realmente necesario?</p>
<p>Por último, la legibilidad. Es lo que se suele conocer también como
<em>refactorización</em>. Es arriesgada: ¿por qué modificar algo que ya funciona?
Pueden introducirse nuevos errores. Por eso se recomienda utilizar <a href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a>  :D</p>
<p>Cuando mejoramos la legibilidad hacemos que el programa sea más fácil de gestionar y que realizar un cambio resulte más sencillo. Hay muchos detractores de este tipo de acciones, pero no he conocido a nadie que no haya tenido que hacer una refactorización en algún momento.</p>
<p>Hay ocasiones en las que una de estas optimizaciones entra en conflicto con otra. Por ejemplo, en los lenguajes interpretados (PHP, Ruby, Python, Java, &hellip;), un objeto ocupa bastante memoria (en PHP unos 30 bytes como poco; en Python unos 50), y es posible que no ofrezcan más de lo que hace una simple Hash. ¿Por qué no utilizar una hash entonces? Porque dificulta la legibilidad, aunque es posible que sea más rápido.</p>
<p>Hay otra cosa a tener en cuenta: las optimizaciones del compilador. Si el compilador va a hacerlo por nosotros, ¿por qué molestarse? Por eso en C y C++ no resulta interesante realizar optimizaciones de espacio o velocidad: el compilador, seguramente, lo hará mejor que nosotros. En lenguajes interpretados (Java, Python, Ruby, PHP,&hellip;) esta optimización <em>no existe</em>, así que más vale que dediquemos un poco de tiempo a pensar en ella :D</p>
<h3 id="reimplementar-quicksort">¿Reimplementar QuickSort?</h3>
<p><em>Respuesta rápida:</em> No.</p>
<p>Por muy listo que seas, probablemente el algoritmo de tu lenguaje sea más rápido, esté más optimizado, más revisado o, simplemente, no puedes hacer algo más rápido.</p>
<p>Si estás en C o C++, los algoritmos de ordenación llevan probándose más de 20 años. Con optimizaciones constantes.</p>
<p>Por el contrario, si estás en un lenguaje interpretado, simplemente <em>no puedes</em> hacer algo mejor. Tu implementación será interpretada y, por mucho que lo intentes, más lenta que la existente en el lenguaje nativo, ya que es probable que esté escrita en C.</p>
<h3 id="cambiar-de-lenguaje-me-hará-más-rápido">¿Cambiar de lenguaje me hará más rápido?</h3>
<p><em>Respuesta rápida:</em> No.</p>
<p>Si ya sabes manejar un lenguaje, ¿te hará más rápido otro? No, ya que necesitas mucho tiempo para aprender a usarlo. No me refiero a las estructuras básicas; éstas son fáciles. Me refiero a conocer el compilador, saber qué optimizaciones son fáciles y debes usar, saber elegir una función sobre otra parecida porque es más rápida, &hellip; Este tipo de aprendizaje.</p>
<p>Sin embargo, cambiar de lenguaje puede darte <em>perspectiva</em>, conocer nuevos paradigmas puede ser interesante cuando vas a tratar de atacar un nuevo problema.</p>
<p>Además, cada lenguaje tiene distintas construcciones y distintas maneras de implementar sus patrones. Algunos tienen sus propios patrones. Este tipo de actividad siempre es positiva.</p>
<p>Pero tu velocidad no aumentará de la noche a la mañana. Quizá sí que lo haga a la larga, pero no sólo por el hecho de cambiar.</p>
<h3 id="qué-middleware-usar">¿Qué middleware usar?</h3>
<p><em>Respuesta rápida:</em> Usa Rest con HTTP.</p>
<p>Vale, sí: no suele ser la mejor opción, pero siempre digo que es una opción que debe plantearse.</p>
<p>La verdad es que depende. Depende de qué estés haciendo, del tamaño de tus mensajes, de para qué lo quieres.</p>
<p>Si necesitas velocidad de comunicaciones, con mensajes cortos, con respuesta
inmediata, entonces deberías usar un middleware binario, como <a href="https://es.wikipedia.org/wiki/CORBA">CORBA</a> , <a href="https://www.zeroc.com/">ICE</a>  o
<a href="https://thrift.apache.org/">Apache Thrift</a>.</p>
<p>En caso de que busques algo para procesar mensajes grandes, en la que el tiempo
de respuesta no es importante o bien no tienes suficientes recursos para
responder en el momento, entonces estás buscando una cola de mensajes como
<a href="https://www.rabbitmq.com/">RabbitMQ</a> , <a href="https://activemq.apache.org/">Apache Active MQ</a>  o <a href="https://www.zeromq.org/">ZeroMQ</a>.</p>
<p>Si quieres algo genérico, que te permita gran flexibilidad y modificar el protocolo de comunicaciones en el futuro, o necesitas que funcione en cualquier parte con pocos recursos&hellip; Entonces usa HTTP y cúrrate un protocolo Rest.</p>
<h2 id="despedida">Despedida</h2>
<p>Bueno, estas son algunas preguntas que creo que todos nos hemos hecho alguna vez. Espero que os hayan gustado y que, si se os ocurre alguna otra, ¡no dejéis de hacerla! (aquí o a vosotros mismos)</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/engineering" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">engineering</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "magmax" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Relacionado</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/blog/programarsinifs/">Programar sin condicionales</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/no-lo-llames-helper/">No lo llames &#39;util&#39;, llámalo &#39;helper</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/post-agile/">Agile ha muerto. ¡Viva post-agile!</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/estadistica/">Estadística</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/mercurial-subversion/">Sistemas de Control de Versiones (Subversion y Mercurial)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/constructores-simples/">Constructores simples</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/arboles-grafos/">Repasando: Árboles y Grafos</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/estatico-vs-dinamico/">Estático vs Dinámico</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/ingenieria/">Ingeniería de software: el nuevo concepto</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/artesania-software/">Artesanía de Software: De qué va todo esto</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://magmax.org/" >
    &copy;  El blog de MagMax 2021 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
