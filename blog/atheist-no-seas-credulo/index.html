<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Atheist, No seas crédulo ¡¡Prueba!! - El blog de MagMax</title><meta name="Description" content="El blog de un Ingeniero Informático: tutoriales, manuales, opiniones, comparativas, ..."><meta property="og:title" content="Atheist, No seas crédulo ¡¡Prueba!!" />
<meta property="og:description" content="Hay dos tipos de programadores: los creyentes y los ateos.
Los creyentes se creen tan buenos que no necesitan pruebas. Tienen fe en su forma de escribir código.
Los ateos, necesitan pruebas para poder creer.
Precisamente por esta razón nace Atheist.
  Motivación Ayer, en la reunión de Agile-CR , David Villa nos contó las maravillas de Atheist.
Personalmente, me impresionó bastante.
No es un sistema para hacer pruebas unitarias, aunque permite integrar pruebas unitarias en python, C/C&#43;&#43; o Java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/atheist-no-seas-credulo/" />
<meta property="og:image" content="https://magmax.org/icons/favicon.png"/>
<meta property="article:published_time" content="2011-08-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-28T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://magmax.org/icons/favicon.png"/>

<meta name="twitter:title" content="Atheist, No seas crédulo ¡¡Prueba!!"/>
<meta name="twitter:description" content="Hay dos tipos de programadores: los creyentes y los ateos.
Los creyentes se creen tan buenos que no necesitan pruebas. Tienen fe en su forma de escribir código.
Los ateos, necesitan pruebas para poder creer.
Precisamente por esta razón nace Atheist.
  Motivación Ayer, en la reunión de Agile-CR , David Villa nos contó las maravillas de Atheist.
Personalmente, me impresionó bastante.
No es un sistema para hacer pruebas unitarias, aunque permite integrar pruebas unitarias en python, C/C&#43;&#43; o Java."/>
<meta name="application-name" content="El blog de MagMax">
<meta name="apple-mobile-web-app-title" content="El blog de MagMax"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://magmax.org/blog/atheist-no-seas-credulo/" /><link rel="prev" href="https://magmax.org/blog/migrando/" /><link rel="next" href="https://magmax.org/blog/artesania-software/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Atheist, No seas crédulo ¡¡Prueba!!",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/magmax.org\/blog\/atheist-no-seas-credulo\/"
        },"genre": "posts","keywords": "atheist, testing, test","wordcount":  1301 ,
        "url": "https:\/\/magmax.org\/blog\/atheist-no-seas-credulo\/","datePublished": "2011-08-13T00:00:00+00:00","dateModified": "2021-01-28T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Miguel Ángel"},"author": {
                "@type": "Person",
                "name": "Miguel Ángel"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> Inicio </a><a class="menu-item" href="/tags"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/blog/atheist-no-seas-credulo/" selected>Español</option></select>
                    </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">Inicio</a><a class="menu-item" href="/tags" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/blog/atheist-no-seas-credulo/" selected>Español</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contenido</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Atheist, No seas crédulo ¡¡Prueba!!</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Miguel Ángel</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="13 Aug 2011">13 Aug 2011</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1301 palabras&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;7 minutos&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contenido</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#motivación">Motivación</a></li>
    <li><a href="#primeros-pasos">Primeros pasos</a>
      <ul>
        <li><a href="#probando-ls">Probando &ldquo;ls&rdquo;</a></li>
        <li><a href="#en-rojo">¡En rojo!</a></li>
        <li><a href="#probando-touch">Probando &ldquo;touch&rdquo;</a></li>
      </ul>
    </li>
    <li><a href="#obteniendo-más-información">Obteniendo más información</a>
      <ul>
        <li><a href="#desplegando-siempre">Desplegando siempre</a></li>
      </ul>
    </li>
    <li><a href="#más-información">Más información</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Hay dos tipos de programadores: los creyentes y los ateos.</p>
<p>Los creyentes se <em>creen</em> tan buenos que no necesitan pruebas. Tienen fe en su forma de escribir código.</p>
<p>Los ateos, necesitan <em>pruebas</em> para poder creer.</p>
<p>Precisamente por esta razón nace <a href="https://savannah.nongnu.org/projects/atheist/" target="_blank" rel="noopener noreffer">Atheist</a>.</p>
<!-- raw HTML omitted -->
<figure>
    <img src="/images/test.jpg"
         alt="Testing"/> 
</figure>

<h2 id="motivación">Motivación</h2>
<p>Ayer, en la reunión de <a href="https://groups.google.com/group/agile-cr" target="_blank" rel="noopener noreffer">Agile-CR</a> , <a href="https://arco.esi.uclm.es/~david.villa/" target="_blank" rel="noopener noreffer">David Villa</a>  nos contó las maravillas de Atheist.</p>
<p>Personalmente, me impresionó bastante.</p>
<p>No es un sistema para hacer pruebas unitarias, aunque permite integrar pruebas unitarias en python, C/C++ o Java. Es un sistema para hacer pruebas de sistema.</p>
<p>Algunas de las ventajas que le vi:</p>
<ul>
<li>Permite utilizar toda la potencia de python.</li>
<li>Los informes que genera son simples pero muy visuales.</li>
<li>Permite obtener informes en terminal o generar informes complejos en HTML.</li>
<li>Tiene numerosas opciones y posibilidades.</li>
<li>Permite realizar operaciones realmente complejas, como probar una aplicación cliente-servidor.</li>
<li>Es ampliable mediante plugins.</li>
<li>Se integra con TestUnit.</li>
<li>Se integra con Jenkins/Hudson.</li>
<li>Es paquete Debian y Ubuntu.</li>
</ul>
<p>Lo malo que tiene es la documentación, que está desactualizada :D</p>
<p>Veamos un par de ejemplos, de manera que podamos aprender un poco de Atheist.</p>
<h2 id="primeros-pasos">Primeros pasos</h2>
<h3 id="probando-ls">Probando &ldquo;ls&rdquo;</h3>
<p>Vamos a probar la orden &ldquo;ls&rdquo;.</p>
<p>Para ello crearemos el archivo &ldquo;ls.test&rdquo;, que será un archivo python:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">(</span><span class="s1">&#39;ls /&#39;</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">post</span> <span class="o">+=</span> <span class="n">StdOutContains</span><span class="p">(</span><span class="s1">&#39;lost+found&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Y lo probamos:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ atheist ls.test
<span class="o">[</span> OK <span class="o">]</span> TaskCase: ./ls.test
<span class="o">[</span>  ALL OK!  <span class="o">]</span> - 0.33s - <span class="m">1</span> tests - <span class="m">1</span> tasks
</code></pre></td></tr></table>
</div>
</div><p>(en la consola tiene colorines, pero prefiero dejarlo así que estar poniendo imágenes).</p>
<p>¿Qué ha ocurrido aquí?</p>
<p>Para empezar, hemos creado un test, que ejecutará la orden &ldquo;ls /&rdquo;. Después hemos añadido una post-condición, que consiste en comprobar que la salida estándar contiene la cadena &ldquo;lost+found&rdquo;.</p>
<h3 id="en-rojo">¡En rojo!</h3>
<p>Vamos a provocar un fallo. Para ello, vamos a tratar de listar /magmax, que es un directorio que, probablemente, no existirá:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">(</span><span class="s1">&#39;ls /&#39;</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">post</span> <span class="o">+=</span> <span class="n">StdOutContains</span><span class="p">(</span><span class="s1">&#39;lost+found&#39;</span><span class="p">)</span>

<span class="n">t2</span> <span class="o">=</span> <span class="n">Test</span> <span class="p">(</span><span class="s1">&#39;ls /magmax&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Ejecutando:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ atheist ls.test
<span class="o">[</span>FAIL<span class="o">]</span> TaskCase: ./ls1.test
<span class="o">[</span> OK <span class="o">]</span> ├─ Test-1  -<span class="o">(</span> 0: 0<span class="o">)</span>  ls /
<span class="o">[</span>FAIL<span class="o">]</span> └─ Test-2  -<span class="o">(</span> 2: 0<span class="o">)</span>  ls /magmax
<span class="o">[</span>    FAIL   <span class="o">]</span> - 0.56s - 1/2 tests
</code></pre></td></tr></table>
</div>
</div><p>Como puede observarse, en este caso nos muestra más información: Entre paréntesis tenemos dos números. Estos números representan el resultado recibido por el programa seguido del esperado. Lo habitual en los programas es que devuelvan un 0 cuando funcionan, pero es probable que queramos comprobar que fallan con un código de error determinado.</p>
<p>Corregiré el ejemplo:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">(</span><span class="s1">&#39;ls /&#39;</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">post</span> <span class="o">+=</span> <span class="n">StdOutContains</span><span class="p">(</span><span class="s1">&#39;lost+found&#39;</span><span class="p">)</span>

<span class="n">t2</span> <span class="o">=</span> <span class="n">Test</span> <span class="p">(</span><span class="s1">&#39;ls /magmax&#39;</span><span class="p">,</span> <span class="n">expected</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Con eso le digo que se espera un código de error 2, es decir, que espero que falle con ese error concreto:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ atheist ls.test
<span class="o">[</span> OK <span class="o">]</span> TaskCase: ./ls1.test
<span class="o">[</span>  ALL OK!  <span class="o">]</span> - 0.56s - <span class="m">2</span> tests - <span class="m">2</span> tasks
</code></pre></td></tr></table>
</div>
</div><p>Y volvemos al verde.</p>
<h3 id="probando-touch">Probando &ldquo;touch&rdquo;</h3>
<p>Ahora vamos a probar la orden &ldquo;touch&rdquo;:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">fname</span> <span class="o">=</span> <span class="s2">&#34;/tmp/magmax&#34;</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">(</span><span class="s2">&#34;touch &#34;</span>  <span class="o">+</span> <span class="n">fname</span> <span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">gen</span> <span class="o">+=</span> <span class="n">fname</span>
<span class="n">t</span><span class="o">.</span><span class="n">pre</span> <span class="o">+=</span> <span class="n">Not</span><span class="p">(</span><span class="n">FileExists</span><span class="p">(</span><span class="n">fname</span><span class="p">))</span>
<span class="n">t</span><span class="o">.</span><span class="n">post</span> <span class="o">+=</span> <span class="n">FileExists</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Y probamos:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ atheist touch.test
<span class="o">[</span> OK <span class="o">]</span> TaskCase: ./touch.test
<span class="o">[</span>  ALL OK!  <span class="o">]</span> - 0.32s - <span class="m">1</span> <span class="nb">test</span> - <span class="m">1</span> task
</code></pre></td></tr></table>
</div>
</div><p>En esta ocasión hemos guardado una cadena con la ruta de un archivo en una variable, y después la hemos utilizado durante el test. Después, avisamos a Atheist que se va a generar un archivo (así lo borrará después del test) y realizamos la precondición de que el archivo no existe. Finalmente, realizamos la comprobación de que el archivo sí existe.</p>
<h2 id="obteniendo-más-información">Obteniendo más información</h2>
<p>Aunque Atheist nos despliega la información de forma automática ante un fallo, es posible que queramos tener más información. Para ello podemos usar las opciones -v, -vv, -vvv y -vvvv, que van mostrando cada vez más información. Con el ejemplo de &ldquo;ls&rdquo;:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ atheist ls.test -vvvv
<span class="o">[</span>DD<span class="o">]</span> Log level is DEBUG
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/FileContainsRE.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;FileContainsRE&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/__init__.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/alias.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;Alias&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/composite.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;CompositeCondition&#39;</span>, <span class="s1">&#39;Or&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/cxxtest.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;CxxTest&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/debianpkg.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;DebPkgBuild&#39;</span>, <span class="s1">&#39;DebPkgInstall&#39;</span>, <span class="s1">&#39;DebPkgInstalled&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/doctest_legacy.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;DocTest&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/imap.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;IMAP&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/inotify-runner.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;INotifyRunner&#39;</span>, <span class="s1">&#39;Plugin&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/jabber-reporter.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;JabberReporter&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/manual-repeat-runner.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;ManualRepeatRunner&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/net.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;OpenPort&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/perf.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;TimeLessThan&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/smtp.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;SMTP&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/smtp-reporter.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;SMTP_Reporter&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/step-runner.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;StepRunner&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/task_management.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;TaskFinished&#39;</span>, <span class="s1">&#39;TaskRunning&#39;</span>, <span class="s1">&#39;TaskTerminator&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/unittest_legacy.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;UnitTestCase&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/until_fail_runner.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;UntilFailRunner&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/webtesting.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;WebTest&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: Loading module <span class="s1">&#39;/usr/lib/pymodules/python2.6/atheist/plugins/xunit_reporter.pyc&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> PluginManager: <span class="o">[</span><span class="s1">&#39;XUnit_Reporter&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> Registered plugins: <span class="o">[</span><span class="s1">&#39;Alias&#39;</span>, <span class="s1">&#39;CompositeCondition&#39;</span>, <span class="s1">&#39;CxxTest&#39;</span>, <span class="s1">&#39;DebPkgBuild&#39;</span>, <span class="s1">&#39;DebPkgInstall&#39;</span>, <span class="s1">&#39;DebPkgInstalled&#39;</span>, <span class="s1">&#39;DocTest&#39;</span>, <span class="s1">&#39;FileContainsRE&#39;</span>, <span class="s1">&#39;IMAP&#39;</span>, <span class="s1">&#39;INotifyRunner&#39;</span>, <span class="s1">&#39;JabberReporter&#39;</span>, <span class="s1">&#39;ManualRepeatRunner&#39;</span>, <span class="s1">&#39;OpenPort&#39;</span>, <span class="s1">&#39;Or&#39;</span>, <span class="s1">&#39;Plugin&#39;</span>, <span class="s1">&#39;SMTP&#39;</span>, <span class="s1">&#39;SMTP_Reporter&#39;</span>, <span class="s1">&#39;StepRunner&#39;</span>, <span class="s1">&#39;TaskFinished&#39;</span>, <span class="s1">&#39;TaskRunning&#39;</span>, <span class="s1">&#39;TaskTerminator&#39;</span>, <span class="s1">&#39;TimeLessThan&#39;</span>, <span class="s1">&#39;UnitTestCase&#39;</span>, <span class="s1">&#39;UntilFailRunner&#39;</span>, <span class="s1">&#39;WebTest&#39;</span>, <span class="s1">&#39;XUnit_Reporter&#39;</span><span class="o">]</span>
<span class="o">[</span>DD<span class="o">]</span> excluding <span class="o">[</span><span class="s1">&#39;.svn&#39;</span>, <span class="s1">&#39;.hg&#39;</span>, <span class="s1">&#39;_setup.test&#39;</span>, <span class="s1">&#39;_teardown.test&#39;</span>, <span class="s1">&#39;_SETUP.test&#39;</span>, <span class="s1">&#39;_TEARDOWN.test&#39;</span><span class="o">]</span>
<span class="o">[</span>II<span class="o">]</span> Using runner: &lt;ThreadPoolRunner&gt;
<span class="o">[</span>DD<span class="o">]</span> loading ./ls1.test
<span class="o">[</span>II<span class="o">]</span> Test <span class="k">case</span> ./ls1.test ---------------------------------------------------------------------------------------------------------------------------------------------
<span class="o">[</span>II<span class="o">]</span> T1: Test<span class="o">(</span><span class="s1">&#39;ls /&#39;</span><span class="o">)</span>
<span class="o">[</span>DD<span class="o">]</span> T1: pre-run
<span class="o">[</span>DD<span class="o">]</span> T1: pre-run &lt;<span class="o">[</span> -- <span class="o">]</span> FileContains <span class="s1">&#39;None&#39;</span> <span class="o">(</span>1<span class="o">)</span> content:<span class="s1">&#39;[&#39;</span>lost+found<span class="s1">&#39;]&#39;</span>&gt;
<span class="o">[</span>II<span class="o">]</span> T1: Pre : &lt;<span class="o">[</span> OK <span class="o">]</span> Not <span class="o">(</span>FileExists <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span>&gt;
<span class="o">[</span>DD<span class="o">]</span> T1: starts <span class="o">(</span>pid: 10199<span class="o">)</span>
<span class="o">[</span>DD<span class="o">]</span> T1: <span class="o">[</span> OK <span class="o">]</span> finish with <span class="m">0</span>
<span class="o">[</span>II<span class="o">]</span> T1: Post: &lt;<span class="o">[</span> OK <span class="o">]</span> FileExists <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span>&gt;
<span class="o">[</span>II<span class="o">]</span> T1: Post: &lt;<span class="o">[</span> OK <span class="o">]</span> FileContains <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span> <span class="o">(</span>1<span class="o">)</span> content:<span class="s1">&#39;[&#39;</span>lost+found<span class="s1">&#39;]&#39;</span>&gt;
<span class="o">[</span>II<span class="o">]</span> T2: Test<span class="o">(</span><span class="s1">&#39;ls /magmax&#39;</span><span class="o">)</span>
<span class="o">[</span>DD<span class="o">]</span> T2: pre-run
<span class="o">[</span>DD<span class="o">]</span> T2: starts <span class="o">(</span>pid: 10200<span class="o">)</span>
<span class="o">[</span>DD<span class="o">]</span> T2: <span class="o">[</span> OK <span class="o">]</span> finish with <span class="m">2</span>
<span class="o">[</span>DD<span class="o">]</span> - removing file <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span>
<span class="o">[</span>DD<span class="o">]</span> ConsoleReporter: sending report to <span class="s1">&#39;console&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> TaskCase: ./ls1.test
<span class="o">[</span> OK <span class="o">]</span> ├─ Test-1  -<span class="o">(</span> 0: 0<span class="o">)</span>  ls /
<span class="o">[</span> OK <span class="o">]</span> │  └─+pre:  Not <span class="o">(</span>FileExists <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> │  ├─+post: FileExists <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> │  └─ post: FileContains <span class="s1">&#39;/tmp/atheist-miguel/10196/T1.out&#39;</span> <span class="o">(</span>1<span class="o">)</span> content:<span class="s1">&#39;[&#39;</span>lost+found<span class="s1">&#39;]&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> └─ Test-2  -<span class="o">(</span> 2: 2<span class="o">)</span>  ls /magmax
<span class="o">[</span>  ALL OK!  <span class="o">]</span> - 0.57s - <span class="m">2</span> tests - <span class="m">2</span> tasks

<span class="o">[</span>DD<span class="o">]</span> - removing directory <span class="s1">&#39;/tmp/atheist-miguel/10196&#39;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="desplegando-siempre">Desplegando siempre</h3>
<p>También es posible que queramos despelgar los tests aunque éstos sean correctos.
Para ello utilizaremos la orden <code>-i#</code>, siendo # el número de niveles que
desplegar:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ atheist ls.test -i5
<span class="o">[</span> OK <span class="o">]</span> TaskCase: ./ls1.test
<span class="o">[</span> OK <span class="o">]</span> ├─ Test-1  -<span class="o">(</span> 0: 0<span class="o">)</span>  ls /
<span class="o">[</span> OK <span class="o">]</span> │  └─+pre:  Not <span class="o">(</span>FileExists <span class="s1">&#39;/tmp/atheist-miguel/10206/T1.out&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> │  ├─+post: FileExists <span class="s1">&#39;/tmp/atheist-miguel/10206/T1.out&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> │  └─ post: FileContains <span class="s1">&#39;/tmp/atheist-miguel/10206/T1.out&#39;</span> <span class="o">(</span>1<span class="o">)</span> content:<span class="s1">&#39;[&#39;</span>lost+found<span class="s1">&#39;]&#39;</span>
<span class="o">[</span> OK <span class="o">]</span> └─ Test-2  -<span class="o">(</span> 2: 2<span class="o">)</span>  ls /magmax
<span class="o">[</span>  ALL OK!  <span class="o">]</span> - 0.56s - <span class="m">2</span> tests - <span class="m">2</span> tasks
</code></pre></td></tr></table>
</div>
</div><p>En este caso se puede apreciar cómo Atheist incluye ciertas pre y post condiciones automáticamente, como la comprobación de que el archivo temporal de la salida de las pruebas no existe.</p>
<h2 id="más-información">Más información</h2>
<p>Para obtener más información, está <a href="https://savannah.nongnu.org/projects/atheist/" target="_blank" rel="noopener noreffer">la página del proyecto.</a></p>
<p>También podéis consultar el <a href="https://arco.esi.uclm.es/~david.villa/atheist/html/" target="_blank" rel="noopener noreffer">manual on-line</a> , aunque os advierto que puede
estar bastante desactualizado. Quizá por eso sea preferible atacar directamente
al <a href="https://arco.esi.uclm.es/svn/public/prj/atheist/" target="_blank" rel="noopener noreffer">código fuente</a>, aunque sólo sean los <a href="https://arco.esi.uclm.es/svn/public/prj/atheist/samples/" target="_blank" rel="noopener noreffer">ejemplos</a>  o <a href="https://arco.esi.uclm.es/svn/public/prj/atheist/test/" target="_blank" rel="noopener noreffer">las propias pruebas
de Atheist</a> , que no dejan de estar hechas en Atheist :D.</p>
<p>Finalmente, avisaros de que existe el <a href="https://packages.debian.org/sid/atheist" target="_blank" rel="noopener noreffer">paquete Debian.</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 28 Jan 2021</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Compartir en Twitter" data-sharer="twitter" data-url="https://magmax.org/blog/atheist-no-seas-credulo/" data-title="Atheist, No seas crédulo ¡¡Prueba!!" data-hashtags="atheist,testing,test"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Facebook" data-sharer="facebook" data-url="https://magmax.org/blog/atheist-no-seas-credulo/" data-hashtag="atheist"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Linkedin" data-sharer="linkedin" data-url="https://magmax.org/blog/atheist-no-seas-credulo/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="https://magmax.org/blog/atheist-no-seas-credulo/" data-title="Atheist, No seas crédulo ¡¡Prueba!!" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Tumblr" data-sharer="tumblr" data-url="https://magmax.org/blog/atheist-no-seas-credulo/" data-title="Atheist, No seas crédulo ¡¡Prueba!!" data-tags="atheist,testing,test"><i class="fab fa-tumblr fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Reddit" data-sharer="reddit" data-url="https://magmax.org/blog/atheist-no-seas-credulo/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Instapaper" data-sharer="instapaper" data-url="https://magmax.org/blog/atheist-no-seas-credulo/" data-title="Atheist, No seas crédulo ¡¡Prueba!!" data-description=""><i data-svg-src="/lib/simple-icons/icons/instapaper.min.svg"></i></a><a href="javascript:void(0);" title="Compartir en Digg" data-sharer="digg" data-url="https://magmax.org/blog/atheist-no-seas-credulo/"><i class="fab fa-digg fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Blogger" data-sharer="blogger" data-url="https://magmax.org/blog/atheist-no-seas-credulo/" data-title="Atheist, No seas crédulo ¡¡Prueba!!" data-description=""><i class="fab fa-blogger fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/atheist/">atheist</a>,&nbsp;<a href="/tags/testing/">testing</a>,&nbsp;<a href="/tags/test/">test</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/migrando/" class="prev" rel="prev" title="Migrando el site: lecciones aprendidas"><i class="fas fa-angle-left fa-fw"></i>Migrando el site: lecciones aprendidas</a>
            <a href="/blog/artesania-software/" class="next" rel="next" title="Artesanía de Software: De qué va todo esto">Artesanía de Software: De qué va todo esto<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.79.1">Hugo</a> | Tema - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Miguel Ángel</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
