<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Kohana: Tutorial 1 - El blog de MagMax</title><meta name="Description" content="El blog de un Ingeniero Informático: tutoriales, manuales, opiniones, comparativas, ..."><meta property="og:title" content="Kohana: Tutorial 1" />
<meta property="og:description" content="Con este artículo comienzo una serie de tutoriales de Kohana.
Kohana es un Framework PHP, es decir: un entorno de trabajo &ldquo;prefabricado&rdquo; que ya nos soluciona algunos de los problemas más típicos de la programación.
Como me gusta avanzar programando, programaremos desde la primera línea. Para ello vamos a tener como objetivo la creación de un &ldquo;ToDoList Manager&rdquo;, es decir: vamos a crear una web que nos permita gestionar tareas." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magmax.org/blog/kohana-tutorial-1/" />
<meta property="og:image" content="https://magmax.org/icons/favicon.png"/>
<meta property="article:published_time" content="2010-12-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-28T00:00:00+00:00" /><meta property="og:site_name" content="El blog de MagMax" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://magmax.org/icons/favicon.png"/>

<meta name="twitter:title" content="Kohana: Tutorial 1"/>
<meta name="twitter:description" content="Con este artículo comienzo una serie de tutoriales de Kohana.
Kohana es un Framework PHP, es decir: un entorno de trabajo &ldquo;prefabricado&rdquo; que ya nos soluciona algunos de los problemas más típicos de la programación.
Como me gusta avanzar programando, programaremos desde la primera línea. Para ello vamos a tener como objetivo la creación de un &ldquo;ToDoList Manager&rdquo;, es decir: vamos a crear una web que nos permita gestionar tareas."/>
<meta name="application-name" content="El blog de MagMax">
<meta name="apple-mobile-web-app-title" content="El blog de MagMax"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://magmax.org/blog/kohana-tutorial-1/" /><link rel="prev" href="https://magmax.org/blog/critica-drupal/" /><link rel="next" href="https://magmax.org/blog/modulo-kohana/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Kohana: Tutorial 1",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/magmax.org\/blog\/kohana-tutorial-1\/"
        },"genre": "posts","keywords": "kohana","wordcount":  1797 ,
        "url": "https:\/\/magmax.org\/blog\/kohana-tutorial-1\/","datePublished": "2010-12-09T00:00:00+00:00","dateModified": "2021-01-28T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Miguel Ángel"},"author": {
                "@type": "Person",
                "name": "Miguel Ángel"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> Inicio </a><a class="menu-item" href="/tags"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/blog/kohana-tutorial-1/" selected>Español</option></select>
                    </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="El blog de MagMax"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/icons/favicon.png"
        data-srcset="/icons/favicon.png, /icons/favicon.png 1.5x, /icons/favicon.png 2x"
        data-sizes="auto"
        alt="/icons/favicon.png"
        title="/icons/favicon.png" />MagMax Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">Inicio</a><a class="menu-item" href="/tags" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Selecciona el lenguage">Español<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/blog/kohana-tutorial-1/" selected>Español</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contenido</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Kohana: Tutorial 1</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Miguel Ángel</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="09 Dec 2010">09 Dec 2010</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1797 palabras&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;9 minutos&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contenido</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#prerrequisitos">Prerrequisitos</a></li>
    <li><a href="#un-poquito-de-teoría">Un poquito de teoría</a></li>
    <li><a href="#configuración">Configuración</a></li>
    <li><a href="#el-modelo">El modelo</a></li>
    <li><a href="#el-controlador">El Controlador</a></li>
    <li><a href="#cosas-importantes">Cosas importantes</a></li>
    <li><a href="#las-vistas">Las vistas</a>
      <ul>
        <li><a href="#headerphp">header.php</a></li>
        <li><a href="#footerphp">footer.php</a></li>
        <li><a href="#task_indexphp">task_index.php</a></li>
      </ul>
    </li>
    <li><a href="#fin">Fin</a></li>
    <li><a href="#referencias">Referencias</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Con este artículo comienzo una serie de tutoriales de Kohana.</p>
<p>Kohana es un Framework PHP, es decir: un entorno de trabajo &ldquo;prefabricado&rdquo; que ya nos soluciona algunos de los problemas más típicos de la programación.</p>
<p>Como me gusta avanzar programando, programaremos desde la primera línea. Para ello vamos a tener como objetivo la creación de un &ldquo;ToDoList Manager&rdquo;, es decir: vamos a crear una web que nos permita gestionar tareas.</p>
<p>En el ejemplo se accederá a base de datos. Debo decir que me ha costado mucho encontrar ejemplos válidos que accedan a base de datos.</p>
<!-- raw HTML omitted -->
<figure>
    <img src="/images/php.png"
         alt="PHP"/> 
</figure>

<h2 id="prerrequisitos">Prerrequisitos</h2>
<p>Voy a utilizar Kohana versión 3.0.8. Seguramente sea compatible con las siguientes.</p>
<h2 id="un-poquito-de-teoría">Un poquito de teoría</h2>
<p>Kohana sigue un patrón Modelo-Vista-Controlador (MVC). Hay mucho escrito sobre este patrón, por lo que no me extenderé demasiado:</p>
<ul>
<li>Modelo: Los datos tal cual se guardan.</li>
<li>Vista: La representación en la pantalla.</li>
<li>Controlador: La lógica de negocio.</li>
</ul>
<h2 id="configuración">Configuración</h2>
<p>Vamos a configurar Kohana. Hemos desplegado el framework y vamos al fichero <code>application/bootstrap.php</code>, en el que vamos a habilitar algunas cosas. No podéis copiar a ciegas; aquí sólo os doy un ejemplo de lo que tengo yo puesto. Tened también en cuenta que no lo pego entero, ya que nos valen la mayor parte de los valores por defecto:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nx">Kohana</span><span class="o">::</span><span class="na">init</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;base_url&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;/~miguel/kohana&#39;</span><span class="p">,</span>
  <span class="s1">&#39;index_file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index.php&#39;</span><span class="p">,</span>
<span class="p">));</span>

<span class="nx">Kohana</span><span class="o">::</span><span class="na">modules</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;database&#39;</span>   <span class="o">=&gt;</span> <span class="nx">MODPATH</span><span class="o">.</span><span class="s1">&#39;database&#39;</span><span class="p">,</span>   <span class="c1">// Database access
</span><span class="c1"></span>  <span class="s1">&#39;orm&#39;</span>        <span class="o">=&gt;</span> <span class="nx">MODPATH</span><span class="o">.</span><span class="s1">&#39;orm&#39;</span><span class="p">,</span>        <span class="c1">// Object Relationship Mapping
</span><span class="c1"></span>  <span class="p">));</span>
<span class="cp">?&gt;</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>Como es sencillo, voy rápido: Le decimos a Kohana dónde está nuestra aplicación
y cuál es el archivo que va a renderizar las cosas. Como véis, yo lo tengo en
<code>/~miguel/kohana</code>. Después habilitamos algunos módulos, que servirán para acceder a base de datos.</p>
<p>Si sois tan pijos como yo y os gustan las URL&rsquo;s limpias, mejor si indicáis el &ldquo;index_file&rdquo; de la manera que se indica arriba y después creáis un <code>.htaccess</code> como el siguiente:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-apacheconf" data-lang="apacheconf"><span class="c"># Turn on URL rewriting</span>
<span class="nb">RewriteEngine</span> <span class="k">On</span>

<span class="c"># Installation directory</span>
<span class="nb">RewriteBase</span> /~miguel/kohana/

<span class="c"># Protect hidden files from being viewed</span>

  <span class="nb">Order</span> Deny,Allow
  <span class="nb">Deny</span> From <span class="k">All</span>


<span class="c"># Protect application and system files from being viewed</span>
<span class="nb">RewriteRule</span> ^(?:application|modules|system)\\b.* index.php/$0 [L]

<span class="c"># Allow any files or directories that exist to be displayed directly</span>
<span class="nb">RewriteCond</span> %{REQUEST_FILENAME} !-f
<span class="nb">RewriteCond</span> %{REQUEST_FILENAME} !-d

<span class="c"># Rewrite all other URLs to index.php/URL</span>
<span class="nb">RewriteRule</span> .* index.php/$0 [PT]
</code></pre></td></tr></table>
</div>
</div><p>Finalmente, configuramos la base de datos en el archivo <code>modules/database/config/database.php</code>. Ya tenéis un patrón y es autoexplicativo. Centraros en &lsquo;default&rsquo; y olvidaros de &lsquo;alternate&rsquo; (o borradlo si queréis).</p>
<h2 id="el-modelo">El modelo</h2>
<p>El modelo es lo que existe en la base de datos, básicamente. Así que comenzamos por crear una base de datos:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="o">`</span><span class="n">tasks</span><span class="o">`</span> <span class="p">(</span>
  <span class="s1">&#39;id&#39;</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="s1">&#39;title&#39;</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="s1">&#39;description&#39;</span> <span class="n">longtext</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="s1">&#39;created&#39;</span> <span class="n">datetime</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="s1">&#39;duedate&#39;</span> <span class="n">datetime</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">),</span>
  <span class="k">UNIQUE</span> <span class="k">KEY</span> <span class="s1">&#39;title&#39;</span> <span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">MyISAM</span> <span class="n">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">17</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>Ahora tenemos que decirle a Kohana que use esta tabla. Para ello basta crear el archivo <code>application/classes/model/task.php</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="nx">defined</span><span class="p">(</span><span class="s2">&#34;SYSPATH&#34;</span><span class="p">)</span> <span class="k">OR</span> <span class="k">die</span><span class="p">(</span><span class="s2">&#34;No Direct Script Access&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nc">Model_Task</span> <span class="k">extends</span> <span class="nx">ORM</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>Bien. Paremos. ¿Para qué queremos un archivo vacío?</p>
<p>Realmente no está vacío. Para empezar, estamos restringiendo el acceso. Todos nuestros archivos PHP salvo las vistas deberían comenzar así, por seguridad. Además, estamos heredando de ORM, y esta clase padre ya nos dará todo lo que necesitamos: accederá a la base de datos y verá qué campos necesitamos aquí.</p>
<p>Personalmente, tanto automatismo no me gusta demasiado y prefiero indicarle qué tabla es la que quiero emplear:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="nx">defined</span><span class="p">(</span><span class="s2">&#34;SYSPATH&#34;</span><span class="p">)</span> <span class="k">OR</span> <span class="k">die</span><span class="p">(</span><span class="s2">&#34;No Direct Script Access&#34;</span><span class="p">);</span>
<span class="k">class</span> <span class="nc">Model_Task</span> <span class="k">extends</span> <span class="nx">ORM</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="nv">$_table_name</span> <span class="o">=</span> <span class="s2">&#34;tasks&#34;</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>Y hemos terminado el modelo. Fácil, ¿no?</p>
<h2 id="el-controlador">El Controlador</h2>
<p>Creamos el archivo <code>application/classes/controller/task.php</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="nx">defined</span><span class="p">(</span><span class="s1">&#39;SYSPATH&#39;</span><span class="p">)</span> <span class="k">OR</span> <span class="k">die</span><span class="p">(</span><span class="s1">&#39;No Direct Script Access&#39;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">Controller_Task</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">Kohana_Request</span> <span class="nv">$request</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$request</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">action_index</span> <span class="p">()</span>
  <span class="p">{</span>
    <span class="nv">$vista</span> <span class="o">=</span> <span class="nx">View</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;task_index&#39;</span><span class="p">);</span>
    <span class="nv">$vista</span><span class="o">-&gt;</span><span class="na">set</span> <span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get_tasklist</span><span class="p">());</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">response</span> <span class="o">=</span> <span class="nv">$vista</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">action_add</span> <span class="p">()</span>
  <span class="p">{</span>
    <span class="nv">$vista</span> <span class="o">=</span> <span class="nx">View</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;task_add&#39;</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">response</span> <span class="o">=</span> <span class="nv">$vista</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nx">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">)</span> <span class="k">OR</span> <span class="o">!</span> <span class="nx">array_key_exists</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$_POST</span><span class="p">))</span>
      <span class="k">return</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">create_task</span> <span class="p">()</span> <span class="p">)</span>
      <span class="nv">$vista</span><span class="o">-&gt;</span><span class="na">set</span> <span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;Task added&#39;</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="nv">$vista</span><span class="o">-&gt;</span><span class="na">set</span> <span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;Error al añadir&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">function</span> <span class="nf">create_task</span> <span class="p">()</span>
  <span class="p">{</span>
    <span class="nv">$newtask</span> <span class="o">=</span> <span class="nx">ORM</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;task&#39;</span><span class="p">);</span>
    <span class="nv">$newtask</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">];</span>
    <span class="nv">$newtask</span><span class="o">-&gt;</span><span class="na">description</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">];</span>
    <span class="nv">$newtask</span><span class="o">-&gt;</span><span class="na">created</span> <span class="o">=</span> <span class="nx">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d %H.%M.%S&#39;</span><span class="p">);</span>
    <span class="nv">$newtask</span><span class="o">-&gt;</span><span class="na">duedate</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getAsDate</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;duedate&#39;</span><span class="p">]);</span>
    <span class="nv">$newtask</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>

    <span class="k">return</span> <span class="nv">$newtask</span><span class="o">-&gt;</span><span class="na">saved</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">function</span> <span class="nf">getAsDate</span> <span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isset</span> <span class="p">(</span><span class="nv">$value</span><span class="p">))</span> <span class="p">{</span>
      <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$value</span><span class="o">.</span><span class="s2">&#34; 00.00.00&#34;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">function</span> <span class="nf">get_tasklist</span> <span class="p">()</span>
  <span class="p">{</span>
    <span class="nv">$tasks</span> <span class="o">=</span> <span class="nx">ORM</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;task&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">find_all</span><span class="p">();</span>

    <span class="nv">$result</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$tasks</span> <span class="k">as</span> <span class="nv">$task</span><span class="p">)</span>
      <span class="nv">$result</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$task</span><span class="p">;</span>

    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">}</span>
<span class="cp">?&gt;</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>Analicemos un poco este código.</p>
<p>Lo primero de todo es la seguridad, por lo que evitamos el acceso directo.</p>
<p>A continuación se crea una clase <code>Controller_Task</code> que hereda de <code>Controller</code>. El nombre de la clase está sujeto a una &ldquo;convención de nombres&rdquo;:https://kohanaframework.org/guide/about.conventions, y heredamos de Controller porque somos un controlador :D</p>
<p>El constructor no tiene mucho misterio: tenemos que implementarlo y llamamos al constructor padre. No tenemos nada más que inicializar, por lo que podemos terminar.</p>
<p>La función <code>action_index</code> es, como el nombre indica, una acción. Será la
acción por defecto que se ejecute cuando alguien realice una solicitud sobre el
controlador. Si simplificamos su código hasta un simple <code>echo 'hola';</code>,
podremos comprobar que todo funciona accediendo a la misma dirección que pusimos
en la configuración, en &lsquo;base_url&rsquo;, seguido del nombre básico del controlador,
es decir, &lsquo;task&rsquo;. En mi caso, la dirección es
<code>https://localhost:/~miguel/kohana/task</code>. Si no habéis activado las URLs
limpias, tendréis que indicar quién debe renderizar esa página, accediendo a
algo como <code>https://localhost:/~miguel/kohana/index.php/task</code>.</p>
<p>Como vemos, la acción <code>action_index</code> crea una vista a partir de una plantilla y la devuelve como respuesta. Veremos más sobre estas vistas en el apartado siguiente.</p>
<p>La acción <code>action_add</code> va a tratar de crear una tarea nueva. Además, voy a reutilizar esta función. Si viene sin datos, sólo mostrará la ventana. Si viene con datos, creará una nueva tarea. Por ello, lo primero que hago es crear la vista que voy a devolver, ya que es común a ambos casos de uso, y después trato de insertarla, guardándome un mensaje en cada caso.</p>
<p>La función <code>create_task</code> es quien realmente crea la tarea. Para ello hace uso del ORM, obteniendo los valores de la variable <code>$_POST</code>. Las fechas tengo que modificarlas a mano para que tengan el formato esperado por mysql (&ldquo;YYYY-MM-DD hh.mm.ss&rdquo;).</p>
<p>La función <code>get_tasklist</code> serializa la lista de tareas para pasársela a la vista.</p>
<h2 id="cosas-importantes">Cosas importantes</h2>
<p>Aquí hay dos cosas importantes: el uso de la base de datos y el paso de parámetros con la vista.</p>
<p>Para usar la base de datos, estamos usando el ORM. Éste está &ldquo;bastante bien documentado&rdquo;:https://kohanaframework.org/guide/api/ORM.</p>
<p>Para obtener datos de la vista, los obtenemos de la variable <code>$_POST</code>, ya que éste ha sido el método que he decido utilizar para el envío de datos (y suele ser el más recomendable). Los nombres de los campos son los que he puesto en la vista y que veremos más adelante.</p>
<p>Para enviar datos a la vista, lo que hago es establecerlos al objeto &ldquo;View&rdquo; con la función &ldquo;set&rdquo;. Esto funcionará como una tabla Hash cuando esté en la vista.</p>
<h2 id="las-vistas">Las vistas</h2>
<p>Antes de entrar en materia, como no me gusta repetirme, crearemos un par de archivos. Todas las vistas deben ir en <code>application/views</code>.</p>
<p>Los dos archivos a crear no tienen mayor misterio y no entraré a describirlos:</p>
<h3 id="headerphp">header.php</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 1.0 Strict//EN&#34; &#34;https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&#34;&gt;</span>

<span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns</span><span class="o">=</span><span class="s">&#34;https://www.w3.org/1999/xhtml&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Vista para Kohana PHP
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;Content-Type&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;text/html; charset=UTF-8&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css&#34;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/css&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
    <span class="nb">Date</span><span class="p">.</span><span class="nx">firstDayOfWeek</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nb">Date</span><span class="p">.</span><span class="nx">format</span> <span class="o">=</span> <span class="s1">&#39;yyyy/mm/dd&#39;</span><span class="p">;</span>
      <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;.date&#34;</span><span class="p">).</span><span class="nx">datepicker</span><span class="p">({</span> <span class="nx">dateFormat</span><span class="o">:</span> <span class="s1">&#39;yy-mm-dd&#39;</span><span class="p">,</span> <span class="nx">firstDay</span><span class="o">:</span> <span class="mi">1</span> <span class="p">});</span>
      <span class="p">});</span>
  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="footerphp">footer.php</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Sí, hago algo de uso de jquery, pero no os asustéis que sólo es para la inserción de fechas. El resto de la aplicación será horrible :-P</p>
<p>Vamos con el índice:</p>
<h3 id="task_indexphp">task_index.php</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">include</span> <span class="s1">&#39;header.php&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="err">
</span><span class="err">
</span><span class="err">&lt;table&gt;
</span><span class="err">  &lt;thead&gt;
</span><span class="err">    &lt;tr&gt;
</span><span class="err">      &lt;th&gt;Title
</span><span class="err">      &lt;th&gt;Creation
</span><span class="err">      &lt;th&gt;Due date
</span><span class="err">      &lt;th&gt;Planned date
</span><span class="err">      &lt;th&gt;Completed
</span><span class="err">    &lt;/tr&gt;
</span><span class="err">  &lt;/thead&gt;
</span><span class="err">  &lt;tbody&gt;
</span><span class="err">  &lt;?php
</span><span class="err">  foreach ($task_list as $task)
</span><span class="err">  {
</span><span class="err">    echo &#34;&#34;;
</span><span class="err">    echo &#39;&#39;.$task-&gt;title.&#34;&#34;;
</span><span class="err">    echo &#34;&#34;.$task-&gt;created.&#34;&#34;;
</span><span class="err">    echo &#34;&#34;.$task-&gt;duedate.&#34;&#34;;
</span><span class="err">    echo &#34;&#34;;
</span><span class="err">  }
</span><span class="err">  ?&gt;
</span><span class="err">  &lt;/tbody&gt;
</span><span class="err">&lt;/table&gt;
</span><span class="err">
</span><span class="err">&lt;?php echo &#34;&#34;.html::anchor(&#34;task/add&#34;,&#34;Add new task&#34;); ?&gt;
</span><span class="err">
</span><span class="err">&lt;?php include &#34;footer.php&#34;; ?&gt;
</span></code></pre></td></tr></table>
</div>
</div><p>Como en la función del controlador &ldquo;action_index&rdquo; insertamos la variable <code>$task_list</code>, ahora podemos recuperarla y recorrerla. De esta manera creamos una vista horrible. Dejo como tarea ponerla bonita, ya que eso no es el tema de este tutorial.</p>
<p>Nos queda poder añadir tareas (<em>task_add.php</em>):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">include</span> <span class="s1">&#39;header.php&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="err">
</span><span class="err">&lt;?php
</span><span class="err">
</span><span class="err">if (isset($message))
</span><span class="err">{
</span><span class="err">  print $message;
</span><span class="err">}
</span><span class="err">
</span><span class="err">print html::anchor(&#39;task&#39;,&#39;List of tasks&#39;);
</span><span class="err">
</span><span class="err">print form::open();
</span><span class="err">print form::label(&#39;title&#39;, &#39;Título&#39;);
</span><span class="err">print form::input(&#39;title&#39;);
</span><span class="err">print form::textarea(&#39;description&#39;);
</span><span class="err">print form::label(&#39;duedate&#39;, &#39;Due Date:&#39;);
</span><span class="err">print form::input(&#39;duedate&#39;, null, array (&#39;class&#39;=&gt;&#39;date&#39;) );
</span><span class="err">print form::submit(&#39;submit&#39;, &#39;Send&#39;);
</span><span class="err">print form::close();
</span><span class="err">?&gt;
</span><span class="err">
</span><span class="err">&lt;?php include &#39;footer.php&#39;; ?&gt;
</span></code></pre></td></tr></table>
</div>
</div><p>En este caso he creado un formulario utilizando las funciones de Kohana. Como véis, los nombres de los campos se corresponden con los que utilicé en la función &ldquo;create_task&rdquo;.</p>
<h2 id="fin">Fin</h2>
<p>Como decían en en 1,2,3&hellip; &ldquo;hasta aquí puedo leer&rdquo;. Como primera aplicación me parece mucho más interesante que el triste &ldquo;hola mundo&rdquo;, ya que tiene todos los componentes de una aplicación real: modelo, vista y controlador (el &ldquo;hola mundo&rdquo; no tiene más que controlador), acceso a bases de datos, etc.</p>
<p>No he entrado con el &ldquo;update_task&rdquo; ya que no es más complicado que el &ldquo;create_task&rdquo;. Lo dejo como ejercicio.</p>
<p>Habrá segunda parte de este tutorial.</p>
<h2 id="referencias">Referencias</h2>
<p>No hay mucha documentación de <a href="https://kohanaframework.org/" target="_blank" rel="noopener noreffer">Kohana</a>. Sin embargo, el <a href="https://kohanaframework.org/guide/tutorials.orm" target="_blank" rel="noopener noreffer">ORM de Kohana</a> sí está bien documentado y no creo que tengáis mayor problema con esa parte. Siempre prefiero utilizar sistemas que me eviten el SQL a mano, ya que éste puede tener &ldquo;sql-injection&rdquo;.</p>
<p>Acordáos de seguir las <a href="https://kohanaframework.org/guide/about.conventions" target="_blank" rel="noopener noreffer">convenciones</a>. También podéis echar un vistazo a otros
tutoriales, como el de <a href="https://www.ajaxman.net/category/kohana" target="_blank" rel="noopener noreffer">Ajaxman</a> o el de
<a href="https://net.tutsplus.com/tutorials/php/kohana-the-swift-php-framework/" target="_blank" rel="noopener noreffer">Christian Gilè</a>, sin
contar los <a href="https://kohanaframework.org/guide/tutorials.helloworld" target="_blank" rel="noopener noreffer">tutoriales de la propia página de Kohana</a>.</p>
<p>Espero que os haya resultado interesante.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 28 Jan 2021</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Compartir en Twitter" data-sharer="twitter" data-url="https://magmax.org/blog/kohana-tutorial-1/" data-title="Kohana: Tutorial 1" data-hashtags="kohana"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Facebook" data-sharer="facebook" data-url="https://magmax.org/blog/kohana-tutorial-1/" data-hashtag="kohana"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Linkedin" data-sharer="linkedin" data-url="https://magmax.org/blog/kohana-tutorial-1/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="https://magmax.org/blog/kohana-tutorial-1/" data-title="Kohana: Tutorial 1" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Tumblr" data-sharer="tumblr" data-url="https://magmax.org/blog/kohana-tutorial-1/" data-title="Kohana: Tutorial 1" data-tags="kohana"><i class="fab fa-tumblr fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Reddit" data-sharer="reddit" data-url="https://magmax.org/blog/kohana-tutorial-1/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Instapaper" data-sharer="instapaper" data-url="https://magmax.org/blog/kohana-tutorial-1/" data-title="Kohana: Tutorial 1" data-description=""><i data-svg-src="/lib/simple-icons/icons/instapaper.min.svg"></i></a><a href="javascript:void(0);" title="Compartir en Digg" data-sharer="digg" data-url="https://magmax.org/blog/kohana-tutorial-1/"><i class="fab fa-digg fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Blogger" data-sharer="blogger" data-url="https://magmax.org/blog/kohana-tutorial-1/" data-title="Kohana: Tutorial 1" data-description=""><i class="fab fa-blogger fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/kohana/">kohana</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/critica-drupal/" class="prev" rel="prev" title="Crítica a Drupal"><i class="fas fa-angle-left fa-fw"></i>Crítica a Drupal</a>
            <a href="/blog/modulo-kohana/" class="next" rel="next" title="Módulo Kohana">Módulo Kohana<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.79.1">Hugo</a> | Tema - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Miguel Ángel</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
