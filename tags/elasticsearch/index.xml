<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>elasticsearch on El blog de MagMax</title>
    <link>http://example.org/tags/elasticsearch/</link>
    <description>Recent content in elasticsearch on El blog de MagMax</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 12 May 2014 00:00:00 +0000</lastBuildDate><atom:link href="http://example.org/tags/elasticsearch/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ElasticSearch y Logstash</title>
      <link>http://example.org/blog/elasticsearch-y-logstash/</link>
      <pubDate>Mon, 12 May 2014 00:00:00 +0000</pubDate>
      
      <guid>http://example.org/blog/elasticsearch-y-logstash/</guid>
      <description>
        
          &lt;p&gt;Se han puesto de moda las bases de datos No-SQL. El tratamiento de datos masivo y el escalado horizontal (&lt;a href=&#34;http://en.wikipedia.org/wiki/Shard_(database_architecture)&#34;&gt;sharding&lt;/a&gt;) están a la orden del día.&lt;/p&gt;
&lt;p&gt;Gestionar granjas de servidores es cada día más común, y cada vez es todo más distribuido.&lt;/p&gt;
&lt;p&gt;Esta distribución dificulta la gestión de logs y trazas: ¿Qué ocurrió para que saltara una excepción, cuando cada paso de la ejecución se realizó en una máquina diferente?&lt;/p&gt;
&lt;p&gt;Es en este escenario en el que surge una solución libre con &lt;a href=&#34;http://logstash.net/&#34;&gt;Logstash&lt;/a&gt; y &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt;.&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;figure&gt;
    &lt;img src=&#34;http://example.org/images/elk.png&#34;
         alt=&#34;Elastic, Logstash y kibana&#34;/&gt; 
&lt;/figure&gt;

&lt;h1 id=&#34;qué-voy-a-contar&#34;&gt;Qué voy a contar&lt;/h1&gt;
&lt;p&gt;No voy a contar cómo configurarlos, ni cómo instalarlos. Este artículo se decidará exclusivamente a contar qué son y para qué sirven.&lt;/p&gt;
&lt;p&gt;Realmente son herramientas sencillas de comprender, pero potentes en su función.&lt;/p&gt;
&lt;h1 id=&#34;elasticsearch&#34;&gt;ElasticSearch&lt;/h1&gt;
&lt;p&gt;Si lo que queremos es manejar cantidades ingentes de información, necesitamos una base de datos. Básicamente, ésa es la función de &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; es una base de datos no-SQL documental, gestionada mediante &lt;a href=&#34;http://lucene.apache.org/core/&#34;&gt;Apache Lucene&lt;/a&gt;. Es, por lo tanto, similar a &lt;a href=&#34;http://www.mongodb.org/&#34;&gt;MongoDB&lt;/a&gt; en cuanto al concepto, pero en este caso el punto fuerte es la indexación frente a guardar documentos muy grandes.&lt;/p&gt;
&lt;p&gt;Su mayor característica es su velocidad: Resulta increíblemente rápida para cualquier operación que deseemos realizar. Además, permite realizar &lt;a href=&#34;http://en.wikipedia.org/wiki/Shard_(database_architecture)&#34;&gt;sharding&lt;/a&gt;, montando varios servidores en &lt;em&gt;cluster&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;No es raro encontrar empresas que utilizan &lt;a href=&#34;http://www.mongodb.org/&#34;&gt;MongoDB&lt;/a&gt; para almacenar información y &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; para su indexado.&lt;/p&gt;
&lt;p&gt;También es útil para almacenar los logs del sistema o aplicación en arquitecturas distribuidas, permitiendo guardar en un único punto el acceso a toda esa información, indexada, facilitando así cualquier tipo de filtro o búsqueda. Para ello, se usa de forma conjunta con &lt;a href=&#34;http://logstash.net/&#34;&gt;Logstash&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&#34;logstash&#34;&gt;Logstash&lt;/h1&gt;
&lt;p&gt;Es un agrupador de información. Permite establecer varios orígenes (TCP, UDP, &lt;a href=&#34;http://www.rsyslog.com/&#34;&gt;rsyslog&lt;/a&gt;, ficheros, bases de datos, &amp;hellip;) y varios destinos (&lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt;, bases de datos, ficheros, &amp;hellip;), realizando transformaciones y filtrados de los datos en el proceso.&lt;/p&gt;
&lt;p&gt;Por poner un ejemplo: Podemos escuchar en un puerto UDP por donde se mandarán datos en formato JSON, filtrar sólo aquéllos que tengan cierto valor en cierto campo y almacenarlos en &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt;. Y todo esto con una configuración sencilla que no ocupará más de 10 líneas.&lt;/p&gt;
&lt;p&gt;Dispone de un &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; embebido, muy útil para realizar pruebas, aunque en producción será más corriente utilizarlo &lt;em&gt;standalone&lt;/em&gt;, por si es necesario escalarlo.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://logstash.net/&#34;&gt;Logstash&lt;/a&gt; en sí mismo ya es una herramienta muy potente: Leer de varios archivos, filtrar por líneas y combinarlos en uno solo o justo lo contrario resulta muy sencillo de gestionar. No es necesario utilizar &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; como &lt;em&gt;backend&lt;/em&gt;, aunque suele ser bastante conveniente.&lt;/p&gt;
&lt;h1 id=&#34;kibana&#34;&gt;Kibana&lt;/h1&gt;
&lt;p&gt;Consiste en una interfaz a &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; muy sencilla. Dado que &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; dispone de una &lt;a href=&#34;http://es.wikipedia.org/wiki/Representational_State_Transfer&#34;&gt;API ReST&lt;/a&gt;, &lt;a href=&#34;http://www.elasticsearch.org/overview/kibana/&#34;&gt;Kibana&lt;/a&gt; consiste en una aplicación web dinámica en JavaScript que nos permite crear &lt;em&gt;dashboards&lt;/em&gt; o realizar búsquedas de una forma muy amigable. También permite generar gráficos.&lt;/p&gt;
&lt;p&gt;Instalarlo es tan secillo como descargárnoslo y configurar un servidor web en ese directorio. Es decir, bastará con ejecutar en el directorio de instalación:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;python -m SimpleHTTPServer
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Por defecto tratará de encontrar una instalación estándar de &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; en la máquina en la que se ejecuta. Además, dispone de un &lt;em&gt;dashboard&lt;/em&gt; preconfigurado para trabajar con &lt;a href=&#34;http://logstash.net/&#34;&gt;Logstash&lt;/a&gt; que resulta muy útil.&lt;/p&gt;
&lt;h1 id=&#34;por-dónde-empezar&#34;&gt;Por dónde empezar&lt;/h1&gt;
&lt;p&gt;¿Cómo abordar todo este potencial? Pues mi consejo es descargarse &lt;a href=&#34;http://logstash.net/&#34;&gt;Logstash&lt;/a&gt; y hacer el &lt;a href=&#34;http://logstash.net/docs/1.4.1/tutorials/getting-started-with-logstash&#34;&gt;tutorial de Logstash&lt;/a&gt;. Una vez comprendido el uso de Logstash y visto lo sencillo que resulta configurarlo, es posible abordar &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt;. Finalmente, &lt;a href=&#34;http://www.elasticsearch.org/overview/kibana/&#34;&gt;Kibana&lt;/a&gt; nos permitirá ponerlo todo más bonito y accesible.&lt;/p&gt;
&lt;p&gt;Para comenzar se pueden utilizar las instancias embebidas de &lt;a href=&#34;http://www.elasticsearch.org/&#34;&gt;ElasticSearch&lt;/a&gt; y &lt;a href=&#34;http://www.elasticsearch.org/overview/kibana/&#34;&gt;Kibana&lt;/a&gt;, aunque es posible que en producción nos interese tenerlo separado por razones de rendimiento y/o &lt;a href=&#34;http://en.wikipedia.org/wiki/Shard_(database_architecture)&#34;&gt;sharding&lt;/a&gt;&lt;/p&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
