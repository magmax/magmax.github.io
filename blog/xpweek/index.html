<!DOCTYPE html>
<html prefix="
og: https://ogp.me/ns#
article: https://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Cache-Control" content="max-age=43200">
<meta http-equiv="ETag" content="b'1566322fc0722093b12eca5f1e9215a3ab6698c5'">
<title>Lecciones aprendidas en la XPWeek | MagMax Blog</title>
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="/assets/css/code.css" rel="stylesheet" type="text/css">
<link href="/assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="/assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="/assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/magmax">
<link rel="canonical" href="http://magmax.org/blog/xpweek/">
<link rel="icon" href="/favicon_330.png" sizes="330x330">
<link rel="icon" href="/favicon.ico" sizes="16x16">
<link rel="icon" href="/favicon.png" sizes="128x128">
<meta name="author" content="Miguel Ángel García">
<link rel="prev" href="/blog/python-pruebas-1/" title="Python: Cómo hacer pruebas 1: doctest" type="text/html">
<link rel="next" href="/blog/python-pruebas-2/" title="Python: Cómo hacer pruebas 2: unittest" type="text/html">
<meta property="og:site_name" content="MagMax Blog">
<meta property="og:title" content="Lecciones aprendidas en la XPWeek">
<meta property="og:url" content="http://magmax.org/blog/xpweek/">
<meta property="og:description" content="Como bien ha indicado Carlos Blé , resulta interesante realizar una retrospectiva ahora que se ha terminado la XPWeek .
Aún no he visto las conclusiones de Carlos Blé, porque quiero sacar las mías pro">
<meta property="og:type" content="article">
<meta property="article:author" content="Miguel Ángel García">
<meta property="article:published_time" content="2011-09-26T00:00:00+00:00">
<meta property="article:updated" content="2011-09-26T00:00:00">
<meta property="article:tag" content="retrospective">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@magmax_en">
<meta name="twitter:creator" content="@magmax">
<meta name="twitter:title" content="MagMax Blog">
<meta name="twitter:description" content="El blog de un Ingeniero Informático: tutoriales, manuales, opiniones, comparativas, ...">
<meta name="twitter:url" content="http://magmax.org//blog/xpweek/">
<meta name="twitter:image" content="http://magmax.org/favicon.png">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://magmax.org/">

        <span id="blog-title">MagMax Blog</span>
      </a>
    </div>
<!-- /.navbar-header -->
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
<li>
<a href="/">Inicio</a>
                </li>
<li>
<a href="/archive.html">Archivo</a>
                </li>
<li>
<a href="/categories">Categorías</a>
                </li>
<li>
<a href="/projects">Proyectos</a>
                </li>
<li>
<a href="/news">Posts Externos</a>

        
      </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
<form class="navbar-form navbar-left" role="search" action="http://google.com/search" method="get">
<div class="form-group">
<input type="hidden" name="sitesearch" value="magmax.org"><input type="text" name="q" class="form-control" placeholder="Search / Buscar">
</div>
</form>
</li>

        <li style="margin-left:0">
          <a href="http://feeds.feedburner.com/magmax">
            <img src="/assets/images/rss.png" style="width:22px;height:22px"></a>
        </li>

        
      </ul>
</div>
<!-- /.navbar-collapse -->
  </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
  <div class="body-content">
    <div class="row">
      <div class="page-content col-md-9">
        
        <article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="https://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="/blog/xpweek/" class="u-url">Lecciones aprendidas en la XPWeek</a></h1>
            <div class="metadata text-muted">
              <i class="glyphicon glyphicon-calendar"></i>
              <p class="dateline">
                <time class="published dt-published" datetime="2011-09-26T00:00:00+00:00" title="2011-09-26">2011-09-26</time>
                // <time class="updated dt-updated" datetime="2011-09-26T00:00:00" title="2011-09-26">2011-09-26</time></p>
              <p class="commentline">            <a href="/blog/xpweek/#disqus_thread" data-disqus-identifier="cache/posts/xpweek.html">Comments</a>

</p>
              <address class="vcard author"><a class="url fn" href="https://magmax.org">Miguel Ángel García</a></address>
            </div>
            <br></header><div class="e-content entry-content" itemprop="articleBody text">
            <div>
<p>Como bien ha indicado <a class="reference external" href="http://www.carlosble.com/">Carlos Blé</a> , resulta interesante realizar una retrospectiva ahora que se ha terminado la <a class="reference external" href="http://xpweek.es/">XPWeek</a> .</p>
<p>Aún no he visto las conclusiones de Carlos Blé, porque quiero sacar las mías propias. Veamos qué surge de aquí:</p>
<!-- TEASER_END -->
<p>La primera lección aprendida es que <em>si necesitas probar una plantilla, lo mejor es pasar las condiciones al código</em>. No se puede probar la plantilla, pero sí el código. De esta manera, <em>se pueden sustituir las condiciones de la plantilla por herencia</em>, y elegir el tipo de plantilla a utilizar desde el código.</p>
<p><em>La herencia debería realizarse en positivo</em>, es decir, que siempre es mejor añadir cosas nuevas que quitar cosas que ya había. Esto lo descubrimos porque la plantilla del usuario no autorizado heredaba de la del usuario autorizado, cuando debería ser justamente al revés. El beneficio es simple: resulta más natural y, por tanto, más fácil de entender.</p>
<p>Algo en lo que nos insistió muchísimo Carlos es en que <em>no debemos **mockear*</em> algo que no es nuestro*. Pero descubrimos que <em>resulta sencillo apropiarse de una funcionalidad mediante una factoría</em>. Por eso creamos una factoría que nos devolvía información de sesión, y que podíamos manipular a nuestro antojo.</p>
<p>Casi sin darnos cuenta, comenzamos un diseño por capas en el que falseábamos la entrada con objetos <em>fake</em> e incluso reales, y mockeábamos la capa siguiente. Es decir, que <em>es preferible utilizar objetos reales en la entrada</em> (salvo alguna operación a modificar, como comprobar si un usuario está autenticado) y <em>mockear la capa siguiente</em> para forzar los test.</p>
<p>Ya que están saliendo los dobles de prueba, aunque ya lo traía aprendido mencionaré aquí que:</p>
<ul class="simple">
<li>Es un <em>stub</em> si tiene precondiciones.</li>
<li>Es un <em>mock</em> si tiene postcondiciones.</li>
<li>Es un <em>spy</em> si no tiene ni pre ni postcondiciones, pero recuerda todo lo que ha pasado. Es una manera de tener un <em>mock</em> o un <em>stub</em> más versátil.</li>
</ul>
<p>Otra lección más consiste en que <em>siempre es mejor utilizar una clase que una tabla Hash</em>. Una tabla <em>Hash</em> siempre será una tabla <em>Hash</em>, mientras que una clase con un modelo anémico puede crecer al incorporar métodos como <tt class="docutils literal">toString</tt>, <tt class="docutils literal">equals</tt>,... y terminar teniendo su propia funcionalidad.</p>
<p>De la misma manera, cuando una función recibe más de 3 parámetros es un buen momento para comenzar a plantearse crear una clase que embeba estos parámetros. <em>Resulta más sencillo añadir parámetros si se han metido en una clase que si se están pasando por parámetros</em>, ya que los parámetros nos invalidan todos los tests mientras que la clase puede tener valores por defecto. Esto resulta especialmente útil con los parámetros que se van a pasar mediante GET o POST, que deberían ser un DTO (<em>Data Transfer Object</em>, ¡si hasta la abreviatura lo dice!).</p>
<p>Además, <em>no es bueno utilizar un objeto de base de datos como DTO</em>, ya que nos impide el crecimiento del DTO hacia algo más útil y nos puede inducir a error. Además, se mezclan capas de una forma un poco extraña.</p>
<p>También aprendí lecciones de XP: <em>cuando tu tiempo está limitado, tienes que ofrecer el máximo posible</em>. No vale quejarse, sino que hay que ser positivo. Además, <em>cuando se trabaja por parejas, las reglas cambian</em>, y hay que evitar interrumpir constatemente al que escribe, y otras reglas igual de interesantes que tengo que pedirle a Carlos. También he aprendido que hay cosas que no pueden <em>emerger</em> del código, pero que <em>siempre que sea posible es recomendable dejar que el código imponga sus propios requisitos</em>. Las propias pruebas nos orientarán en este sentido.</p>
<p>Cuando se comienza un proyecto relámpago, <em>hay que dominar las herramientas de trabajo en grupo</em>. Yo siempre he utilizado Mercurial yo solo, y nunca me había hecho falta compartir mi repositorio local, por lo que las conocía bien pero no lo suficiente.</p>
<p>A parte de todo esto, también hemos aprendido lecciones sobre algunas herramientas. Por ejemplo, con <a class="reference external" href="http://code.google.com/p/hamcrest/">hamcrest</a>  tienes un número de <em>matchers</em> muy interesante; <a class="reference external" href="http://groovy.codehaus.org/">Groovy</a>  es un lenguaje a tener en cuenta, sobre todo cuando programas en Java; JavaScript puede resultar legible y puedes abstraerte de tu <em>framework</em>;...</p>
<p>También algunas lecciones personales, como que <em>hay que llegar al tren 2 minutos antes</em> y que <em>no te cambian un billete cuando el tren ya ha salido.</em> Y que, definitivamente, <em>hay que aprender más javascript</em>. :D</p>
<p>Finalmente, agradecer a todos los participantes el buen rollo existente y a <a class="reference external" href="http://www.carlosble.com/">Carlos</a> , <a class="reference external" href="http://albertovilches.com/">Alberto</a>  y <a class="reference external" href="http://eamodeorubio.wordpress.com/author/eamodeorubio/">Enrique</a>  por sus geniales lecciones.</p>
<p>Para la próxima: <em>¡¡Foto de grupo!!</em></p>
</div>
          </div>
          <br><div>
            <nav><span class="author">
                <span class="glyphicon glyphicon-user"></span> 
                <span>Publicado:Miguel Ángel García</span>
              </span>
               

              
              <span class="dateline">
                <span class="glyphicon glyphicon-calendar"></span> 
                <time class="published dt-published" datetime="2011-09-26T00:00:00+00:00" title="2011-09-26">2011-09-26</time></span>
               
              <span class="tags">
                <span class="glyphicon glyphicon-tags"></span> 
                <a class="label label-primary p-category" href="/categories/retrospective/" rel="tag">retrospective</a>
              </span>
                      <ul class="pager">
<li class="previous">
              <a href="/blog/python-pruebas-1/" rel="prev" title="Python: Cómo hacer pruebas 1: doctest">
                <span class="glyphicon glyphicon-arrow-left"></span>
                Publicación anterior
              </a>
            </li>
            <li class="next">
              <a href="/blog/python-pruebas-2/" rel="next" title="Python: Cómo hacer pruebas 2: unittest">
                Siguiente publicación
                <span class="glyphicon glyphicon-arrow-right"></span>
              </a>
            </li>
        </ul></nav>
</div>
          <section class="comments"><h2>Comentarios</h2>
                            <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="magmax",
            disqus_url="http://magmax.org/blog/xpweek/",
        disqus_title="Lecciones aprendidas en la XPWeek",
        disqus_identifier="cache/posts/xpweek.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


          </section></article><script>var disqus_shortname="magmax";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
      <aside class="sidebar col-md-3"><div>
<section class="panel panel-default"><div class="panel-heading">
    <h3 class="panel-title">Last comments</h3>
  </div>
  <div class="panel-body">
    <div id="disqus_last_comments" class="dsq-widget">
      <script type="text/javascript" src="https://magmax.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=32&amp;excerpt_length=150">
      </script>
</div>
  </div>
</section>
</div>
          <div>
<section class="panel panel-default"><div class="panel-heading">
    <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="panel-body">
    <ul id="gh_repos" class="list-unstyled">
<li class="loading">Status updating…</li>
    </ul>
</div>
  <div class="panel-footer">
    <a href="https://github.com/magmax">@magmax</a> on GitHub
  </div>
</section>
</div>
      </aside>
</div>

    <footer>
      Contents © 2009-2020 <a href="mailto:">Miguel Ángel García</a> 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/es/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;width:80px;height:15px;vertical-align:middle" src="https://i.creativecommons.org/l/by-nc-sa/2.5/es/80x15.png"></a>; Using <a href="/stories/credits/">a lot of free software</a>
      
    </footer>
</div>
</div>




<script data-main="/assets/js/main" src="/assets/js/libs/require/require.min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9308241-3', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
